import{c as qs,u as Gs,a as ge,b as ye,j as i,A as Qs,T as Ks,I as We,d as O,B as X,e as Wo,f as lt,g as yn,L as zr,h as ut,i as Da,k as qn,l as dt,D as Pa,C as xn,G as te,m as _e,n as Se,o as Le,p as xt,_ as je,q as He,s as M,t as wn,v as Xs,w as J,x as $o,y as Be,z as qe,E as Ge,F as de,H as Ue,J as bt,K as bn,M as sn,N as Ca,O as ln,P as St,Q as Zs,R as Js,S as ie,U as Vn,V as yt,W as ei,X as wt,Y as Vt,Z as cn,$ as jt,a0 as P,a1 as ti,a2 as Nt,a3 as ri,a4 as Ho,a5 as ra,a6 as Xe,a7 as ke,a8 as Bo,a9 as zo,aa as Lt,ab as Vr,ac as Nr,ad as Lr,ae as Ke,af as Ze,ag as Gn,ah as ja,ai as ni,aj as Rt,ak as ai,al as Ma,am as Sa,an as Yo,ao as oi,ap as Wr,aq as $r,ar as si,as as ii,at as li,au as Nn,av as ci,aw as ui,ax as di,ay as hi,az as fi,aA as ka,aB as mi,aC as pi,aD as Ta,aE as vi,aF as gi,aG as yi,aH as xi,aI as wi}from"./mui-C_-CMPgj.js";import{f as bi,g as fe,b as Di,a as m,u as na,L as aa,O as Pi,h as Ur,c as oa,N as Ci,B as ji,i as Ia,j as Je}from"./vendor-Cde7IEv4.js";import{r as Mi}from"./charts-DHiTbZne.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();var Kr={},Oa;function Si(){if(Oa)return Kr;Oa=1;var e=bi();return Kr.createRoot=e.createRoot,Kr.hydrateRoot=e.hydrateRoot,Kr}var ki=Si();const Ti=fe(ki),Ii=qs({palette:{mode:"dark",primary:{main:"#00E5FF",contrastText:"#000000"},secondary:{main:"#7C4DFF",contrastText:"#FFFFFF"},background:{default:"#0A1929",paper:"#132F4C"},text:{primary:"#FFFFFF",secondary:"#B2BAC2"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:600,letterSpacing:"-0.02em"},h2:{fontSize:"2rem",fontWeight:600,letterSpacing:"-0.01em"},h3:{fontSize:"1.75rem",fontWeight:600},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}},components:{MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#132F4C",borderRight:"1px solid rgba(255, 255, 255, 0.08)"}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#0A1929",backgroundImage:"none",borderBottom:"1px solid rgba(255, 255, 255, 0.08)"}}},MuiCard:{styleOverrides:{root:{backgroundImage:"none",backgroundColor:"#132F4C",borderRadius:12,border:"1px solid rgba(255, 255, 255, 0.08)"}}},MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:600}}}}});var Gt={},Ln={};const Oi=Di(Gs);var Ea;function xe(){return Ea||(Ea=1,(function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=Oi})(Ln)),Ln}var Ra;function Ei(){if(Ra)return Gt;Ra=1;var e=ge();Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=void 0;var r=e(xe()),t=ye();return Gt.default=(0,r.default)((0,t.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Gt}var Ri=Ei();const _i=fe(Ri);var Qt={},_a;function Ai(){if(_a)return Qt;_a=1;var e=ge();Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=void 0;var r=e(xe()),t=ye();return Qt.default=(0,r.default)((0,t.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),Qt}var Fi=Ai();const Vi=fe(Fi);var Kt={},Aa;function Ni(){if(Aa)return Kt;Aa=1;var e=ge();Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=void 0;var r=e(xe()),t=ye();return Kt.default=(0,r.default)((0,t.jsx)("path",{d:"M11 21h-1l1-7H7.5c-.58 0-.57-.32-.38-.66.19-.34.05-.08.07-.12C8.48 10.94 10.42 7.54 13 3h1l-1 7h3.5c.49 0 .56.33.47.51l-.07.15C12.96 17.55 11 21 11 21"}),"Bolt"),Kt}var Li=Ni();const Wi=fe(Li),$i=({onSidebarOpen:e})=>i.jsx(Qs,{position:"fixed",sx:{zIndex:r=>r.zIndex.drawer+1,boxShadow:"none"},children:i.jsxs(Ks,{children:[i.jsx(We,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:e,sx:{mr:2,display:{lg:"none"}},children:i.jsx(_i,{})}),i.jsx(Wi,{sx:{display:{xs:"none",md:"flex"},mr:1,color:"primary.main"}}),i.jsx(O,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:"flex",alignItems:"center",fontWeight:"bold"},children:"Electricity App"}),i.jsxs(X,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsx(We,{color:"inherit",children:i.jsx(Vi,{})}),i.jsx(We,{sx:{p:0},children:i.jsx(Wo,{alt:"User",src:"/static/images/avatar/2.jpg",sx:{bgcolor:"secondary.main"},children:"DB"})})]})]})});var Xt={},Fa;function Hi(){if(Fa)return Xt;Fa=1;var e=ge();Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var r=e(xe()),t=ye();return Xt.default=(0,r.default)((0,t.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),Xt}var Bi=Hi();const zi=fe(Bi);var Zt={},Va;function Yi(){if(Va)return Zt;Va=1;var e=ge();Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.default=void 0;var r=e(xe()),t=ye();return Zt.default=(0,r.default)((0,t.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),Zt}var Ui=Yi();const qi=fe(Ui);var Jt={},Na;function Gi(){if(Na)return Jt;Na=1;var e=ge();Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=void 0;var r=e(xe()),t=ye();return Jt.default=(0,r.default)((0,t.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Jt}var Qi=Gi();const Ki=fe(Qi);var er={},La;function Xi(){if(La)return er;La=1;var e=ge();Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var r=e(xe()),t=ye();return er.default=(0,r.default)((0,t.jsx)("path",{d:"m14 12-2 2-2-2 2-2zm-2-6 2.12 2.12 2.5-2.5L12 1 7.38 5.62l2.5 2.5zm-6 6 2.12-2.12-2.5-2.5L1 12l4.62 4.62 2.5-2.5zm12 0-2.12 2.12 2.5 2.5L23 12l-4.62-4.62-2.5 2.5zm-6 6-2.12-2.12-2.5 2.5L12 23l4.62-4.62-2.5-2.5z"}),"Api"),er}var Zi=Xi();const Ji=fe(Zi);var tr={},Wa;function el(){if(Wa)return tr;Wa=1;var e=ge();Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var r=e(xe()),t=ye();return tr.default=(0,r.default)((0,t.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96"}),"Cloud"),tr}var tl=el();const un=fe(tl);var rr={},$a;function rl(){if($a)return rr;$a=1;var e=ge();Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0;var r=e(xe()),t=ye();return rr.default=(0,r.default)((0,t.jsx)("path",{d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4zm5.98-1v-3H22V8h-7.01V5L11 9z"}),"CompareArrows"),rr}var nl=rl();const Qn=fe(nl);var nr={},Ha;function al(){if(Ha)return nr;Ha=1;var e=ge();Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var r=e(xe()),t=ye();return nr.default=(0,r.default)((0,t.jsx)("path",{d:"M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"}),"EditNote"),nr}var ol=al();const dn=fe(ol);var ar={},Ba;function sl(){if(Ba)return ar;Ba=1;var e=ge();Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var r=e(xe()),t=ye();return ar.default=(0,r.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),ar}var il=sl();const ll=fe(il);var or={},za;function cl(){if(za)return or;za=1;var e=ge();Object.defineProperty(or,"__esModule",{value:!0}),or.default=void 0;var r=e(xe()),t=ye();return or.default=(0,r.default)((0,t.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),or}var ul=cl();const dl=fe(ul),hl=()=>localStorage.getItem("admin_token"),fl=e=>{e?localStorage.setItem("admin_token",e):localStorage.removeItem("admin_token")},ht=async(e,r={})=>{const t=hl(),a={...r.headers,"Content-Type":"application/json"};t&&(a.Authorization=`Bearer ${t}`);const n=await fetch(e,{...r,headers:a});return(n.status===401||n.status===403)&&console.warn("Authentication failed"),n},Uo=m.createContext(null),ml=({children:e})=>{const[r,t]=m.useState(null),[a,n]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const p=await fetch("/api/auth/verify");if(p.ok){const f=await p.json();t(f.user)}}catch(p){console.error("Session verification failed:",p)}finally{n(!1)}})()},[]);const o=async(d,p)=>{const f=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:p})});if(f.ok){const h=await f.json();return t(h.user),{success:!0,user:h.user}}else return{success:!1,error:(await f.json()).error||"Login failed"}},s=async({email:d,password:p,name:f})=>{try{const h=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:p,name:f})});if(h.ok){const x=await h.json();return t(x.user),{success:!0,user:x.user}}else return{success:!1,error:(await h.json()).error||"Registration failed"}}catch(h){return{success:!1,error:h.message||"Network error"}}},l=async d=>{try{const p=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(p.ok){const f=await p.json();return t(f.user),{success:!0,user:f.user}}else return{success:!1,error:(await p.json()).error||"Update failed"}}catch(p){return{success:!1,error:p.message||"Network error"}}},u=async()=>{try{const d=await fetch("/api/auth/onboarding-status");return d.ok?(await d.json()).onboarding_completed:null}catch{return null}},c=async()=>{await fetch("/api/auth/logout",{method:"POST"}),t(null)};return i.jsx(Uo.Provider,{value:{user:r,loading:a,login:o,register:s,updateProfile:l,checkOnboardingStatus:u,logout:c},children:e})},qr=()=>m.useContext(Uo),pl=[{href:"/",icon:i.jsx(zi,{fontSize:"small"}),title:"Dashboard"},{href:"/analysis",icon:i.jsx(qi,{fontSize:"small"}),title:"Analysis"},{href:"/weather",icon:i.jsx(un,{fontSize:"small"}),title:"Weather"},{href:"/compare",icon:i.jsx(Qn,{fontSize:"small"}),title:"Compare"},{href:"/annotate",icon:i.jsx(dn,{fontSize:"small"}),title:"Annotate"},{href:"/api-demo",icon:i.jsx(Ji,{fontSize:"small"}),title:"API Demo"},{href:"/profile",icon:i.jsx(ll,{fontSize:"small"}),title:"Profile"},{href:"/settings",icon:i.jsx(Ki,{fontSize:"small"}),title:"Settings"}],vl=({open:e,onClose:r})=>{const t=lt(),a=yn(t.breakpoints.up("lg")),n=na(),{logout:o}=qr(),s=i.jsxs(X,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[i.jsx(X,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"center"}}),i.jsx(X,{sx:{flexGrow:1},children:i.jsx(zr,{children:pl.map(l=>{const u=n.pathname===l.href;return i.jsx(ut,{disablePadding:!0,sx:{display:"block",mb:.5},children:i.jsxs(Da,{component:aa,to:l.href,selected:u,onClick:a?void 0:r,sx:{minHeight:48,justifyContent:e?"initial":"center",px:2.5,borderRadius:1,mx:1,"&.Mui-selected":{backgroundColor:"rgba(0, 229, 255, 0.12)",color:"primary.main","&:hover":{backgroundColor:"rgba(0, 229, 255, 0.20)"},"& .MuiListItemIcon-root":{color:"primary.main"}},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)"}},children:[i.jsx(qn,{sx:{minWidth:0,mr:3,justifyContent:"center",color:u?"primary.main":"text.secondary"},children:l.icon}),i.jsx(dt,{primary:l.title,primaryTypographyProps:{fontWeight:u?600:400,fontSize:"0.95rem"}})]})},l.title)})})}),i.jsx(X,{sx:{p:2,borderTop:"1px solid rgba(255, 255, 255, 0.08)"},children:i.jsxs(Da,{onClick:o,sx:{borderRadius:1,color:"error.main","&:hover":{backgroundColor:"rgba(244, 67, 54, 0.08)"}},children:[i.jsx(qn,{sx:{color:"error.main",minWidth:0,mr:3},children:i.jsx(dl,{fontSize:"small"})}),i.jsx(dt,{primary:"Logout",primaryTypographyProps:{fontWeight:500,fontSize:"0.95rem"}})]})})]});return a?i.jsx(Pa,{anchor:"left",open:!0,variant:"permanent",PaperProps:{sx:{backgroundColor:"background.paper",width:280,top:64,height:"calc(100% - 64px)",borderRight:"1px solid rgba(255, 255, 255, 0.08)"}},children:s}):i.jsx(Pa,{anchor:"left",onClose:r,open:e,PaperProps:{sx:{backgroundColor:"background.paper",width:280}},sx:{zIndex:l=>l.zIndex.appBar+100},variant:"temporary",children:s})},gl=({children:e})=>{const[r,t]=m.useState(!1);return i.jsxs(X,{sx:{display:"flex",minHeight:"100vh",overflow:"hidden"},children:[i.jsx($i,{onSidebarOpen:()=>t(!0)}),i.jsx(vl,{onClose:()=>t(!1),open:r}),i.jsx(X,{component:"main",sx:{flexGrow:1,p:3,pt:{xs:10,lg:12},pl:{lg:"280px"},width:"100%",backgroundColor:"background.default",minHeight:"100vh"},children:i.jsx(xn,{maxWidth:"lg",children:e||i.jsx(Pi,{})})})]})};var sr={},Ya;function yl(){if(Ya)return sr;Ya=1;var e=ge();Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=void 0;var r=e(xe()),t=ye();return sr.default=(0,r.default)((0,t.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),sr}var xl=yl();const sa=fe(xl);var ir={},Ua;function wl(){if(Ua)return ir;Ua=1;var e=ge();Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var r=e(xe()),t=ye();return ir.default=(0,r.default)((0,t.jsx)("path",{d:"M14.69 2.21 4.33 11.49c-.64.58-.28 1.65.58 1.73L13 14l-4.85 6.76c-.22.31-.19.74.08 1.01.3.3.77.31 1.08.02l10.36-9.28c.64-.58.28-1.65-.58-1.73L11 10l4.85-6.76c.22-.31.19-.74-.08-1.01-.3-.3-.77-.31-1.08-.02"}),"ElectricBolt"),ir}var bl=wl();const ia=fe(bl);var lr={},qa;function Dl(){if(qa)return lr;qa=1;var e=ge();Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var r=e(xe()),t=ye();return lr.default=(0,r.default)((0,t.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),lr}var Pl=Dl();const Cl=fe(Pl);var cr={},Ga;function jl(){if(Ga)return cr;Ga=1;var e=ge();Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var r=e(xe()),t=ye();return cr.default=(0,r.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),cr}var Ml=jl();const Sl=fe(Ml);var ur={},Qa;function kl(){if(Qa)return ur;Qa=1;var e=ge();Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var r=e(xe()),t=ye();return ur.default=(0,r.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),ur}var Tl=kl();const Il=fe(Tl);var dr={},Ka;function Ol(){if(Ka)return dr;Ka=1;var e=ge();Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=void 0;var r=e(xe()),t=ye();return dr.default=(0,r.default)((0,t.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),dr}var El=Ol();const Rl=fe(El);var hr={},Xa;function _l(){if(Xa)return hr;Xa=1;var e=ge();Object.defineProperty(hr,"__esModule",{value:!0}),hr.default=void 0;var r=e(xe()),t=ye();return hr.default=(0,r.default)((0,t.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),hr}var Al=_l();const Fl=fe(Al);var fr={},Za;function Vl(){if(Za)return fr;Za=1;var e=ge();Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0;var r=e(xe()),t=ye();return fr.default=(0,r.default)((0,t.jsx)("path",{d:"M21.5 14.98c-.02 0-.03 0-.05.01C21.2 13.3 19.76 12 18 12c-1.4 0-2.6.83-3.16 2.02C13.26 14.1 12 15.4 12 17c0 1.66 1.34 3 3 3l6.5-.02c1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5M10 4.26v2.09C7.67 7.18 6 9.39 6 12c0 1.77.78 3.34 2 4.44V14h2v6H4v-2h2.73C5.06 16.54 4 14.4 4 12c0-3.73 2.55-6.85 6-7.74M20 6h-2.73c1.43 1.26 2.41 3.01 2.66 5h-2.02c-.23-1.36-.93-2.55-1.91-3.44V10h-2V4h6z"}),"CloudSync"),fr}var Nl=Vl();const Ll=fe(Nl),Wn=({title:e,status:r,subtitle:t,icon:a,loading:n})=>{const o=()=>{if(n)return"#9e9e9e";switch(r?.toLowerCase()){case"up":case"ok":case"success":return"#4caf50";case"degraded":case"warning":case"partial":return"#ff9800";case"down":case"error":case"failed":return"#f44336";default:return"#9e9e9e"}},s=()=>{if(n)return i.jsx(xt,{size:20,color:"inherit"});switch(r?.toLowerCase()){case"up":case"ok":case"success":return i.jsx(Sl,{});case"degraded":case"warning":case"partial":return i.jsx(Rl,{});case"down":case"error":case"failed":return i.jsx(Il,{});default:return null}},l=o();return i.jsxs(_e,{sx:{height:"100%",position:"relative",overflow:"hidden"},children:[i.jsx(X,{sx:{position:"absolute",top:0,left:0,width:"4px",height:"100%",bgcolor:l}}),i.jsxs(Le,{children:[i.jsxs(X,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[i.jsx(X,{sx:{p:1,borderRadius:2,bgcolor:`${l}15`,color:l,display:"flex"},children:a}),i.jsx(X,{sx:{color:l,display:"flex"},children:s()})]}),i.jsx(O,{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:.5},children:n?"---":r?.toUpperCase()||"UNKNOWN"}),i.jsx(O,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:"bold"},children:e}),i.jsx(O,{variant:"body2",sx:{color:"text.secondary",mt:1,minHeight:"3em"},children:n?"Fetching status...":t})]})]})},Wl=()=>{const e=Ur(),[r,t]=m.useState(null),[a,n]=m.useState(!0);m.useEffect(()=>{const l=async()=>{try{const d=await(await fetch("/api/health")).json();t(d)}catch(c){console.error("Failed to fetch health:",c)}finally{n(!1)}};l();const u=setInterval(l,3e4);return()=>clearInterval(u)},[]);const o=()=>{if(!r?.sync)return"No sync data available";if(!r.sync.lastRun)return"Never synced";const l=new Date(r.sync.lastRun),c=Math.abs(new Date-l)/36e5;let d=l.toLocaleString("en-GB",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return c>48?`Last sync was ${d} (Outdated)`:c>24?`Last sync was ${d} (Delayed)`:`Last sync: ${d} (${r.sync.recordsSynced||0} records)`},s=()=>{if(!r?.sync?.lastRun)return"warning";if(r.sync.lastStatus==="error")return"error";const l=new Date(r.sync.lastRun),c=Math.abs(new Date-l)/36e5;return c>48?"error":c>24?"warning":"success"};return i.jsxs(X,{children:[i.jsxs(X,{sx:{mb:4},children:[i.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Dashboard"}),i.jsx(O,{variant:"body1",color:"text.secondary",children:"System health and performance overview."})]}),i.jsxs(te,{container:!0,spacing:3,sx:{mb:4},children:[i.jsx(te,{item:!0,xs:12,sm:6,md:4,children:i.jsx(Wn,{title:"API BACKEND",status:r?.components?.api?.status||(a?null:"error"),subtitle:r?.environment?`Environment: ${r.environment}`:"Service unreachable",icon:i.jsx(ia,{}),loading:a})}),i.jsx(te,{item:!0,xs:12,sm:6,md:4,children:i.jsx(Wn,{title:"DATABASE",status:r?.components?.database?.status||(a?null:"error"),subtitle:r?.components?.database?.status==="up"?"PostgreSQL Connection Active":"Database Connection Failed",icon:i.jsx(Fl,{}),loading:a})}),i.jsx(te,{item:!0,xs:12,sm:6,md:4,children:i.jsx(Wn,{title:"DATA SYNC",status:s(),subtitle:o(),icon:i.jsx(Ll,{}),loading:a})})]}),i.jsx(_e,{sx:{p:3,backgroundImage:"linear-gradient(45deg, #132F4C 30%, #0A1929 90%)",borderRadius:3},children:i.jsxs(te,{container:!0,spacing:3,alignItems:"center",children:[i.jsxs(te,{item:!0,xs:12,md:8,children:[i.jsx(O,{variant:"h5",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.light"},children:"Deep Dive Analysis"}),i.jsx(O,{variant:"body1",sx:{color:"rgba(255,255,255,0.7)",mb:3},children:"Explore your historical consumption data with detailed charts and filtering options. Identify trends and optimize your usage across all your properties."}),i.jsx(Se,{variant:"contained",size:"large",endIcon:i.jsx(Cl,{}),onClick:()=>e("/analysis"),sx:{borderRadius:2,px:4},children:"Go to Analysis"})]}),i.jsx(te,{item:!0,xs:12,md:4,sx:{display:"flex",justifyContent:"center"},children:i.jsx(sa,{sx:{fontSize:140,color:"primary.main",opacity:.2}})})]})})]})};var $l=Mi();const _t=fe($l),Hl=["localeText"],Kn=m.createContext(null),Bt=function(r){var t;const{localeText:a}=r,n=je(r,Hl),{utils:o,localeText:s}=(t=m.useContext(Kn))!=null?t:{utils:void 0,localeText:void 0},l=He({props:n,name:"MuiLocalizationProvider"}),{children:u,dateAdapter:c,dateFormats:d,dateLibInstance:p,adapterLocale:f,localeText:h}=l,x=m.useMemo(()=>M({},h,s,a),[h,s,a]),w=m.useMemo(()=>{if(!c)return o||null;const g=new c({locale:f,formats:d,instance:p});if(!g.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return g},[c,f,d,p,o]),b=m.useMemo(()=>w?{minDate:w.date("1900-01-01T00:00:00.000"),maxDate:w.date("2099-12-31T00:00:00.000")}:null,[w]),j=m.useMemo(()=>({utils:w,defaultDates:b,localeText:x}),[b,w,x]);return i.jsx(Kn.Provider,{value:j,children:u})};function De(e){if(e===null||e===!0||e===!1)return NaN;var r=Number(e);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function Y(e,r){if(r.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+r.length+" present")}function G(e){Y(1,arguments);var r=Object.prototype.toString.call(e);return e instanceof Date||wn(e)==="object"&&r==="[object Date]"?new Date(e.getTime()):typeof e=="number"||r==="[object Number]"?new Date(e):((typeof e=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function an(e,r){Y(2,arguments);var t=G(e),a=De(r);return isNaN(a)?new Date(NaN):(a&&t.setDate(t.getDate()+a),t)}function Dn(e,r){Y(2,arguments);var t=G(e).getTime(),a=De(r);return new Date(t+a)}function Bl(e,r){Y(2,arguments);var t=De(r);return Dn(e,t*1e3)}var zl=6e4;function Yl(e,r){Y(2,arguments);var t=De(r);return Dn(e,t*zl)}var Ul=36e5;function ql(e,r){Y(2,arguments);var t=De(r);return Dn(e,t*Ul)}function Gl(e,r){Y(2,arguments);var t=De(r),a=t*7;return an(e,a)}function on(e,r){Y(2,arguments);var t=G(e),a=De(r);if(isNaN(a))return new Date(NaN);if(!a)return t;var n=t.getDate(),o=new Date(t.getTime());o.setMonth(t.getMonth()+a+1,0);var s=o.getDate();return n>=s?o:(t.setFullYear(o.getFullYear(),o.getMonth(),n),t)}function Ja(e,r){Y(2,arguments);var t=De(r);return on(e,t*12)}function Ql(e,r){Y(2,arguments);var t=G(e),a=G(r);return t.getFullYear()-a.getFullYear()}function Hr(e,r){Y(2,arguments);var t=G(e),a=G(r),n=t.getTime()-a.getTime();return n<0?-1:n>0?1:n}function Kl(e,r){Y(2,arguments);var t=G(e),a=G(r),n=Hr(t,a),o=Math.abs(Ql(t,a));t.setFullYear(1584),a.setFullYear(1584);var s=Hr(t,a)===-n,l=n*(o-Number(s));return l===0?0:l}function Xl(e,r){Y(2,arguments);var t=G(e),a=G(r),n=t.getFullYear()-a.getFullYear(),o=t.getMonth()-a.getMonth();return n*12+o}function Xn(e){Y(1,arguments);var r=G(e);return r.setHours(23,59,59,999),r}function Zn(e){Y(1,arguments);var r=G(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function Zl(e){Y(1,arguments);var r=G(e);return Xn(r).getTime()===Zn(r).getTime()}function qo(e,r){Y(2,arguments);var t=G(e),a=G(r),n=Hr(t,a),o=Math.abs(Xl(t,a)),s;if(o<1)s=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-n*o);var l=Hr(t,a)===-n;Zl(G(e))&&o===1&&Hr(e,a)===1&&(l=!1),s=n*(o-Number(l))}return s===0?0:s}var eo={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},Jl="trunc";function Gr(e){return e?eo[e]:eo[Jl]}function ec(e,r,t){Y(2,arguments);var a=qo(e,r)/3;return Gr(void 0)(a)}function hn(e){var r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),e.getTime()-r.getTime()}function Wt(e){Y(1,arguments);var r=G(e);return r.setHours(0,0,0,0),r}var tc=864e5;function rc(e,r){Y(2,arguments);var t=Wt(e),a=Wt(r),n=t.getTime()-hn(t),o=a.getTime()-hn(a);return Math.round((n-o)/tc)}function to(e,r){var t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function Go(e,r){Y(2,arguments);var t=G(e),a=G(r),n=to(t,a),o=Math.abs(rc(t,a));t.setDate(t.getDate()-n*o);var s=+(to(t,a)===-n),l=n*(o-s);return l===0?0:l}function nc(e,r,t){Y(2,arguments);var a=Go(e,r)/7;return Gr(void 0)(a)}var Pn=6e4,Cn=36e5,ac=1e3;function jn(e,r){return Y(2,arguments),G(e).getTime()-G(r).getTime()}function oc(e,r,t){Y(2,arguments);var a=jn(e,r)/Cn;return Gr(void 0)(a)}function sc(e,r,t){Y(2,arguments);var a=jn(e,r)/Pn;return Gr(void 0)(a)}function ic(e,r,t){Y(2,arguments);var a=jn(e,r)/1e3;return Gr(void 0)(a)}function lc(e,r){var t;Y(1,arguments);var a=e||{},n=G(a.start),o=G(a.end),s=o.getTime();if(!(n.getTime()<=s))throw new RangeError("Invalid interval");var l=[],u=n;u.setHours(0,0,0,0);var c=Number((t=void 0)!==null&&t!==void 0?t:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=s;)l.push(G(u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return l}var cc={};function ct(){return cc}function $n(e,r){var t,a,n,o,s,l,u,c;Y(1,arguments);var d=ct(),p=De((t=(a=(n=(o=r?.weekStartsOn)!==null&&o!==void 0?o:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&a!==void 0?a:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&t!==void 0?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=G(e),h=f.getDay(),x=(h<p?-7:0)+6-(h-p);return f.setDate(f.getDate()+x),f.setHours(23,59,59,999),f}function Hn(e){Y(1,arguments);var r=G(e),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function uc(e){return Y(1,arguments),e instanceof Date||wn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Qo(e){if(Y(1,arguments),!uc(e)&&typeof e!="number")return!1;var r=G(e);return!isNaN(Number(r))}function Ko(e,r){Y(2,arguments);var t=De(r);return Dn(e,-t)}var dc=864e5;function hc(e){Y(1,arguments);var r=G(e),t=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var a=r.getTime(),n=t-a;return Math.floor(n/dc)+1}function $t(e){Y(1,arguments);var r=1,t=G(e),a=t.getUTCDay(),n=(a<r?7:0)+a-r;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function Xo(e){Y(1,arguments);var r=G(e),t=r.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(t+1,0,4),a.setUTCHours(0,0,0,0);var n=$t(a),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var s=$t(o);return r.getTime()>=n.getTime()?t+1:r.getTime()>=s.getTime()?t:t-1}function fc(e){Y(1,arguments);var r=Xo(e),t=new Date(0);t.setUTCFullYear(r,0,4),t.setUTCHours(0,0,0,0);var a=$t(t);return a}var mc=6048e5;function Zo(e){Y(1,arguments);var r=G(e),t=$t(r).getTime()-fc(r).getTime();return Math.round(t/mc)+1}function kt(e,r){var t,a,n,o,s,l,u,c;Y(1,arguments);var d=ct(),p=De((t=(a=(n=(o=r?.weekStartsOn)!==null&&o!==void 0?o:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&a!==void 0?a:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&t!==void 0?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=G(e),h=f.getUTCDay(),x=(h<p?7:0)+h-p;return f.setUTCDate(f.getUTCDate()-x),f.setUTCHours(0,0,0,0),f}function la(e,r){var t,a,n,o,s,l,u,c;Y(1,arguments);var d=G(e),p=d.getUTCFullYear(),f=ct(),h=De((t=(a=(n=(o=r?.firstWeekContainsDate)!==null&&o!==void 0?o:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:f.firstWeekContainsDate)!==null&&a!==void 0?a:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(p+1,0,h),x.setUTCHours(0,0,0,0);var w=kt(x,r),b=new Date(0);b.setUTCFullYear(p,0,h),b.setUTCHours(0,0,0,0);var j=kt(b,r);return d.getTime()>=w.getTime()?p+1:d.getTime()>=j.getTime()?p:p-1}function pc(e,r){var t,a,n,o,s,l,u,c;Y(1,arguments);var d=ct(),p=De((t=(a=(n=(o=r?.firstWeekContainsDate)!==null&&o!==void 0?o:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&a!==void 0?a:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=la(e,r),h=new Date(0);h.setUTCFullYear(f,0,p),h.setUTCHours(0,0,0,0);var x=kt(h,r);return x}var vc=6048e5;function Jo(e,r){Y(1,arguments);var t=G(e),a=kt(t,r).getTime()-pc(t,r).getTime();return Math.round(a/vc)+1}function ve(e,r){for(var t=e<0?"-":"",a=Math.abs(e).toString();a.length<r;)a="0"+a;return t+a}var gt={y:function(r,t){var a=r.getUTCFullYear(),n=a>0?a:1-a;return ve(t==="yy"?n%100:n,t.length)},M:function(r,t){var a=r.getUTCMonth();return t==="M"?String(a+1):ve(a+1,2)},d:function(r,t){return ve(r.getUTCDate(),t.length)},a:function(r,t){var a=r.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return a==="am"?"a.m.":"p.m."}},h:function(r,t){return ve(r.getUTCHours()%12||12,t.length)},H:function(r,t){return ve(r.getUTCHours(),t.length)},m:function(r,t){return ve(r.getUTCMinutes(),t.length)},s:function(r,t){return ve(r.getUTCSeconds(),t.length)},S:function(r,t){var a=t.length,n=r.getUTCMilliseconds(),o=Math.floor(n*Math.pow(10,a-3));return ve(o,t.length)}},It={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gc={G:function(r,t,a){var n=r.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});default:return a.era(n,{width:"wide"})}},y:function(r,t,a){if(t==="yo"){var n=r.getUTCFullYear(),o=n>0?n:1-n;return a.ordinalNumber(o,{unit:"year"})}return gt.y(r,t)},Y:function(r,t,a,n){var o=la(r,n),s=o>0?o:1-o;if(t==="YY"){var l=s%100;return ve(l,2)}return t==="Yo"?a.ordinalNumber(s,{unit:"year"}):ve(s,t.length)},R:function(r,t){var a=Xo(r);return ve(a,t.length)},u:function(r,t){var a=r.getUTCFullYear();return ve(a,t.length)},Q:function(r,t,a){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ve(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,t,a){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ve(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,t,a){var n=r.getUTCMonth();switch(t){case"M":case"MM":return gt.M(r,t);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(r,t,a){var n=r.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return ve(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(r,t,a,n){var o=Jo(r,n);return t==="wo"?a.ordinalNumber(o,{unit:"week"}):ve(o,t.length)},I:function(r,t,a){var n=Zo(r);return t==="Io"?a.ordinalNumber(n,{unit:"week"}):ve(n,t.length)},d:function(r,t,a){return t==="do"?a.ordinalNumber(r.getUTCDate(),{unit:"date"}):gt.d(r,t)},D:function(r,t,a){var n=hc(r);return t==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):ve(n,t.length)},E:function(r,t,a){var n=r.getUTCDay();switch(t){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(r,t,a,n){var o=r.getUTCDay(),s=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ve(s,2);case"eo":return a.ordinalNumber(s,{unit:"day"});case"eee":return a.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(o,{width:"short",context:"formatting"});default:return a.day(o,{width:"wide",context:"formatting"})}},c:function(r,t,a,n){var o=r.getUTCDay(),s=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ve(s,t.length);case"co":return a.ordinalNumber(s,{unit:"day"});case"ccc":return a.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(o,{width:"narrow",context:"standalone"});case"cccccc":return a.day(o,{width:"short",context:"standalone"});default:return a.day(o,{width:"wide",context:"standalone"})}},i:function(r,t,a){var n=r.getUTCDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return ve(o,t.length);case"io":return a.ordinalNumber(o,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(r,t,a){var n=r.getUTCHours(),o=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(o,{width:"narrow",context:"formatting"});default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,t,a){var n=r.getUTCHours(),o;switch(n===12?o=It.noon:n===0?o=It.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(o,{width:"narrow",context:"formatting"});default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,t,a){var n=r.getUTCHours(),o;switch(n>=17?o=It.evening:n>=12?o=It.afternoon:n>=4?o=It.morning:o=It.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(o,{width:"narrow",context:"formatting"});default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,t,a){if(t==="ho"){var n=r.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return gt.h(r,t)},H:function(r,t,a){return t==="Ho"?a.ordinalNumber(r.getUTCHours(),{unit:"hour"}):gt.H(r,t)},K:function(r,t,a){var n=r.getUTCHours()%12;return t==="Ko"?a.ordinalNumber(n,{unit:"hour"}):ve(n,t.length)},k:function(r,t,a){var n=r.getUTCHours();return n===0&&(n=24),t==="ko"?a.ordinalNumber(n,{unit:"hour"}):ve(n,t.length)},m:function(r,t,a){return t==="mo"?a.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):gt.m(r,t)},s:function(r,t,a){return t==="so"?a.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):gt.s(r,t)},S:function(r,t){return gt.S(r,t)},X:function(r,t,a,n){var o=n._originalDate||r,s=o.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return no(s);case"XXXX":case"XX":return Ct(s);default:return Ct(s,":")}},x:function(r,t,a,n){var o=n._originalDate||r,s=o.getTimezoneOffset();switch(t){case"x":return no(s);case"xxxx":case"xx":return Ct(s);default:return Ct(s,":")}},O:function(r,t,a,n){var o=n._originalDate||r,s=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ro(s,":");default:return"GMT"+Ct(s,":")}},z:function(r,t,a,n){var o=n._originalDate||r,s=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ro(s,":");default:return"GMT"+Ct(s,":")}},t:function(r,t,a,n){var o=n._originalDate||r,s=Math.floor(o.getTime()/1e3);return ve(s,t.length)},T:function(r,t,a,n){var o=n._originalDate||r,s=o.getTime();return ve(s,t.length)}};function ro(e,r){var t=e>0?"-":"+",a=Math.abs(e),n=Math.floor(a/60),o=a%60;if(o===0)return t+String(n);var s=r;return t+String(n)+s+ve(o,2)}function no(e,r){if(e%60===0){var t=e>0?"-":"+";return t+ve(Math.abs(e)/60,2)}return Ct(e,r)}function Ct(e,r){var t=r||"",a=e>0?"-":"+",n=Math.abs(e),o=ve(Math.floor(n/60),2),s=ve(n%60,2);return a+o+t+s}var ao=function(r,t){switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},es=function(r,t){switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},yc=function(r,t){var a=r.match(/(P+)(p+)?/)||[],n=a[1],o=a[2];if(!o)return ao(r,t);var s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",ao(n,t)).replace("{{time}}",es(o,t))},Jn={p:es,P:yc},xc=["D","DD"],wc=["YY","YYYY"];function ts(e){return xc.indexOf(e)!==-1}function rs(e){return wc.indexOf(e)!==-1}function fn(e,r,t){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var bc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dc=function(r,t,a){var n,o=bc[r];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function Bn(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=r.width?String(r.width):e.defaultWidth,a=e.formats[t]||e.formats[e.defaultWidth];return a}}var Pc={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cc={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jc={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mc={date:Bn({formats:Pc,defaultWidth:"full"}),time:Bn({formats:Cc,defaultWidth:"full"}),dateTime:Bn({formats:jc,defaultWidth:"full"})},Sc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kc=function(r,t,a,n){return Sc[r]};function mr(e){return function(r,t){var a=t!=null&&t.context?String(t.context):"standalone",n;if(a==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=t!=null&&t.width?String(t.width):o;n=e.formattingValues[s]||e.formattingValues[o]}else{var l=e.defaultWidth,u=t!=null&&t.width?String(t.width):e.defaultWidth;n=e.values[u]||e.values[l]}var c=e.argumentCallback?e.argumentCallback(r):r;return n[c]}}var Tc={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ic={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Oc={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ec={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rc={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_c={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ac=function(r,t){var a=Number(r),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Fc={ordinalNumber:Ac,era:mr({values:Tc,defaultWidth:"wide"}),quarter:mr({values:Ic,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:mr({values:Oc,defaultWidth:"wide"}),day:mr({values:Ec,defaultWidth:"wide"}),dayPeriod:mr({values:Rc,defaultWidth:"wide",formattingValues:_c,defaultFormattingWidth:"wide"})};function pr(e){return function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=r.match(n);if(!o)return null;var s=o[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?Nc(l,function(p){return p.test(s)}):Vc(l,function(p){return p.test(s)}),c;c=e.valueCallback?e.valueCallback(u):u,c=t.valueCallback?t.valueCallback(c):c;var d=r.slice(s.length);return{value:c,rest:d}}}function Vc(e,r){for(var t in e)if(e.hasOwnProperty(t)&&r(e[t]))return t}function Nc(e,r){for(var t=0;t<e.length;t++)if(r(e[t]))return t}function Lc(e){return function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.match(e.matchPattern);if(!a)return null;var n=a[0],o=r.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;var l=r.slice(n.length);return{value:s,rest:l}}}var Wc=/^(\d+)(th|st|nd|rd)?/i,$c=/\d+/i,Hc={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bc={any:[/^b/i,/^(a|c)/i]},zc={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yc={any:[/1/i,/2/i,/3/i,/4/i]},Uc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gc={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qc={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zc={ordinalNumber:Lc({matchPattern:Wc,parsePattern:$c,valueCallback:function(r){return parseInt(r,10)}}),era:pr({matchPatterns:Hc,defaultMatchWidth:"wide",parsePatterns:Bc,defaultParseWidth:"any"}),quarter:pr({matchPatterns:zc,defaultMatchWidth:"wide",parsePatterns:Yc,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:pr({matchPatterns:Uc,defaultMatchWidth:"wide",parsePatterns:qc,defaultParseWidth:"any"}),day:pr({matchPatterns:Gc,defaultMatchWidth:"wide",parsePatterns:Qc,defaultParseWidth:"any"}),dayPeriod:pr({matchPatterns:Kc,defaultMatchWidth:"any",parsePatterns:Xc,defaultParseWidth:"any"})},ca={code:"en-US",formatDistance:Dc,formatLong:Mc,formatRelative:kc,localize:Fc,match:Zc,options:{weekStartsOn:0,firstWeekContainsDate:1}},Jc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eu=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tu=/^'([^]*?)'?$/,ru=/''/g,nu=/[a-zA-Z]/;function au(e,r,t){var a,n,o,s,l,u,c,d,p,f,h,x,w,b,j,g,v,D;Y(2,arguments);var C=String(r),E=ct(),S=(a=(n=t?.locale)!==null&&n!==void 0?n:E.locale)!==null&&a!==void 0?a:ca,V=De((o=(s=(l=(u=t?.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(c=t.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&s!==void 0?s:(p=E.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=De((h=(x=(w=(b=t?.weekStartsOn)!==null&&b!==void 0?b:t==null||(j=t.locale)===null||j===void 0||(g=j.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&w!==void 0?w:E.weekStartsOn)!==null&&x!==void 0?x:(v=E.locale)===null||v===void 0||(D=v.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&h!==void 0?h:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var W=G(e);if(!Qo(W))throw new RangeError("Invalid time value");var $=hn(W),H=Ko(W,$),U={firstWeekContainsDate:V,weekStartsOn:T,locale:S,_originalDate:W},I=C.match(eu).map(function(y){var F=y[0];if(F==="p"||F==="P"){var B=Jn[F];return B(y,S.formatLong)}return y}).join("").match(Jc).map(function(y){if(y==="''")return"'";var F=y[0];if(F==="'")return ou(y);var B=gc[F];if(B)return!(t!=null&&t.useAdditionalWeekYearTokens)&&rs(y)&&fn(y,r,String(e)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&ts(y)&&fn(y,r,String(e)),B(H,y,S.localize,U);if(F.match(nu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return y}).join("");return I}function ou(e){var r=e.match(tu);return r?r[1].replace(ru,"'"):e}function su(e){Y(1,arguments);var r=G(e),t=r.getDate();return t}function ns(e){Y(1,arguments);var r=G(e),t=r.getFullYear(),a=r.getMonth(),n=new Date(0);return n.setFullYear(t,a+1,0),n.setHours(0,0,0,0),n.getDate()}function iu(e){Y(1,arguments);var r=G(e),t=r.getHours();return t}function lu(e){Y(1,arguments);var r=G(e),t=r.getMinutes();return t}function cu(e){Y(1,arguments);var r=G(e),t=r.getMonth();return t}function uu(e){Y(1,arguments);var r=G(e),t=r.getSeconds();return t}function du(e){Y(1,arguments);var r=G(e),t=r.getMilliseconds();return t}function Mt(e,r){var t,a,n,o,s,l,u,c;Y(1,arguments);var d=ct(),p=De((t=(a=(n=(o=r?.weekStartsOn)!==null&&o!==void 0?o:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:d.weekStartsOn)!==null&&a!==void 0?a:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&t!==void 0?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=G(e),h=f.getDay(),x=(h<p?7:0)+h-p;return f.setDate(f.getDate()-x),f.setHours(0,0,0,0),f}function hu(e,r){var t,a,n,o,s,l,u,c;Y(1,arguments);var d=G(e),p=d.getFullYear(),f=ct(),h=De((t=(a=(n=(o=r?.firstWeekContainsDate)!==null&&o!==void 0?o:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:f.firstWeekContainsDate)!==null&&a!==void 0?a:(u=f.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setFullYear(p+1,0,h),x.setHours(0,0,0,0);var w=Mt(x,r),b=new Date(0);b.setFullYear(p,0,h),b.setHours(0,0,0,0);var j=Mt(b,r);return d.getTime()>=w.getTime()?p+1:d.getTime()>=j.getTime()?p:p-1}function fu(e,r){var t,a,n,o,s,l,u,c;Y(1,arguments);var d=ct(),p=De((t=(a=(n=(o=r?.firstWeekContainsDate)!==null&&o!==void 0?o:r==null||(s=r.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:d.firstWeekContainsDate)!==null&&a!==void 0?a:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&t!==void 0?t:1),f=hu(e,r),h=new Date(0);h.setFullYear(f,0,p),h.setHours(0,0,0,0);var x=Mt(h,r);return x}var mu=6048e5;function pu(e,r){Y(1,arguments);var t=G(e),a=Mt(t,r).getTime()-fu(t,r).getTime();return Math.round(a/mu)+1}function vu(e){return Y(1,arguments),G(e).getFullYear()}function zn(e,r){Y(2,arguments);var t=G(e),a=G(r);return t.getTime()>a.getTime()}function vr(e,r){Y(2,arguments);var t=G(e),a=G(r);return t.getTime()<a.getTime()}function gu(e,r){Y(2,arguments);var t=G(e),a=G(r);return t.getTime()===a.getTime()}function yu(e,r){Y(2,arguments);var t=Wt(e),a=Wt(r);return t.getTime()===a.getTime()}function xu(e,r){Y(2,arguments);var t=G(e),a=G(r);return t.getFullYear()===a.getFullYear()}function wu(e,r){Y(2,arguments);var t=G(e),a=G(r);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()}function oo(e){Y(1,arguments);var r=G(e);return r.setMinutes(0,0,0),r}function bu(e,r){Y(2,arguments);var t=oo(e),a=oo(r);return t.getTime()===a.getTime()}function so(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=Array(r);t<r;t++)a[t]=e[t];return a}function Du(e,r){if(e){if(typeof e=="string")return so(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?so(e,r):void 0}}function io(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Du(e))||r){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var c=t.next();return s=c.done,c},e:function(c){l=!0,o=c},f:function(){try{s||t.return==null||t.return()}finally{if(l)throw o}}}}function Pu(e,r){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}function Pe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&Xs(e,r)}function mn(e){return mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mn(e)}function as(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(as=function(){return!!e})()}function Cu(e,r){if(r&&(wn(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function Ce(e){var r=as();return function(){var t,a=mn(e);if(r){var n=mn(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Cu(this,t)}}function we(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ju(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$o(a.key),a)}}function be(e,r,t){return r&&ju(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e,r,t){return(r=$o(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Mu=10,os=(function(){function e(){we(this,e),Z(this,"priority",void 0),Z(this,"subPriority",0)}return be(e,[{key:"validate",value:function(t,a){return!0}}]),e})(),Su=(function(e){Pe(t,e);var r=Ce(t);function t(a,n,o,s,l){var u;return we(this,t),u=r.call(this),u.value=a,u.validateValue=n,u.setValue=o,u.priority=s,l&&(u.subPriority=l),u}return be(t,[{key:"validate",value:function(n,o){return this.validateValue(n,this.value,o)}},{key:"set",value:function(n,o,s){return this.setValue(n,o,this.value,s)}}]),t})(os),ku=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",Mu),Z(J(a),"subPriority",-1),a}return be(t,[{key:"set",value:function(n,o){if(o.timestampIsSet)return n;var s=new Date(0);return s.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),s.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),s}}]),t})(os),Me=(function(){function e(){we(this,e),Z(this,"incompatibleTokens",void 0),Z(this,"priority",void 0),Z(this,"subPriority",void 0)}return be(e,[{key:"run",value:function(t,a,n,o){var s=this.parse(t,a,n,o);return s?{setter:new Su(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(t,a,n){return!0}}]),e})(),Tu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",140),Z(J(a),"incompatibleTokens",["R","u","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}},{key:"set",value:function(n,o,s){return o.era=s,n.setUTCFullYear(s,0,1),n.setUTCHours(0,0,0,0),n}}]),t})(Me),Ve={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},st={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ne(e,r){return e&&{value:r(e.value),rest:e.rest}}function Re(e,r){var t=r.match(e);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function it(e,r){var t=r.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};var a=t[1]==="+"?1:-1,n=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:a*(n*Cn+o*Pn+s*ac),rest:r.slice(t[0].length)}}function ss(e){return Re(Ve.anyDigitsSigned,e)}function Ae(e,r){switch(e){case 1:return Re(Ve.singleDigit,r);case 2:return Re(Ve.twoDigits,r);case 3:return Re(Ve.threeDigits,r);case 4:return Re(Ve.fourDigits,r);default:return Re(new RegExp("^\\d{1,"+e+"}"),r)}}function pn(e,r){switch(e){case 1:return Re(Ve.singleDigitSigned,r);case 2:return Re(Ve.twoDigitsSigned,r);case 3:return Re(Ve.threeDigitsSigned,r);case 4:return Re(Ve.fourDigitsSigned,r);default:return Re(new RegExp("^-?\\d{1,"+e+"}"),r)}}function ua(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function is(e,r){var t=r>0,a=t?r:1-r,n;if(a<=50)n=e||100;else{var o=a+50,s=Math.floor(o/100)*100,l=e>=o%100;n=e+s-(l?100:0)}return t?n:1-n}function ls(e){return e%400===0||e%4===0&&e%100!==0}var Iu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",130),Z(J(a),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){var l=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Ne(Ae(4,n),l);case"yo":return Ne(s.ordinalNumber(n,{unit:"year"}),l);default:return Ne(Ae(o.length,n),l)}}},{key:"validate",value:function(n,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(n,o,s){var l=n.getUTCFullYear();if(s.isTwoDigitYear){var u=is(s.year,l);return n.setUTCFullYear(u,0,1),n.setUTCHours(0,0,0,0),n}var c=!("era"in o)||o.era===1?s.year:1-s.year;return n.setUTCFullYear(c,0,1),n.setUTCHours(0,0,0,0),n}}]),t})(Me),Ou=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",130),Z(J(a),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){var l=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Ne(Ae(4,n),l);case"Yo":return Ne(s.ordinalNumber(n,{unit:"year"}),l);default:return Ne(Ae(o.length,n),l)}}},{key:"validate",value:function(n,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(n,o,s,l){var u=la(n,l);if(s.isTwoDigitYear){var c=is(s.year,u);return n.setUTCFullYear(c,0,l.firstWeekContainsDate),n.setUTCHours(0,0,0,0),kt(n,l)}var d=!("era"in o)||o.era===1?s.year:1-s.year;return n.setUTCFullYear(d,0,l.firstWeekContainsDate),n.setUTCHours(0,0,0,0),kt(n,l)}}]),t})(Me),Eu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",130),Z(J(a),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o){return pn(o==="R"?4:o.length,n)}},{key:"set",value:function(n,o,s){var l=new Date(0);return l.setUTCFullYear(s,0,4),l.setUTCHours(0,0,0,0),$t(l)}}]),t})(Me),Ru=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",130),Z(J(a),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o){return pn(o==="u"?4:o.length,n)}},{key:"set",value:function(n,o,s){return n.setUTCFullYear(s,0,1),n.setUTCHours(0,0,0,0),n}}]),t})(Me),_u=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",120),Z(J(a),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"Q":case"QQ":return Ae(o.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,o){return o>=1&&o<=4}},{key:"set",value:function(n,o,s){return n.setUTCMonth((s-1)*3,1),n.setUTCHours(0,0,0,0),n}}]),t})(Me),Au=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",120),Z(J(a),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"q":case"qq":return Ae(o.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,o){return o>=1&&o<=4}},{key:"set",value:function(n,o,s){return n.setUTCMonth((s-1)*3,1),n.setUTCHours(0,0,0,0),n}}]),t})(Me),Fu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Z(J(a),"priority",110),a}return be(t,[{key:"parse",value:function(n,o,s){var l=function(c){return c-1};switch(o){case"M":return Ne(Re(Ve.month,n),l);case"MM":return Ne(Ae(2,n),l);case"Mo":return Ne(s.ordinalNumber(n,{unit:"month"}),l);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,o){return o>=0&&o<=11}},{key:"set",value:function(n,o,s){return n.setUTCMonth(s,1),n.setUTCHours(0,0,0,0),n}}]),t})(Me),Vu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",110),Z(J(a),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){var l=function(c){return c-1};switch(o){case"L":return Ne(Re(Ve.month,n),l);case"LL":return Ne(Ae(2,n),l);case"Lo":return Ne(s.ordinalNumber(n,{unit:"month"}),l);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,o){return o>=0&&o<=11}},{key:"set",value:function(n,o,s){return n.setUTCMonth(s,1),n.setUTCHours(0,0,0,0),n}}]),t})(Me);function Nu(e,r,t){Y(2,arguments);var a=G(e),n=De(r),o=Jo(a,t)-n;return a.setUTCDate(a.getUTCDate()-o*7),a}var Lu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",100),Z(J(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"w":return Re(Ve.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){return o>=1&&o<=53}},{key:"set",value:function(n,o,s,l){return kt(Nu(n,s,l),l)}}]),t})(Me);function Wu(e,r){Y(2,arguments);var t=G(e),a=De(r),n=Zo(t)-a;return t.setUTCDate(t.getUTCDate()-n*7),t}var $u=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",100),Z(J(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"I":return Re(Ve.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){return o>=1&&o<=53}},{key:"set",value:function(n,o,s){return $t(Wu(n,s))}}]),t})(Me),Hu=[31,28,31,30,31,30,31,31,30,31,30,31],Bu=[31,29,31,30,31,30,31,31,30,31,30,31],zu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",90),Z(J(a),"subPriority",1),Z(J(a),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"d":return Re(Ve.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){var s=n.getUTCFullYear(),l=ls(s),u=n.getUTCMonth();return l?o>=1&&o<=Bu[u]:o>=1&&o<=Hu[u]}},{key:"set",value:function(n,o,s){return n.setUTCDate(s),n.setUTCHours(0,0,0,0),n}}]),t})(Me),Yu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",90),Z(J(a),"subpriority",1),Z(J(a),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"D":case"DD":return Re(Ve.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){var s=n.getUTCFullYear(),l=ls(s);return l?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(n,o,s){return n.setUTCMonth(0,s),n.setUTCHours(0,0,0,0),n}}]),t})(Me);function da(e,r,t){var a,n,o,s,l,u,c,d;Y(2,arguments);var p=ct(),f=De((a=(n=(o=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(l=t.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:p.weekStartsOn)!==null&&n!==void 0?n:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&a!==void 0?a:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=G(e),x=De(r),w=h.getUTCDay(),b=x%7,j=(b+7)%7,g=(j<f?7:0)+x-w;return h.setUTCDate(h.getUTCDate()+g),h}var Uu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",90),Z(J(a),"incompatibleTokens",["D","i","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,o){return o>=0&&o<=6}},{key:"set",value:function(n,o,s,l){return n=da(n,s,l),n.setUTCHours(0,0,0,0),n}}]),t})(Me),qu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",90),Z(J(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s,l){var u=function(d){var p=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+p};switch(o){case"e":case"ee":return Ne(Ae(o.length,n),u);case"eo":return Ne(s.ordinalNumber(n,{unit:"day"}),u);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,o){return o>=0&&o<=6}},{key:"set",value:function(n,o,s,l){return n=da(n,s,l),n.setUTCHours(0,0,0,0),n}}]),t})(Me),Gu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",90),Z(J(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s,l){var u=function(d){var p=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+p};switch(o){case"c":case"cc":return Ne(Ae(o.length,n),u);case"co":return Ne(s.ordinalNumber(n,{unit:"day"}),u);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,o){return o>=0&&o<=6}},{key:"set",value:function(n,o,s,l){return n=da(n,s,l),n.setUTCHours(0,0,0,0),n}}]),t})(Me);function Qu(e,r){Y(2,arguments);var t=De(r);t%7===0&&(t=t-7);var a=1,n=G(e),o=n.getUTCDay(),s=t%7,l=(s+7)%7,u=(l<a?7:0)+t-o;return n.setUTCDate(n.getUTCDate()+u),n}var Ku=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",90),Z(J(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){var l=function(c){return c===0?7:c};switch(o){case"i":case"ii":return Ae(o.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Ne(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),l);case"iiiii":return Ne(s.day(n,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Ne(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),l);default:return Ne(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(n,o){return o>=1&&o<=7}},{key:"set",value:function(n,o,s){return n=Qu(n,s),n.setUTCHours(0,0,0,0),n}}]),t})(Me),Xu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",80),Z(J(a),"incompatibleTokens",["b","B","H","k","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,o,s){return n.setUTCHours(ua(s),0,0,0),n}}]),t})(Me),Zu=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",80),Z(J(a),"incompatibleTokens",["a","B","H","k","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,o,s){return n.setUTCHours(ua(s),0,0,0),n}}]),t})(Me),Ju=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",80),Z(J(a),"incompatibleTokens",["a","b","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,o,s){return n.setUTCHours(ua(s),0,0,0),n}}]),t})(Me),ed=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",70),Z(J(a),"incompatibleTokens",["H","K","k","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"h":return Re(Ve.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){return o>=1&&o<=12}},{key:"set",value:function(n,o,s){var l=n.getUTCHours()>=12;return l&&s<12?n.setUTCHours(s+12,0,0,0):!l&&s===12?n.setUTCHours(0,0,0,0):n.setUTCHours(s,0,0,0),n}}]),t})(Me),td=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",70),Z(J(a),"incompatibleTokens",["a","b","h","K","k","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"H":return Re(Ve.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){return o>=0&&o<=23}},{key:"set",value:function(n,o,s){return n.setUTCHours(s,0,0,0),n}}]),t})(Me),rd=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",70),Z(J(a),"incompatibleTokens",["h","H","k","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"K":return Re(Ve.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){return o>=0&&o<=11}},{key:"set",value:function(n,o,s){var l=n.getUTCHours()>=12;return l&&s<12?n.setUTCHours(s+12,0,0,0):n.setUTCHours(s,0,0,0),n}}]),t})(Me),nd=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",70),Z(J(a),"incompatibleTokens",["a","b","h","H","K","t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"k":return Re(Ve.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){return o>=1&&o<=24}},{key:"set",value:function(n,o,s){var l=s<=24?s%24:s;return n.setUTCHours(l,0,0,0),n}}]),t})(Me),ad=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",60),Z(J(a),"incompatibleTokens",["t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"m":return Re(Ve.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){return o>=0&&o<=59}},{key:"set",value:function(n,o,s){return n.setUTCMinutes(s,0,0),n}}]),t})(Me),od=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",50),Z(J(a),"incompatibleTokens",["t","T"]),a}return be(t,[{key:"parse",value:function(n,o,s){switch(o){case"s":return Re(Ve.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return Ae(o.length,n)}}},{key:"validate",value:function(n,o){return o>=0&&o<=59}},{key:"set",value:function(n,o,s){return n.setUTCSeconds(s,0),n}}]),t})(Me),sd=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",30),Z(J(a),"incompatibleTokens",["t","T"]),a}return be(t,[{key:"parse",value:function(n,o){var s=function(u){return Math.floor(u*Math.pow(10,-o.length+3))};return Ne(Ae(o.length,n),s)}},{key:"set",value:function(n,o,s){return n.setUTCMilliseconds(s),n}}]),t})(Me),id=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",10),Z(J(a),"incompatibleTokens",["t","T","x"]),a}return be(t,[{key:"parse",value:function(n,o){switch(o){case"X":return it(st.basicOptionalMinutes,n);case"XX":return it(st.basic,n);case"XXXX":return it(st.basicOptionalSeconds,n);case"XXXXX":return it(st.extendedOptionalSeconds,n);default:return it(st.extended,n)}}},{key:"set",value:function(n,o,s){return o.timestampIsSet?n:new Date(n.getTime()-s)}}]),t})(Me),ld=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",10),Z(J(a),"incompatibleTokens",["t","T","X"]),a}return be(t,[{key:"parse",value:function(n,o){switch(o){case"x":return it(st.basicOptionalMinutes,n);case"xx":return it(st.basic,n);case"xxxx":return it(st.basicOptionalSeconds,n);case"xxxxx":return it(st.extendedOptionalSeconds,n);default:return it(st.extended,n)}}},{key:"set",value:function(n,o,s){return o.timestampIsSet?n:new Date(n.getTime()-s)}}]),t})(Me),cd=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",40),Z(J(a),"incompatibleTokens","*"),a}return be(t,[{key:"parse",value:function(n){return ss(n)}},{key:"set",value:function(n,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),t})(Me),ud=(function(e){Pe(t,e);var r=Ce(t);function t(){var a;we(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return a=r.call.apply(r,[this].concat(o)),Z(J(a),"priority",20),Z(J(a),"incompatibleTokens","*"),a}return be(t,[{key:"parse",value:function(n){return ss(n)}},{key:"set",value:function(n,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),t})(Me),dd={G:new Tu,y:new Iu,Y:new Ou,R:new Eu,u:new Ru,Q:new _u,q:new Au,M:new Fu,L:new Vu,w:new Lu,I:new $u,d:new zu,D:new Yu,E:new Uu,e:new qu,c:new Gu,i:new Ku,a:new Xu,b:new Zu,B:new Ju,h:new ed,H:new td,K:new rd,k:new nd,m:new ad,s:new od,S:new sd,X:new id,x:new ld,t:new cd,T:new ud},hd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,md=/^'([^]*?)'?$/,pd=/''/g,vd=/\S/,gd=/[a-zA-Z]/;function yd(e,r,t,a){var n,o,s,l,u,c,d,p,f,h,x,w,b,j,g,v,D,C;Y(3,arguments);var E=String(e),S=String(r),V=ct(),T=(n=(o=a?.locale)!==null&&o!==void 0?o:V.locale)!==null&&n!==void 0?n:ca;if(!T.match)throw new RangeError("locale must contain match property");var W=De((s=(l=(u=(c=a?.firstWeekContainsDate)!==null&&c!==void 0?c:a==null||(d=a.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&u!==void 0?u:V.firstWeekContainsDate)!==null&&l!==void 0?l:(f=V.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=De((x=(w=(b=(j=a?.weekStartsOn)!==null&&j!==void 0?j:a==null||(g=a.locale)===null||g===void 0||(v=g.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&b!==void 0?b:V.weekStartsOn)!==null&&w!==void 0?w:(D=V.locale)===null||D===void 0||(C=D.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&x!==void 0?x:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return E===""?G(t):new Date(NaN);var H={firstWeekContainsDate:W,weekStartsOn:$,locale:T},U=[new ku],I=S.match(fd).map(function(z){var ee=z[0];if(ee in Jn){var me=Jn[ee];return me(z,T.formatLong)}return z}).join("").match(hd),y=[],F=io(I),B;try{var k=function(){var ee=B.value;!(a!=null&&a.useAdditionalWeekYearTokens)&&rs(ee)&&fn(ee,S,e),!(a!=null&&a.useAdditionalDayOfYearTokens)&&ts(ee)&&fn(ee,S,e);var me=ee[0],se=dd[me];if(se){var le=se.incompatibleTokens;if(Array.isArray(le)){var Q=y.find(function(Fe){return le.includes(Fe.token)||Fe.token===me});if(Q)throw new RangeError("The format string mustn't contain `".concat(Q.fullToken,"` and `").concat(ee,"` at the same time"))}else if(se.incompatibleTokens==="*"&&y.length>0)throw new RangeError("The format string mustn't contain `".concat(ee,"` and any other token at the same time"));y.push({token:me,fullToken:ee});var ue=se.run(E,ee,T.match,H);if(!ue)return{v:new Date(NaN)};U.push(ue.setter),E=ue.rest}else{if(me.match(gd))throw new RangeError("Format string contains an unescaped latin alphabet character `"+me+"`");if(ee==="''"?ee="'":me==="'"&&(ee=xd(ee)),E.indexOf(ee)===0)E=E.slice(ee.length);else return{v:new Date(NaN)}}};for(F.s();!(B=F.n()).done;){var _=k();if(wn(_)==="object")return _.v}}catch(z){F.e(z)}finally{F.f()}if(E.length>0&&vd.test(E))return new Date(NaN);var q=U.map(function(z){return z.priority}).sort(function(z,ee){return ee-z}).filter(function(z,ee,me){return me.indexOf(z)===ee}).map(function(z){return U.filter(function(ee){return ee.priority===z}).sort(function(ee,me){return me.subPriority-ee.subPriority})}).map(function(z){return z[0]}),re=G(t);if(isNaN(re.getTime()))return new Date(NaN);var ae=Ko(re,hn(re)),N={},L=io(q),oe;try{for(L.s();!(oe=L.n()).done;){var A=oe.value;if(!A.validate(ae,H))return new Date(NaN);var R=A.set(ae,N,H);Array.isArray(R)?(ae=R[0],Pu(N,R[1])):ae=R}}catch(z){L.e(z)}finally{L.f()}return ae}function xd(e){return e.match(md)[1].replace(pd,"'")}function wd(e,r){Y(2,arguments);var t=G(e),a=De(r);return t.setDate(a),t}function bd(e,r){Y(2,arguments);var t=G(e),a=De(r);return t.setHours(a),t}function Dd(e,r){Y(2,arguments);var t=G(e),a=De(r);return t.setMinutes(a),t}function Pd(e,r){Y(2,arguments);var t=G(e),a=De(r),n=t.getFullYear(),o=t.getDate(),s=new Date(0);s.setFullYear(n,a,15),s.setHours(0,0,0,0);var l=ns(s);return t.setMonth(a,Math.min(o,l)),t}function Cd(e,r){Y(2,arguments);var t=G(e),a=De(r);return t.setSeconds(a),t}function jd(e,r){Y(2,arguments);var t=G(e),a=De(r);return t.setMilliseconds(a),t}function Md(e,r){Y(2,arguments);var t=G(e),a=De(r);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(a),t)}function lo(e){Y(1,arguments);var r=G(e);return r.setDate(1),r.setHours(0,0,0,0),r}function Xr(e){Y(1,arguments);var r=G(e),t=new Date(0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Sd(e,r){var t;Y(1,arguments);var a=De((t=void 0)!==null&&t!==void 0?t:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=Od(e),o;if(n.date){var s=Ed(n.date,a);o=Rd(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var l=o.getTime(),u=0,c;if(n.time&&(u=_d(n.time),isNaN(u)))return new Date(NaN);if(n.timezone){if(c=Ad(n.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(l+u),p=new Date(0);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return new Date(l+u+c)}var Zr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},kd=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Td=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Id=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Od(e){var r={},t=e.split(Zr.dateTimeDelimiter),a;if(t.length>2)return r;if(/:/.test(t[0])?a=t[0]:(r.date=t[0],a=t[1],Zr.timeZoneDelimiter.test(r.date)&&(r.date=e.split(Zr.timeZoneDelimiter)[0],a=e.substr(r.date.length,e.length))),a){var n=Zr.timezone.exec(a);n?(r.time=a.replace(n[1],""),r.timezone=n[1]):r.time=a}return r}function Ed(e,r){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=e.match(t);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,o=a[2]?parseInt(a[2]):null;return{year:o===null?n:o*100,restDateString:e.slice((a[1]||a[2]).length)}}function Rd(e,r){if(r===null)return new Date(NaN);var t=e.match(kd);if(!t)return new Date(NaN);var a=!!t[4],n=gr(t[1]),o=gr(t[2])-1,s=gr(t[3]),l=gr(t[4]),u=gr(t[5])-1;if(a)return Wd(r,l,u)?Fd(r,l,u):new Date(NaN);var c=new Date(0);return!Nd(r,o,s)||!Ld(r,n)?new Date(NaN):(c.setUTCFullYear(r,o,Math.max(n,s)),c)}function gr(e){return e?parseInt(e):1}function _d(e){var r=e.match(Td);if(!r)return NaN;var t=Yn(r[1]),a=Yn(r[2]),n=Yn(r[3]);return $d(t,a,n)?t*Cn+a*Pn+n*1e3:NaN}function Yn(e){return e&&parseFloat(e.replace(",","."))||0}function Ad(e){if(e==="Z")return 0;var r=e.match(Id);if(!r)return 0;var t=r[1]==="+"?-1:1,a=parseInt(r[2]),n=r[3]&&parseInt(r[3])||0;return Hd(a,n)?t*(a*Cn+n*Pn):NaN}function Fd(e,r,t){var a=new Date(0);a.setUTCFullYear(e,0,4);var n=a.getUTCDay()||7,o=(r-1)*7+t+1-n;return a.setUTCDate(a.getUTCDate()+o),a}var Vd=[31,null,31,30,31,30,31,31,30,31,30,31];function cs(e){return e%400===0||e%4===0&&e%100!==0}function Nd(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(Vd[r]||(cs(e)?29:28))}function Ld(e,r){return r>=1&&r<=(cs(e)?366:365)}function Wd(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function $d(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function Hd(e,r){return r>=0&&r<=59}function Bd(e,r){var t,a;Y(1,arguments);var n=G(e);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");var o=String((t=r?.format)!==null&&t!==void 0?t:"extended"),s=String((a=r?.representation)!==null&&a!==void 0?a:"complete");if(o!=="extended"&&o!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(s!=="date"&&s!=="time"&&s!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",u="",c=o==="extended"?"-":"",d=o==="extended"?":":"";if(s!=="time"){var p=ve(n.getDate(),2),f=ve(n.getMonth()+1,2),h=ve(n.getFullYear(),4);l="".concat(h).concat(c).concat(f).concat(c).concat(p)}if(s!=="date"){var x=n.getTimezoneOffset();if(x!==0){var w=Math.abs(x),b=ve(Math.floor(w/60),2),j=ve(w%60,2),g=x<0?"+":"-";u="".concat(g).concat(b,":").concat(j)}else u="Z";var v=ve(n.getHours(),2),D=ve(n.getMinutes(),2),C=ve(n.getSeconds(),2),E=l===""?"":"T",S=[v,D,C].join(d);l="".concat(l).concat(E).concat(S).concat(u)}return l}function zd(e,r){Y(2,arguments);var t=G(e).getTime(),a=G(r.start).getTime(),n=G(r.end).getTime();if(!(a<=n))throw new RangeError("Invalid interval");return t>=a&&t<=n}var Jr={exports:{}},co;function Yd(){return co||(co=1,(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=function(u,c){switch(u){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});default:return c.date({width:"full"})}},a=function(u,c){switch(u){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});default:return c.time({width:"full"})}},n=function(u,c){var d=u.match(/(P+)(p+)?/)||[],p=d[1],f=d[2];if(!f)return t(u,c);var h;switch(p){case"P":h=c.dateTime({width:"short"});break;case"PP":h=c.dateTime({width:"medium"});break;case"PPP":h=c.dateTime({width:"long"});break;default:h=c.dateTime({width:"full"});break}return h.replace("{{date}}",t(p,c)).replace("{{time}}",a(f,c))},o={p:a,P:n},s=o;r.default=s,e.exports=r.default})(Jr,Jr.exports)),Jr.exports}var Ud=Yd();const qd=fe(Ud),Gd={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Qd={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Kd{constructor(r){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=Gd,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=o=>typeof o>"u"?new Date:o===null?null:new Date(o),this.dateWithTimezone=o=>this.date(o),this.getTimezone=()=>"default",this.setTimezone=o=>o,this.toJsDate=o=>o,this.getCurrentLocaleCode=()=>{var o;return((o=this.locale)==null?void 0:o.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=o=>{const s=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return o.match(s).map(l=>{const u=l[0];if(u==="p"||u==="P"){const c=this.longFormatters[u];return c(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=o=>this.expandFormat(o).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=o=>o===null,this.formatNumber=o=>o,this.getMeridiemText=o=>o==="am"?"AM":"PM";const{locale:t,formats:a,longFormatters:n}=r;this.locale=t,this.formats=M({},Qd,a),this.longFormatters=n}}class Mn extends Kd{constructor({locale:r,formats:t}={}){if(typeof an!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:r??ca,formats:t,longFormatters:qd}),this.parseISO=a=>Sd(a),this.toISO=a=>Bd(a,{format:"extended"}),this.parse=(a,n)=>a===""?null:yd(a,n,new Date,{locale:this.locale}),this.isValid=a=>Qo(this.date(a)),this.format=(a,n)=>this.formatByString(a,this.formats[n]),this.formatByString=(a,n)=>au(a,n,{locale:this.locale}),this.getDiff=(a,n,o)=>{switch(o){case"years":return Kl(a,this.date(n));case"quarters":return ec(a,this.date(n));case"months":return qo(a,this.date(n));case"weeks":return nc(a,this.date(n));case"days":return Go(a,this.date(n));case"hours":return oc(a,this.date(n));case"minutes":return sc(a,this.date(n));case"seconds":return ic(a,this.date(n));default:return jn(a,this.date(n))}},this.isEqual=(a,n)=>a===null&&n===null?!0:gu(a,n),this.isSameYear=(a,n)=>xu(a,n),this.isSameMonth=(a,n)=>wu(a,n),this.isSameDay=(a,n)=>yu(a,n),this.isSameHour=(a,n)=>bu(a,n),this.isAfter=(a,n)=>zn(a,n),this.isAfterYear=(a,n)=>zn(a,Hn(n)),this.isAfterDay=(a,n)=>zn(a,Xn(n)),this.isBefore=(a,n)=>vr(a,n),this.isBeforeYear=(a,n)=>vr(a,Xr(n)),this.isBeforeDay=(a,n)=>vr(a,Wt(n)),this.isWithinRange=(a,[n,o])=>zd(a,{start:n,end:o}),this.startOfYear=a=>Xr(a),this.startOfMonth=a=>lo(a),this.startOfWeek=a=>Mt(a,{locale:this.locale}),this.startOfDay=a=>Wt(a),this.endOfYear=a=>Hn(a),this.endOfMonth=a=>Zn(a),this.endOfWeek=a=>$n(a,{locale:this.locale}),this.endOfDay=a=>Xn(a),this.addYears=(a,n)=>Ja(a,n),this.addMonths=(a,n)=>on(a,n),this.addWeeks=(a,n)=>Gl(a,n),this.addDays=(a,n)=>an(a,n),this.addHours=(a,n)=>ql(a,n),this.addMinutes=(a,n)=>Yl(a,n),this.addSeconds=(a,n)=>Bl(a,n),this.getYear=a=>vu(a),this.getMonth=a=>cu(a),this.getDate=a=>su(a),this.getHours=a=>iu(a),this.getMinutes=a=>lu(a),this.getSeconds=a=>uu(a),this.getMilliseconds=a=>du(a),this.setYear=(a,n)=>Md(a,n),this.setMonth=(a,n)=>Pd(a,n),this.setDate=(a,n)=>wd(a,n),this.setHours=(a,n)=>bd(a,n),this.setMinutes=(a,n)=>Dd(a,n),this.setSeconds=(a,n)=>Cd(a,n),this.setMilliseconds=(a,n)=>jd(a,n),this.getDaysInMonth=a=>ns(a),this.getNextMonth=a=>on(a,1),this.getPreviousMonth=a=>on(a,-1),this.getMonthArray=a=>{const o=[Xr(a)];for(;o.length<12;){const s=o[o.length-1];o.push(this.getNextMonth(s))}return o},this.mergeDateAndTime=(a,n)=>this.setSeconds(this.setMinutes(this.setHours(a,this.getHours(n)),this.getMinutes(n)),this.getSeconds(n)),this.getWeekdays=()=>{const a=new Date;return lc({start:Mt(a,{locale:this.locale}),end:$n(a,{locale:this.locale})}).map(n=>this.formatByString(n,"EEEEEE"))},this.getWeekArray=a=>{const n=Mt(lo(a),{locale:this.locale}),o=$n(Zn(a),{locale:this.locale});let s=0,l=n;const u=[];for(;vr(l,o);){const c=Math.floor(s/7);u[c]=u[c]||[],u[c].push(l),l=an(l,1),s+=1}return u},this.getWeekNumber=a=>pu(a,{locale:this.locale}),this.getYearRange=(a,n)=>{const o=Xr(a),s=Hn(n),l=[];let u=o;for(;vr(u,s);)l.push(u),u=Ja(u,1);return l}}}const Xd={primary:"#8884d8",success:"#00E396",danger:"#FF6B6B",text:"#263238",grid:"#e0e0e0"},Zd={primary:"#00E5FF",success:"#00E676",danger:"#FF4081",text:"#FFFFFF",grid:"#424242"},ha=e=>e==="dark"?Zd:Xd,us=(e="light")=>{const r=ha(e);return{chart:{background:"transparent",toolbar:{show:!0,tools:{download:!0,zoom:!0,pan:!0,reset:!0}},fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif'},grid:{borderColor:r.grid,strokeDashArray:3},theme:{mode:e},dataLabels:{style:{colors:[r.text]}}}},ds=(e,r=[],t="light")=>{const a=ha(t),n=us(t),o=e.map(s=>r.includes(s)?a.danger:a.text);return{...n,chart:{...n.chart,type:"candlestick",height:400},title:{text:"Daily Energy Consumption Range",align:"left",style:{fontSize:"16px",fontWeight:600,color:a.text}},xaxis:{type:"category",categories:e,labels:{rotate:-45,rotateAlways:!0,style:{fontSize:"12px",colors:o}},axisBorder:{color:a.grid},axisTicks:{color:a.grid}},yaxis:{title:{text:"Consumption (kWh)",style:{fontSize:"12px",color:a.text}},labels:{style:{fontSize:"12px",colors:a.text},formatter:s=>s!=null?Number(s).toFixed(1):""}},tooltip:{theme:t,custom:function({seriesIndex:s,dataPointIndex:l,w:u}){const c=u.globals.initialSeries[s].data[l];return`
          <div style="padding: 10px; background: ${t==="dark"?"#1e1e1e":"white"}; border: 1px solid ${t==="dark"?"#444":"#e0e0e0"}; border-radius: 4px; color: ${t==="dark"?"#fff":"#333"}">
            <div style="margin-bottom: 5px; font-weight: 600;">Date: ${c.x}</div>
            <div style="color: ${a.success};">High: ${Number(c.y[1]).toFixed(3)} kWh</div>
            <div style="color: ${a.danger};">Low: ${Number(c.y[2]).toFixed(3)} kWh</div>
            <div style="color: ${a.primary};">Average: ${Number(c.y[0]).toFixed(3)} kWh</div>
          </div>
        `}},plotOptions:{candlestick:{colors:{upward:a.success,downward:a.danger},wick:{useFillColor:!0}}}}},hs=(e,r,t="light")=>{const a=ha(t),n=us(t),o=Math.max(r*25+200,600);return{...n,chart:{...n.chart,type:"bar",height:o,toolbar:{show:!0,tools:{download:!0,zoom:!1,pan:!1,reset:!1}}},plotOptions:{bar:{horizontal:!0,borderRadius:4,borderRadiusApplication:"end",barHeight:"70%",colors:{backgroundBarColors:[],backgroundBarOpacity:1}}},dataLabels:{enabled:!1},title:{text:"Hourly Electricity Consumption",align:"left",style:{fontSize:"16px",fontWeight:600,color:a.text}},xaxis:{categories:e,title:{text:"Consumption (kWh)",style:{fontSize:"12px",color:a.text}},labels:{style:{fontSize:"12px",colors:a.text}},axisBorder:{color:a.grid},axisTicks:{color:a.grid}},yaxis:{labels:{style:{fontSize:"10px",colors:a.text}}},tooltip:{theme:t,y:{formatter:function(s){return s!=null?Number(s).toFixed(3)+" kWh":""}}},colors:[a.primary]}};function Jd(e){return typeof e=="string"}function eh(e,r,t){return e===void 0||Jd(e)?r:{...r,ownerState:{...r.ownerState,...t}}}function th(e,r=[]){if(e===void 0)return{};const t={};return Object.keys(e).filter(a=>a.match(/^on[A-Z]/)&&typeof e[a]=="function"&&!r.includes(a)).forEach(a=>{t[a]=e[a]}),t}function fa(e,r,t){return typeof e=="function"?e(r,t):e}function rh(...e){const r=m.useRef(void 0),t=m.useCallback(a=>{const n=e.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,l=s(a);return typeof l=="function"?l:()=>{s(null)}}return o.current=a,()=>{o.current=null}});return()=>{n.forEach(o=>o?.())}},e);return m.useMemo(()=>e.every(a=>a==null)?null:a=>{r.current&&(r.current(),r.current=void 0),a!=null&&(r.current=t(a))},e)}function uo(e){if(e===void 0)return{};const r={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&typeof e[t]=="function")).forEach(t=>{r[t]=e[t]}),r}function nh(e){const{getSlotProps:r,additionalProps:t,externalSlotProps:a,externalForwardedProps:n,className:o}=e;if(!r){const h=Be(t?.className,o,n?.className,a?.className),x={...t?.style,...n?.style,...a?.style},w={...t,...n,...a};return h.length>0&&(w.className=h),Object.keys(x).length>0&&(w.style=x),{props:w,internalRef:void 0}}const s=th({...n,...a}),l=uo(a),u=uo(n),c=r(s),d=Be(c?.className,t?.className,o,n?.className,a?.className),p={...c?.style,...t?.style,...n?.style,...a?.style},f={...c,...t,...u,...l};return d.length>0&&(f.className=d),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:c.ref}}function $e(e){const{elementType:r,externalSlotProps:t,ownerState:a,skipResolvingSlotProps:n=!1,...o}=e,s=n?{}:fa(t,a),{props:l,internalRef:u}=nh({...o,externalSlotProps:s}),c=rh(u,s?.ref,e.additionalProps?.ref);return eh(r,{...l,ref:c},a)}const yr=(e,r)=>e.length!==r.length?!1:r.every(t=>e.includes(t)),ah=({openTo:e,defaultOpenTo:r,views:t,defaultViews:a})=>{const n=t??a;let o;if(e!=null)o=e;else if(n.includes(r))o=r;else if(n.length>0)o=n[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:n,openTo:o}},vn=(e,r,t)=>{let a=r;return a=e.setHours(a,e.getHours(t)),a=e.setMinutes(a,e.getMinutes(t)),a=e.setSeconds(a,e.getSeconds(t)),a},Br=({date:e,disableFuture:r,disablePast:t,maxDate:a,minDate:n,isDateDisabled:o,utils:s,timezone:l})=>{const u=vn(s,s.dateWithTimezone(void 0,l),e);t&&s.isBefore(n,u)&&(n=u),r&&s.isAfter(a,u)&&(a=u);let c=e,d=e;for(s.isBefore(e,n)&&(c=n,d=null),s.isAfter(e,a)&&(d&&(d=a),c=null);c||d;){if(c&&s.isAfter(c,a)&&(c=null),d&&s.isBefore(d,n)&&(d=null),c){if(!o(c))return c;c=s.addDays(c,1)}if(d){if(!o(d))return d;d=s.addDays(d,-1)}}return null},oh=(e,r)=>r==null||!e.isValid(r)?null:r,tt=(e,r,t)=>r==null||!e.isValid(r)?t:r,sh=(e,r,t)=>!e.isValid(r)&&r!=null&&!e.isValid(t)&&t!=null?!0:e.isEqual(r,t),ma=(e,r)=>{const a=[e.startOfYear(r)];for(;a.length<12;){const n=a[a.length-1];a.push(e.addMonths(n,1))}return a},fs=(e,r,t)=>t==="date"?e.startOfDay(e.dateWithTimezone(void 0,r)):e.dateWithTimezone(void 0,r),ih=["year","month","day"],ho=e=>ih.includes(e),pa=(e,{format:r,views:t},a)=>{if(r!=null)return r;const n=e.formats;return yr(t,["year"])?n.year:yr(t,["month"])?n.month:yr(t,["day"])?n.dayOfMonth:yr(t,["month","year"])?`${n.month} ${n.year}`:yr(t,["day","month"])?`${n.month} ${n.dayOfMonth}`:a?/en/.test(e.getCurrentLocaleCode())?n.normalDateWithWeekday:n.normalDate:n.keyboardDate},lh=(e,r)=>{const t=e.startOfWeek(r);return[0,1,2,3,4,5,6].map(a=>e.addDays(t,a))},ch=["hours","minutes","seconds"],uh=e=>ch.includes(e),fo=(e,r)=>r.getHours(e)*3600+r.getMinutes(e)*60+r.getSeconds(e),dh=(e,r)=>(t,a)=>e?r.isAfter(t,a):fo(t,r)>fo(a,r),ot={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},hh=e=>Math.max(...e.map(r=>{var t;return(t=ot[r.type])!=null?t:1})),xr=(e,r,t)=>{if(r===ot.year)return e.startOfYear(t);if(r===ot.month)return e.startOfMonth(t);if(r===ot.day)return e.startOfDay(t);let a=t;return r<ot.minutes&&(a=e.setMinutes(a,0)),r<ot.seconds&&(a=e.setSeconds(a,0)),r<ot.milliseconds&&(a=e.setMilliseconds(a,0)),a},fh=({props:e,utils:r,granularity:t,timezone:a,getTodayDate:n})=>{var o;let s=n?n():xr(r,t,fs(r,a));e.minDate!=null&&r.isAfterDay(e.minDate,s)&&(s=xr(r,t,e.minDate)),e.maxDate!=null&&r.isBeforeDay(e.maxDate,s)&&(s=xr(r,t,e.maxDate));const l=dh((o=e.disableIgnoringDatePartForTimeValidation)!=null?o:!1,r);return e.minTime!=null&&l(e.minTime,s)&&(s=xr(r,t,e.disableIgnoringDatePartForTimeValidation?e.minTime:vn(r,s,e.minTime))),e.maxTime!=null&&l(s,e.maxTime)&&(s=xr(r,t,e.disableIgnoringDatePartForTimeValidation?e.maxTime:vn(r,s,e.maxTime))),s},ms=(e,r)=>{const t=e.formatTokenMap[r];if(t==null)throw new Error([`MUI: The token "${r}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof t=="string"?{type:t,contentType:t==="meridiem"?"letter":"digit",maxLength:void 0}:{type:t.sectionType,contentType:t.contentType,maxLength:t.maxLength}},mh=e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Sn=(e,r,t)=>{const a=[],n=e.dateWithTimezone(void 0,r),o=e.startOfWeek(n),s=e.endOfWeek(n);let l=o;for(;e.isBefore(l,s);)a.push(l),l=e.addDays(l,1);return a.map(u=>e.formatByString(u,t))},ps=(e,r,t,a)=>{switch(t){case"month":return ma(e,e.dateWithTimezone(void 0,r)).map(n=>e.formatByString(n,a));case"weekDay":return Sn(e,r,a);case"meridiem":{const n=e.dateWithTimezone(void 0,r);return[e.startOfDay(n),e.endOfDay(n)].map(o=>e.formatByString(o,a))}default:return[]}},vs=(e,r,t)=>{let a=r;for(a=Number(a).toString();a.length<t;)a=`0${a}`;return a},gs=(e,r,t,a,n)=>{if(n.type==="day"&&n.contentType==="digit-with-letter"){const s=e.setDate(a.longestMonth,t);return e.formatByString(s,n.format)}const o=t.toString();return n.hasLeadingZerosInInput?vs(e,o,n.maxLength):o},ph=(e,r,t,a,n,o,s)=>{const l=mh(a),u=a==="Home",c=a==="End",d=t.value===""||u||c,p=()=>{const h=n[t.type]({currentDate:o,format:t.format,contentType:t.contentType}),x=g=>gs(e,r,g,h,t),w=t.type==="minutes"&&s!=null&&s.minutesStep?s.minutesStep:1;let j=parseInt(t.value,10)+l*w;if(d){if(t.type==="year"&&!c&&!u)return e.formatByString(e.dateWithTimezone(void 0,r),t.format);l>0||u?j=h.minimum:j=h.maximum}return j%w!==0&&((l<0||u)&&(j+=w-(w+j)%w),(l>0||c)&&(j-=j%w)),j>h.maximum?x(h.minimum+(j-h.maximum-1)%(h.maximum-h.minimum+1)):j<h.minimum?x(h.maximum-(h.minimum-j-1)%(h.maximum-h.minimum+1)):x(j)},f=()=>{const h=ps(e,r,t.type,t.format);if(h.length===0)return t.value;if(d)return l>0||u?h[0]:h[h.length-1];const w=(h.indexOf(t.value)+h.length+l)%h.length;return h[w]};return t.contentType==="digit"||t.contentType==="digit-with-letter"?p():f()},va=(e,r)=>{let t=e.value||e.placeholder;const a=r==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return r==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(t=Number(t).toString()),["input-rtl","input-ltr"].includes(r)&&e.contentType==="digit"&&!a&&t.length===1&&(t=`${t}`),r==="input-rtl"&&(t=`${t}`),t},Et=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),ys=(e,r)=>{let t=0,a=r?1:0;const n=[];for(let o=0;o<e.length;o+=1){const s=e[o],l=va(s,r?"input-rtl":"input-ltr"),u=`${s.startSeparator}${l}${s.endSeparator}`,c=Et(u).length,d=u.length,p=Et(l),f=a+l.indexOf(p[0])+s.startSeparator.length,h=f+p.length;n.push(M({},s,{start:t,end:t+c,startInInput:f,endInInput:h})),t+=c,a+=d}return n},vh=(e,r,t,a,n)=>{switch(a.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,r),n).length,format:n});case"month":return t.fieldMonthPlaceholder({contentType:a.contentType,format:n});case"day":return t.fieldDayPlaceholder({format:n});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:a.contentType,format:n});case"hours":return t.fieldHoursPlaceholder({format:n});case"minutes":return t.fieldMinutesPlaceholder({format:n});case"seconds":return t.fieldSecondsPlaceholder({format:n});case"meridiem":return t.fieldMeridiemPlaceholder({format:n});default:return n}},mo=(e,r,t,a)=>e.formatByString(e.parse(r,t),a),xs=(e,r,t)=>e.formatByString(e.dateWithTimezone(void 0,r),t).length===4,ws=(e,r,t,a,n)=>{if(t!=="digit")return!1;const o=e.dateWithTimezone(void 0,r);switch(a){case"year":return xs(e,r,n)?e.formatByString(e.setYear(o,1),n)==="0001":e.formatByString(e.setYear(o,2001),n)==="01";case"month":return e.formatByString(e.startOfYear(o),n).length>1;case"day":return e.formatByString(e.startOfMonth(o),n).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),n).length>1;case"hours":return e.formatByString(e.setHours(o,1),n).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),n).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),n).length>1;default:throw new Error("Invalid section type")}},gh=(e,r)=>{const t=[],{start:a,end:n}=e.escapedCharacters,o=new RegExp(`(\\${a}[^\\${n}]*\\${n})+`,"g");let s=null;for(;s=o.exec(r);)t.push({start:s.index,end:o.lastIndex-1});return t},po=(e,r,t,a,n,o,s,l)=>{let u="";const c=[],d=e.date(),p=v=>{if(v==="")return null;const D=ms(e,v),C=ws(e,r,D.contentType,D.type,v),E=s?C:D.contentType==="digit",S=n!=null&&e.isValid(n);let V=S?e.formatByString(n,v):"",T=null;if(E)if(C)T=V===""?e.formatByString(d,v).length:V.length;else{if(D.maxLength==null)throw new Error(`MUI: The token ${v} should have a 'maxDigitNumber' property on it's adapter`);T=D.maxLength,S&&(V=vs(e,V,T))}return c.push(M({},D,{format:v,maxLength:T,value:V,placeholder:vh(e,r,t,D,v),hasLeadingZeros:C,hasLeadingZerosInFormat:C,hasLeadingZerosInInput:E,startSeparator:c.length===0?u:"",endSeparator:"",modified:!1})),null};let f=10,h=a,x=e.expandFormat(a);for(;x!==h;)if(h=x,x=e.expandFormat(h),f-=1,f<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const w=x,b=gh(e,w),j=new RegExp(`^(${Object.keys(e.formatTokenMap).sort((v,D)=>D.length-v.length).join("|")})`,"g");let g="";for(let v=0;v<w.length;v+=1){const D=b.find(T=>T.start<=v&&T.end>=v),C=w[v],E=D!=null,S=`${g}${w.slice(v)}`,V=j.test(S);!E&&C.match(/([A-Za-z]+)/)&&V?(g=S.slice(0,j.lastIndex),v+=j.lastIndex-1):E&&D?.start===v||D?.end===v||(p(g),g="",c.length===0?u+=C:c[c.length-1].endSeparator+=C)}return p(g),c.map(v=>{const D=C=>{let E=C;return l&&E!==null&&E.includes(" ")&&(E=`${E}`),o==="spacious"&&["/",".","-"].includes(E)&&(E=` ${E} `),E};return v.startSeparator=D(v.startSeparator),v.endSeparator=D(v.endSeparator),v})},yh=(e,r)=>{const t=r.some(l=>l.type==="day"),a=[],n=[];for(let l=0;l<r.length;l+=1){const u=r[l];t&&u.type==="weekDay"||(a.push(u.format),n.push(va(u,"non-input")))}const o=a.join(" "),s=n.join(" ");return e.parse(s,o)},xh=(e,r)=>{const a=e.map(n=>{const o=va(n,r?"input-rtl":"input-ltr");return`${n.startSeparator}${o}${n.endSeparator}`}).join("");return r?`${a}`:a},wh=(e,r)=>{const t=e.dateWithTimezone(void 0,r),a=e.endOfYear(t),n=e.endOfDay(t),{maxDaysInMonth:o,longestMonth:s}=ma(e,t).reduce((l,u)=>{const c=e.getDaysInMonth(u);return c>l.maxDaysInMonth?{maxDaysInMonth:c,longestMonth:u}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:xs(e,r,l)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(a)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&e.isValid(l)?e.getDaysInMonth(l):o,longestMonth:s}),weekDay:({format:l,contentType:u})=>{if(u==="digit"){const c=Sn(e,r,l).map(Number);return{minimum:Math.min(...c),maximum:Math.max(...c)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const u=e.getHours(n);return e.formatByString(e.endOfDay(t),l)!==u.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(t),l))}:{minimum:0,maximum:u}},minutes:()=>({minimum:0,maximum:e.getMinutes(n)}),seconds:()=>({minimum:0,maximum:e.getSeconds(n)}),meridiem:()=>({minimum:0,maximum:0})}},bh=(e,r,t,a,n)=>{switch(t.type){case"year":return e.setYear(n,e.getYear(a));case"month":return e.setMonth(n,e.getMonth(a));case"weekDay":{const o=Sn(e,r,t.format),s=e.formatByString(a,t.format),l=o.indexOf(s),c=o.indexOf(t.value)-l;return e.addDays(a,c)}case"day":return e.setDate(n,e.getDate(a));case"meridiem":{const o=e.getHours(a)<12,s=e.getHours(n);return o&&s>=12?e.addHours(n,-12):!o&&s<12?e.addHours(n,12):n}case"hours":return e.setHours(n,e.getHours(a));case"minutes":return e.setMinutes(n,e.getMinutes(a));case"seconds":return e.setSeconds(n,e.getSeconds(a));default:return n}},vo={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},go=(e,r,t,a,n,o)=>[...a].sort((s,l)=>vo[s.type]-vo[l.type]).reduce((s,l)=>!o||l.modified?bh(e,r,l,t,s):s,n),Dh=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Ph=(e,r)=>{const t={};if(!r)return e.forEach((u,c)=>{const d=c===0?null:c-1,p=c===e.length-1?null:c+1;t[c]={leftIndex:d,rightIndex:p}}),{neighbors:t,startIndex:0,endIndex:e.length-1};const a={},n={};let o=0,s=0,l=e.length-1;for(;l>=0;){s=e.findIndex((u,c)=>{var d;return c>=o&&((d=u.endSeparator)==null?void 0:d.includes(" "))&&u.endSeparator!==" / "}),s===-1&&(s=e.length-1);for(let u=s;u>=o;u-=1)n[u]=l,a[l]=u,l-=1;o=s+1}return e.forEach((u,c)=>{const d=n[c],p=d===0?null:a[d-1],f=d===e.length-1?null:a[d+1];t[c]={leftIndex:p,rightIndex:f}}),{neighbors:t,startIndex:a[0],endIndex:a[e.length-1]}},Ch=["value","referenceDate"],ft={emptyValue:null,getTodayValue:fs,getInitialReferenceValue:e=>{let{value:r,referenceDate:t}=e,a=je(e,Ch);return r!=null&&a.utils.isValid(r)?r:t??fh(a)},cleanValue:oh,areValuesEqual:sh,isSameError:(e,r)=>e===r,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,r)=>r==null||!e.isValid(r)?null:e.getTimezone(r),setTimezone:(e,r,t)=>t==null?null:e.setTimezone(t,r)},jh={updateReferenceValue:(e,r,t)=>r==null||!e.isValid(r)?t:r,getSectionsFromValue:(e,r,t,a,n)=>!e.isValid(r)&&!!t?t:ys(n(r),a),getValueStrFromSections:xh,getActiveDateManager:(e,r)=>({date:r.value,referenceDate:r.referenceValue,getSections:t=>t,getNewValuesFromNewActiveDate:t=>({value:t,referenceValue:t==null||!e.isValid(t)?r.referenceValue:t})}),parseValueStr:(e,r,t)=>t(e.trim(),r)},Mh=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:M({},e)}}}}),bs={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,r,t)=>`Select ${e}. ${r===null?"No time selected":`Selected time is ${t.format(r,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,r)=>e!==null&&r.isValid(e)?`Choose date, selected date is ${r.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,r)=>e!==null&&r.isValid(e)?`Choose time, selected time is ${r.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},Sh=bs;Mh(bs);const Tt=()=>{const e=m.useContext(Kn);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const r=m.useMemo(()=>M({},Sh,e.localeText),[e.localeText]);return m.useMemo(()=>M({},e,{localeText:r}),[e,r])},Te=()=>Tt().utils,Qr=()=>Tt().defaultDates,Dt=()=>Tt().localeText,kn=e=>{const r=Te(),t=m.useRef();return t.current===void 0&&(t.current=r.dateWithTimezone(void 0,e)),t.current};function kh(e){return qe("MuiPickersToolbar",e)}Ge("MuiPickersToolbar",["root","content"]);const Th=e=>{const{classes:r,isLandscape:t}=e;return Ue({root:["root"],content:["content"],penIconButton:["penIconButton",t&&"penIconButtonLandscape"]},kh,r)},Ih=de("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,r)=>r.root})(({theme:e,ownerState:r})=>M({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3)},r.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),Oh=de("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,r)=>r.content})(({ownerState:e})=>{var r;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:e.isLandscape?"flex-start":"space-between",flexDirection:e.isLandscape?(r=e.landscapeDirection)!=null?r:"column":"row",flex:1,alignItems:e.isLandscape?"flex-start":"center"}}),Eh=m.forwardRef(function(r,t){const a=He({props:r,name:"MuiPickersToolbar"}),{children:n,className:o,toolbarTitle:s,hidden:l,titleId:u}=a,c=a,d=Th(c);return l?null:i.jsxs(Ih,{ref:t,className:Be(d.root,o),ownerState:c,children:[i.jsx(O,{color:"text.secondary",variant:"overline",id:u,children:s}),i.jsx(Oh,{className:d.content,ownerState:c,children:n})]})});function Rh(e){return qe("MuiDatePickerToolbar",e)}Ge("MuiDatePickerToolbar",["root","title"]);const _h=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],Ah=e=>{const{classes:r}=e;return Ue({root:["root"],title:["title"]},Rh,r)},Fh=de(Eh,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,r)=>r.root})({}),Vh=de(O,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,r)=>r.title})(({ownerState:e})=>M({},e.isLandscape&&{margin:"auto 16px auto auto"})),Nh=m.forwardRef(function(r,t){const a=He({props:r,name:"MuiDatePickerToolbar"}),{value:n,isLandscape:o,toolbarFormat:s,toolbarPlaceholder:l="",views:u,className:c}=a,d=je(a,_h),p=Te(),f=Dt(),h=Ah(a),x=m.useMemo(()=>{if(!n)return l;const b=pa(p,{format:s,views:u},!0);return p.formatByString(n,b)},[n,s,l,p,u]),w=a;return i.jsx(Fh,M({ref:t,toolbarTitle:f.datePickerToolbarTitle,isLandscape:o,className:Be(h.root,c)},d,{children:i.jsx(Vh,{variant:"h4",align:o?"left":"center",ownerState:w,className:h.title,children:x})}))}),Ds=e=>{if(e!==void 0)return Object.keys(e).reduce((r,t)=>M({},r,{[`${t.slice(0,1).toLowerCase()}${t.slice(1)}`]:e[t]}),{})};function Ps(e,r){var t,a,n,o;const s=Te(),l=Qr(),u=He({props:e,name:r}),c=m.useMemo(()=>{var p;return((p=u.localeText)==null?void 0:p.toolbarTitle)==null?u.localeText:M({},u.localeText,{datePickerToolbarTitle:u.localeText.toolbarTitle})},[u.localeText]),d=(t=u.slots)!=null?t:Ds(u.components);return M({},u,{localeText:c},ah({views:u.views,openTo:u.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(a=u.disableFuture)!=null?a:!1,disablePast:(n=u.disablePast)!=null?n:!1,minDate:tt(s,u.minDate,l.minDate),maxDate:tt(s,u.maxDate,l.maxDate),slots:M({toolbar:Nh},d),slotProps:(o=u.slotProps)!=null?o:u.componentsProps})}const Lh=bt(i.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Wh=bt(i.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),$h=bt(i.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Hh=bt(i.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");bt(i.jsxs(m.Fragment,{children:[i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");bt(i.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");bt(i.jsxs(m.Fragment,{children:[i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Bh=bt(i.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function zh(e){return qe("MuiPickersArrowSwitcher",e)}Ge("MuiPickersArrowSwitcher",["root","spacer","button"]);const Yh=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Uh=["ownerState"],qh=["ownerState"],Gh=de("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"flex"}),Qh=de("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,r)=>r.spacer})(({theme:e})=>({width:e.spacing(3)})),yo=de(We,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,r)=>r.button})(({ownerState:e})=>M({},e.hidden&&{visibility:"hidden"})),Kh=e=>{const{classes:r}=e;return Ue({root:["root"],spacer:["spacer"],button:["button"]},zh,r)},Xh=m.forwardRef(function(r,t){var a,n,o,s;const u=lt().direction==="rtl",c=He({props:r,name:"MuiPickersArrowSwitcher"}),{children:d,className:p,slots:f,slotProps:h,isNextDisabled:x,isNextHidden:w,onGoToNext:b,nextLabel:j,isPreviousDisabled:g,isPreviousHidden:v,onGoToPrevious:D,previousLabel:C}=c,E=je(c,Yh),S=c,V=Kh(S),T={isDisabled:x,isHidden:w,goTo:b,label:j},W={isDisabled:g,isHidden:v,goTo:D,label:C},$=(a=f?.previousIconButton)!=null?a:yo,H=$e({elementType:$,externalSlotProps:h?.previousIconButton,additionalProps:{size:"medium",title:W.label,"aria-label":W.label,disabled:W.isDisabled,edge:"end",onClick:W.goTo},ownerState:M({},S,{hidden:W.isHidden}),className:V.button}),U=(n=f?.nextIconButton)!=null?n:yo,I=$e({elementType:U,externalSlotProps:h?.nextIconButton,additionalProps:{size:"medium",title:T.label,"aria-label":T.label,disabled:T.isDisabled,edge:"start",onClick:T.goTo},ownerState:M({},S,{hidden:T.isHidden}),className:V.button}),y=(o=f?.leftArrowIcon)!=null?o:Wh,F=$e({elementType:y,externalSlotProps:h?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),B=je(F,Uh),k=(s=f?.rightArrowIcon)!=null?s:$h,_=$e({elementType:k,externalSlotProps:h?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),q=je(_,qh);return i.jsxs(Gh,M({ref:t,className:Be(V.root,p),ownerState:S},E,{children:[i.jsx($,M({},H,{children:u?i.jsx(k,M({},q)):i.jsx(y,M({},B))})),d?i.jsx(O,{variant:"subtitle1",component:"span",children:d}):i.jsx(Qh,{className:V.spacer,ownerState:S}),i.jsx(U,M({},I,{children:u?i.jsx(y,M({},B)):i.jsx(k,M({},q))}))]}))}),Yr=36,Tn=2,In=320,Zh=280,ga=334,Jh=de(sn)({[`& .${Ca.container}`]:{outline:0},[`& .${Ca.paper}`]:{outline:0,minWidth:In}}),ef=de(ln)({"&:first-of-type":{padding:0}});function tf(e){var r,t;const{children:a,onDismiss:n,open:o,slots:s,slotProps:l}=e,u=(r=s?.dialog)!=null?r:Jh,c=(t=s?.mobileTransition)!=null?t:bn;return i.jsx(u,M({open:o,onClose:n},l?.dialog,{TransitionComponent:c,TransitionProps:l?.mobileTransition,PaperComponent:s?.mobilePaper,PaperProps:l?.mobilePaper,children:i.jsx(ef,{children:a})}))}function rf(e){return qe("MuiPickersPopper",e)}Ge("MuiPickersPopper",["root","paper"]);function nf(e,r){return Array.isArray(r)?r.every(t=>e.indexOf(t)!==-1):e.indexOf(r)!==-1}const af=(e,r)=>t=>{(t.key==="Enter"||t.key===" ")&&(e(t),t.preventDefault(),t.stopPropagation())},gn=(e=document)=>{const r=e.activeElement;return r?r.shadowRoot?gn(r.shadowRoot):r:null},of="@media (pointer: fine)",sf="@media (prefers-reduced-motion: reduce)",At=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),xo=At&&At[1]?parseInt(At[1],10):null,wo=At&&At[2]?parseInt(At[2],10):null,lf=xo&&xo<10||wo&&wo<13||!1,Cs=()=>yn(sf,{defaultMatches:!1})||lf,cf=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],uf=e=>{const{classes:r}=e;return Ue({root:["root"],paper:["paper"]},rf,r)},df=de(ei,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,r)=>r.root})(({theme:e})=>({zIndex:e.zIndex.modal})),hf=de(yt,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,r)=>r.paper})(({ownerState:e})=>M({outline:0,transformOrigin:"top center"},e.placement.includes("top")&&{transformOrigin:"bottom center"}));function ff(e,r){return r.documentElement.clientWidth<e.clientX||r.documentElement.clientHeight<e.clientY}function mf(e,r){const t=m.useRef(!1),a=m.useRef(!1),n=m.useRef(null),o=m.useRef(!1);m.useEffect(()=>{if(!e)return;function u(){o.current=!0}return document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0),()=>{document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),o.current=!1}},[e]);const s=ie(u=>{if(!o.current)return;const c=a.current;a.current=!1;const d=Vn(n.current);if(!n.current||"clientX"in u&&ff(u,d))return;if(t.current){t.current=!1;return}let p;u.composedPath?p=u.composedPath().indexOf(n.current)>-1:p=!d.documentElement.contains(u.target)||n.current.contains(u.target),!p&&!c&&r(u)}),l=()=>{a.current=!0};return m.useEffect(()=>{if(e){const u=Vn(n.current),c=()=>{t.current=!0};return u.addEventListener("touchstart",s),u.addEventListener("touchmove",c),()=>{u.removeEventListener("touchstart",s),u.removeEventListener("touchmove",c)}}},[e,s]),m.useEffect(()=>{if(e){const u=Vn(n.current);return u.addEventListener("click",s),()=>{u.removeEventListener("click",s),a.current=!1}}},[e,s]),[n,l,l]}const pf=m.forwardRef((e,r)=>{const{PaperComponent:t,popperPlacement:a,ownerState:n,children:o,paperSlotProps:s,paperClasses:l,onPaperClick:u,onPaperTouchStart:c}=e,d=je(e,cf),p=M({},n,{placement:a}),f=$e({elementType:t,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:r},className:l,ownerState:p});return i.jsx(t,M({},d,f,{onClick:h=>{var x;u(h),(x=f.onClick)==null||x.call(f,h)},onTouchStart:h=>{var x;c(h),(x=f.onTouchStart)==null||x.call(f,h)},ownerState:p,children:o}))});function vf(e){var r,t,a,n;const o=He({props:e,name:"MuiPickersPopper"}),{anchorEl:s,children:l,containerRef:u=null,shouldRestoreFocus:c,onBlur:d,onDismiss:p,open:f,role:h,placement:x,slots:w,slotProps:b,reduceAnimations:j}=o;m.useEffect(()=>{function _(q){f&&(q.key==="Escape"||q.key==="Esc")&&p()}return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[p,f]);const g=m.useRef(null);m.useEffect(()=>{h==="tooltip"||c&&!c()||(f?g.current=gn(document):g.current&&g.current instanceof HTMLElement&&setTimeout(()=>{g.current instanceof HTMLElement&&g.current.focus()}))},[f,h,c]);const[v,D,C]=mf(f,d??p),E=m.useRef(null),S=St(E,u),V=St(S,v),T=o,W=uf(T),$=Cs(),H=j??$,U=_=>{_.key==="Escape"&&(_.stopPropagation(),p())},I=((r=w?.desktopTransition)!=null?r:H)?bn:Zs,y=(t=w?.desktopTrapFocus)!=null?t:Js,F=(a=w?.desktopPaper)!=null?a:hf,B=(n=w?.popper)!=null?n:df,k=$e({elementType:B,externalSlotProps:b?.popper,additionalProps:{transition:!0,role:h,open:f,anchorEl:s,placement:x,onKeyDown:U},className:W.root,ownerState:o});return i.jsx(B,M({},k,{children:({TransitionProps:_,placement:q})=>i.jsx(y,M({open:f,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:h==="tooltip",isEnabled:()=>!0},b?.desktopTrapFocus,{children:i.jsx(I,M({},_,b?.desktopTransition,{children:i.jsx(pf,{PaperComponent:F,ownerState:T,popperPlacement:q,ref:V,onPaperClick:D,onPaperTouchStart:C,paperClasses:W.paper,paperSlotProps:b?.desktopPaper,children:l})}))}))}))}const ya=({timezone:e,value:r,defaultValue:t,onChange:a,valueManager:n})=>{var o,s;const l=Te(),u=m.useRef(t),c=(o=r??u.current)!=null?o:n.emptyValue,d=m.useMemo(()=>n.getTimezone(l,c),[l,n,c]),p=ie(w=>d==null?w:n.setTimezone(l,d,w)),f=(s=e??d)!=null?s:"default",h=m.useMemo(()=>n.setTimezone(l,f,c),[n,l,f,c]),x=ie((w,...b)=>{const j=p(w);a?.(j,...b)});return{value:h,handleValueChange:x,timezone:f}},xa=({name:e,timezone:r,value:t,defaultValue:a,onChange:n,valueManager:o})=>{const[s,l]=wt({name:e,state:"value",controlled:t,default:a??o.emptyValue}),u=ie((c,...d)=>{l(c),n?.(c,...d)});return ya({timezone:r,value:s,defaultValue:void 0,onChange:u,valueManager:o})};function js(e,r,t,a){const{value:n,onError:o}=e,s=Tt(),l=m.useRef(a),u=r({adapter:s,value:n,props:e});return m.useEffect(()=>{o&&!t(u,l.current)&&o(u,n),l.current=u},[t,o,l,u,n]),u}const gf=e=>{const r=Te(),t=Dt(),a=Tt(),o=lt().direction==="rtl",{valueManager:s,fieldValueManager:l,validator:u,internalProps:c,internalProps:{value:d,defaultValue:p,referenceDate:f,onChange:h,format:x,formatDensity:w="dense",selectedSections:b,onSelectedSectionsChange:j,shouldRespectLeadingZeros:g=!1,timezone:v}}=e,{timezone:D,value:C,handleValueChange:E}=ya({timezone:v,value:d,defaultValue:p,onChange:h,valueManager:s}),S=m.useMemo(()=>wh(r,D),[r,D]),V=m.useCallback((N,L=null)=>l.getSectionsFromValue(r,N,L,o,oe=>po(r,D,t,x,oe,w,g,o)),[l,x,t,o,g,r,w,D]),T=m.useMemo(()=>l.getValueStrFromSections(V(s.emptyValue),o),[l,V,s.emptyValue,o]),[W,$]=m.useState(()=>{const N=V(C),L={sections:N,value:C,referenceValue:s.emptyValue,tempValueStrAndroid:null},oe=hh(N),A=s.getInitialReferenceValue({referenceDate:f,value:C,utils:r,props:c,granularity:oe,timezone:D});return M({},L,{referenceValue:A})}),[H,U]=wt({controlled:b,default:null,name:"useField",state:"selectedSectionIndexes"}),I=N=>{U(N),j?.(N),$(L=>M({},L,{selectedSectionQuery:null}))},y=m.useMemo(()=>{if(H==null)return null;if(H==="all")return{startIndex:0,endIndex:W.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof H=="number")return{startIndex:H,endIndex:H};if(typeof H=="string"){const N=W.sections.findIndex(L=>L.type===H);return{startIndex:N,endIndex:N}}return H},[H,W.sections]),F=({value:N,referenceValue:L,sections:oe})=>{if($(R=>M({},R,{sections:oe,value:N,referenceValue:L,tempValueStrAndroid:null})),s.areValuesEqual(r,W.value,N))return;const A={validationError:u({adapter:a,value:N,props:M({},c,{value:N,timezone:D})})};E(N,A)},B=(N,L)=>{const oe=[...W.sections];return oe[N]=M({},oe[N],{value:L,modified:!0}),ys(oe,o)},k=()=>{F({value:s.emptyValue,referenceValue:W.referenceValue,sections:V(s.emptyValue)})},_=()=>{if(y==null)return;const N=W.sections[y.startIndex],L=l.getActiveDateManager(r,W,N),A=L.getSections(W.sections).filter(me=>me.value!=="").length===(N.value===""?0:1),R=B(y.startIndex,""),z=A?null:r.date(new Date("")),ee=L.getNewValuesFromNewActiveDate(z);(z!=null&&!r.isValid(z))!=(L.date!=null&&!r.isValid(L.date))?F(M({},ee,{sections:R})):$(me=>M({},me,ee,{sections:R,tempValueStrAndroid:null}))},q=N=>{const L=(R,z)=>{const ee=r.parse(R,x);if(ee==null||!r.isValid(ee))return null;const me=po(r,D,t,x,ee,w,g,o);return go(r,D,ee,me,z,!1)},oe=l.parseValueStr(N,W.referenceValue,L),A=l.updateReferenceValue(r,oe,W.referenceValue);F({value:oe,referenceValue:A,sections:V(oe,W.sections)})},re=({activeSection:N,newSectionValue:L,shouldGoToNextSection:oe})=>{oe&&y&&y.startIndex<W.sections.length-1?I(y.startIndex+1):y&&y.startIndex!==y.endIndex&&I(y.startIndex);const A=l.getActiveDateManager(r,W,N),R=B(y.startIndex,L),z=A.getSections(R),ee=yh(r,z);let me,se;if(ee!=null&&r.isValid(ee)){const le=go(r,D,ee,z,A.referenceDate,!0);me=A.getNewValuesFromNewActiveDate(le),se=!0}else me=A.getNewValuesFromNewActiveDate(ee),se=(ee!=null&&!r.isValid(ee))!=(A.date!=null&&!r.isValid(A.date));return se?F(M({},me,{sections:R})):$(le=>M({},le,me,{sections:R,tempValueStrAndroid:null}))},ae=N=>$(L=>M({},L,{tempValueStrAndroid:N}));return m.useEffect(()=>{const N=V(W.value);$(L=>M({},L,{sections:N}))},[x,r.locale]),m.useEffect(()=>{let N=!1;s.areValuesEqual(r,W.value,C)?N=s.getTimezone(r,W.value)!==s.getTimezone(r,C):N=!0,N&&$(L=>M({},L,{value:C,referenceValue:l.updateReferenceValue(r,C,L.referenceValue),sections:V(C)}))},[C]),{state:W,selectedSectionIndexes:y,setSelectedSections:I,clearValue:k,clearActiveSection:_,updateSectionValue:re,updateValueFromValueStr:q,setTempAndroidValueStr:ae,sectionsValueBoundaries:S,placeholder:T,timezone:D}},yf=5e3,Ot=e=>e.saveQuery!=null,xf=({sections:e,updateSectionValue:r,sectionsValueBoundaries:t,setTempAndroidValueStr:a,timezone:n})=>{const o=Te(),[s,l]=m.useState(null),u=ie(()=>l(null));m.useEffect(()=>{var h;s!=null&&((h=e[s.sectionIndex])==null?void 0:h.type)!==s.sectionType&&u()},[e,s,u]),m.useEffect(()=>{if(s!=null){const h=setTimeout(()=>u(),yf);return()=>{window.clearTimeout(h)}}return()=>{}},[s,u]);const c=({keyPressed:h,sectionIndex:x},w,b)=>{const j=h.toLowerCase(),g=e[x];if(s!=null&&(!b||b(s.value))&&s.sectionIndex===x){const D=`${s.value}${j}`,C=w(D,g);if(!Ot(C))return l({sectionIndex:x,value:D,sectionType:g.type}),C}const v=w(j,g);return Ot(v)&&!v.saveQuery?(u(),null):(l({sectionIndex:x,value:j,sectionType:g.type}),Ot(v)?null:v)},d=h=>{const x=(j,g,v)=>{const D=g.filter(C=>C.toLowerCase().startsWith(v));return D.length===0?{saveQuery:!1}:{sectionValue:D[0],shouldGoToNextSection:D.length===1}},w=(j,g,v,D)=>{const C=E=>ps(o,n,g.type,E);if(g.contentType==="letter")return x(g.format,C(g.format),j);if(v&&D!=null&&ms(o,v).contentType==="letter"){const E=C(v),S=x(v,E,j);return Ot(S)?{saveQuery:!1}:M({},S,{sectionValue:D(S.sectionValue,E)})}return{saveQuery:!1}};return c(h,(j,g)=>{switch(g.type){case"month":{const v=D=>mo(o,D,o.formats.month,g.format);return w(j,g,o.formats.month,v)}case"weekDay":{const v=(D,C)=>C.indexOf(D).toString();return w(j,g,o.formats.weekday,v)}case"meridiem":return w(j,g);default:return{saveQuery:!1}}})},p=h=>{const x=(b,j)=>{const g=+`${b}`,v=t[j.type]({currentDate:null,format:j.format,contentType:j.contentType});if(g>v.maximum)return{saveQuery:!1};if(g<v.minimum)return{saveQuery:!0};const D=+`${b}0`>v.maximum||b.length===v.maximum.toString().length;return{sectionValue:gs(o,n,g,v,j),shouldGoToNextSection:D}};return c(h,(b,j)=>{if(j.contentType==="digit"||j.contentType==="digit-with-letter")return x(b,j);if(j.type==="month"){ws(o,n,"digit","month","MM");const g=x(b,{type:j.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Ot(g))return g;const v=mo(o,g.sectionValue,"MM",j.format);return M({},g,{sectionValue:v})}if(j.type==="weekDay"){const g=x(b,j);if(Ot(g))return g;const v=Sn(o,n,j.format)[Number(g.sectionValue)-1];return M({},g,{sectionValue:v})}return{saveQuery:!1}},b=>!Number.isNaN(Number(b)))};return{applyCharacterEditing:ie(h=>{const x=e[h.sectionIndex],b=h.keyPressed!==" "&&!Number.isNaN(Number(h.keyPressed))?p(h):d(h);b==null?a(null):r({activeSection:x,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})}),resetCharacterQuery:u}},wf=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],bf=e=>{const r=Te(),{state:t,selectedSectionIndexes:a,setSelectedSections:n,clearValue:o,clearActiveSection:s,updateSectionValue:l,updateValueFromValueStr:u,setTempAndroidValueStr:c,sectionsValueBoundaries:d,placeholder:p,timezone:f}=gf(e),{inputRef:h,internalProps:x,internalProps:{readOnly:w=!1,unstableFieldRef:b,minutesStep:j},forwardedProps:{onClick:g,onKeyDown:v,onFocus:D,onBlur:C,onMouseUp:E,onPaste:S,error:V,clearable:T,onClear:W,disabled:$},fieldValueManager:H,valueManager:U,validator:I}=e,y=je(e.forwardedProps,wf),{applyCharacterEditing:F,resetCharacterQuery:B}=xf({sections:t.sections,updateSectionValue:l,sectionsValueBoundaries:d,setTempAndroidValueStr:c,timezone:f}),k=m.useRef(null),_=St(h,k),q=m.useRef(void 0),ae=lt().direction==="rtl",N=m.useMemo(()=>Ph(t.sections,ae),[t.sections,ae]),L=()=>{var K;if(w){n(null);return}const ne=(K=k.current.selectionStart)!=null?K:0;let pe;ne<=t.sections[0].startInInput||ne>=t.sections[t.sections.length-1].endInInput?pe=1:pe=t.sections.findIndex(ze=>ze.startInInput-ze.startSeparator.length>ne);const Oe=pe===-1?t.sections.length-1:pe-1;n(Oe)},oe=ie((K,...ne)=>{K.isDefaultPrevented()||(g?.(K,...ne),L())}),A=ie(K=>{E?.(K),K.preventDefault()}),R=ie((...K)=>{D?.(...K);const ne=k.current;window.clearTimeout(q.current),q.current=setTimeout(()=>{!ne||ne!==k.current||a!=null||w||(ne.value.length&&Number(ne.selectionEnd)-Number(ne.selectionStart)===ne.value.length?n("all"):L())})}),z=ie((...K)=>{C?.(...K),n(null)}),ee=ie(K=>{if(S?.(K),w){K.preventDefault();return}const ne=K.clipboardData.getData("text");if(a&&a.startIndex===a.endIndex){const pe=t.sections[a.startIndex],Oe=/^[a-zA-Z]+$/.test(ne),ze=/^[0-9]+$/.test(ne),Ye=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ne);if(pe.contentType==="letter"&&Oe||pe.contentType==="digit"&&ze||pe.contentType==="digit-with-letter"&&Ye){B(),l({activeSection:pe,newSectionValue:ne,shouldGoToNextSection:!0}),K.preventDefault();return}if(Oe||ze){K.preventDefault();return}}K.preventDefault(),B(),u(ne)}),me=ie(K=>{if(w)return;const ne=K.target.value;if(ne===""){B(),o();return}const pe=K.nativeEvent.data,Oe=pe&&pe.length>1,ze=Oe?pe:ne,Ye=Et(ze);if(a==null||Oe){u(Oe?pe:Ye);return}let nt;if(a.startIndex===0&&a.endIndex===t.sections.length-1&&Ye.length===1)nt=Ye;else{const Qe=Et(H.getValueStrFromSections(t.sections,ae));let zt=-1,Yt=-1;for(let rt=0;rt<Qe.length;rt+=1)zt===-1&&Qe[rt]!==Ye[rt]&&(zt=rt),Yt===-1&&Qe[Qe.length-rt-1]!==Ye[Ye.length-rt-1]&&(Yt=rt);const pt=t.sections[a.startIndex];if(zt<pt.start||Qe.length-Yt-1>pt.end)return;const Ut=Ye.length-Qe.length+pt.end-Et(pt.endSeparator||"").length;nt=Ye.slice(pt.start+Et(pt.startSeparator||"").length,Ut)}if(nt.length===0){Dh()?c(ze):(B(),s());return}F({keyPressed:nt,sectionIndex:a.startIndex})}),se=ie(K=>{switch(v?.(K),!0){case(K.key==="a"&&(K.ctrlKey||K.metaKey)):{K.preventDefault(),n("all");break}case K.key==="ArrowRight":{if(K.preventDefault(),a==null)n(N.startIndex);else if(a.startIndex!==a.endIndex)n(a.endIndex);else{const ne=N.neighbors[a.startIndex].rightIndex;ne!==null&&n(ne)}break}case K.key==="ArrowLeft":{if(K.preventDefault(),a==null)n(N.endIndex);else if(a.startIndex!==a.endIndex)n(a.startIndex);else{const ne=N.neighbors[a.startIndex].leftIndex;ne!==null&&n(ne)}break}case K.key==="Delete":{if(K.preventDefault(),w)break;a==null||a.startIndex===0&&a.endIndex===t.sections.length-1?o():s(),B();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(K.key):{if(K.preventDefault(),w||a==null)break;const ne=t.sections[a.startIndex],pe=H.getActiveDateManager(r,t,ne),Oe=ph(r,f,ne,K.key,d,pe.date,{minutesStep:j});l({activeSection:ne,newSectionValue:Oe,shouldGoToNextSection:!1});break}}});Vt(()=>{if(!k.current)return;if(a==null){k.current.scrollLeft&&(k.current.scrollLeft=0);return}const K=t.sections[a.startIndex],ne=t.sections[a.endIndex];let pe=K.startInInput,Oe=ne.endInInput;if(a.shouldSelectBoundarySelectors&&(pe-=K.startSeparator.length,Oe+=ne.endSeparator.length),pe!==k.current.selectionStart||Oe!==k.current.selectionEnd){const ze=k.current.scrollTop;k.current===gn(document)&&k.current.setSelectionRange(pe,Oe),k.current.scrollTop=ze}});const le=js(M({},x,{value:t.value,timezone:f}),I,U.isSameError,U.defaultErrorState),Q=m.useMemo(()=>V!==void 0?V:U.hasError(le),[U,le,V]);m.useEffect(()=>{!Q&&!a&&B()},[t.referenceValue,a,Q]),m.useEffect(()=>(k.current&&k.current===document.activeElement&&n("all"),()=>window.clearTimeout(q.current)),[]),m.useEffect(()=>{t.tempValueStrAndroid!=null&&a!=null&&(B(),s())},[t.tempValueStrAndroid]);const ue=m.useMemo(()=>{var K;return(K=t.tempValueStrAndroid)!=null?K:H.getValueStrFromSections(t.sections,ae)},[t.sections,H,t.tempValueStrAndroid,ae]),Fe=m.useMemo(()=>a==null||t.sections[a.startIndex].contentType==="letter"?"text":"numeric",[a,t.sections]),Ie=k.current&&k.current===gn(document),mt=U.areValuesEqual(r,t.value,U.emptyValue),ce=!Ie&&mt;m.useImperativeHandle(b,()=>({getSections:()=>t.sections,getActiveSectionIndex:()=>{var K,ne,pe;const Oe=(K=k.current.selectionStart)!=null?K:0,ze=(ne=k.current.selectionEnd)!=null?ne:0,Ye=!!((pe=k.current)!=null&&pe.readOnly);if(Oe===0&&ze===0||Ye)return null;const nt=Oe<=t.sections[0].startInInput?1:t.sections.findIndex(Qe=>Qe.startInInput-Qe.startSeparator.length>Oe);return nt===-1?t.sections.length-1:nt-1},setSelectedSections:K=>n(K)}));const he=ie((K,...ne)=>{var pe;K.preventDefault(),W?.(K,...ne),o(),k==null||(pe=k.current)==null||pe.focus(),n(0)});return M({placeholder:p,autoComplete:"off",disabled:!!$},y,{value:ce?"":ue,inputMode:Fe,readOnly:w,onClick:oe,onFocus:R,onBlur:z,onPaste:ee,onChange:me,onKeyDown:se,onMouseUp:A,onClear:he,error:Q,ref:_,clearable:!!(T&&!mt&&!w&&!$)})},Df=({open:e,onOpen:r,onClose:t})=>{const a=m.useRef(typeof e=="boolean").current,[n,o]=m.useState(!1);m.useEffect(()=>{if(a){if(typeof e!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(e)}},[a,e]);const s=m.useCallback(l=>{a||o(l),l&&r&&r(),!l&&t&&t()},[a,r,t]);return{isOpen:n,setIsOpen:s}},Pf=e=>{const{action:r,hasChanged:t,dateState:a,isControlled:n}=e,o=!n&&!a.hasBeenModifiedSinceMount;return r.name==="setValueFromField"?!0:r.name==="setValueFromAction"?o&&["accept","today","clear"].includes(r.pickerAction)?!0:t(a.lastPublishedValue):r.name==="setValueFromView"&&r.selectionState!=="shallow"||r.name==="setValueFromShortcut"?o?!0:t(a.lastPublishedValue):!1},Cf=e=>{const{action:r,hasChanged:t,dateState:a,isControlled:n,closeOnSelect:o}=e,s=!n&&!a.hasBeenModifiedSinceMount;return r.name==="setValueFromAction"?s&&["accept","today","clear"].includes(r.pickerAction)?!0:t(a.lastCommittedValue):r.name==="setValueFromView"&&r.selectionState==="finish"&&o?s?!0:t(a.lastCommittedValue):r.name==="setValueFromShortcut"?r.changeImportance==="accept"&&t(a.lastCommittedValue):!1},jf=e=>{const{action:r,closeOnSelect:t}=e;return r.name==="setValueFromAction"?!0:r.name==="setValueFromView"?r.selectionState==="finish"&&t:r.name==="setValueFromShortcut"?r.changeImportance==="accept":!1},Mf=({props:e,valueManager:r,valueType:t,wrapperVariant:a,validator:n})=>{const{onAccept:o,onChange:s,value:l,defaultValue:u,closeOnSelect:c=a==="desktop",selectedSections:d,onSelectedSectionsChange:p,timezone:f}=e,{current:h}=m.useRef(u),{current:x}=m.useRef(l!==void 0),w=Te(),b=Tt(),[j,g]=wt({controlled:d,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:v,setIsOpen:D}=Df(e),[C,E]=m.useState(()=>{let R;return l!==void 0?R=l:h!==void 0?R=h:R=r.emptyValue,{draft:R,lastPublishedValue:R,lastCommittedValue:R,lastControlledValue:l,hasBeenModifiedSinceMount:!1}}),{timezone:S,handleValueChange:V}=ya({timezone:f,value:l,defaultValue:h,onChange:s,valueManager:r});js(M({},e,{value:C.draft,timezone:S}),n,r.isSameError,r.defaultErrorState);const T=ie(R=>{const z={action:R,dateState:C,hasChanged:le=>!r.areValuesEqual(w,R.value,le),isControlled:x,closeOnSelect:c},ee=Pf(z),me=Cf(z),se=jf(z);if(E(le=>M({},le,{draft:R.value,lastPublishedValue:ee?R.value:le.lastPublishedValue,lastCommittedValue:me?R.value:le.lastCommittedValue,hasBeenModifiedSinceMount:!0})),ee){const Q={validationError:R.name==="setValueFromField"?R.context.validationError:n({adapter:b,value:R.value,props:M({},e,{value:R.value,timezone:S})})};R.name==="setValueFromShortcut"&&R.shortcut!=null&&(Q.shortcut=R.shortcut),V(R.value,Q)}me&&o&&o(R.value),se&&D(!1)});if(l!==void 0&&(C.lastControlledValue===void 0||!r.areValuesEqual(w,C.lastControlledValue,l))){const R=r.areValuesEqual(w,C.draft,l);E(z=>M({},z,{lastControlledValue:l},R?{}:{lastCommittedValue:l,lastPublishedValue:l,draft:l,hasBeenModifiedSinceMount:!0}))}const W=ie(()=>{T({value:r.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),$=ie(()=>{T({value:C.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),H=ie(()=>{T({value:C.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),U=ie(()=>{T({value:C.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),I=ie(()=>{T({value:r.getTodayValue(w,S,t),name:"setValueFromAction",pickerAction:"today"})}),y=ie(()=>D(!0)),F=ie(()=>D(!1)),B=ie((R,z="partial")=>T({name:"setValueFromView",value:R,selectionState:z})),k=ie((R,z,ee)=>T({name:"setValueFromShortcut",value:R,changeImportance:z??"accept",shortcut:ee})),_=ie((R,z)=>T({name:"setValueFromField",value:R,context:z})),q=ie(R=>{g(R),p?.(R)}),re={onClear:W,onAccept:$,onDismiss:H,onCancel:U,onSetToday:I,onOpen:y,onClose:F},ae={value:C.draft,onChange:_,selectedSections:j,onSelectedSectionsChange:q},N=m.useMemo(()=>r.cleanValue(w,C.draft),[w,r,C.draft]),L={value:N,onChange:B,onClose:F,open:v,onSelectedSectionsChange:q},A=M({},re,{value:N,onChange:B,onSelectShortcut:k,isValid:R=>{const z=n({adapter:b,value:R,props:M({},e,{value:R,timezone:S})});return!r.hasError(z)}});return{open:v,fieldProps:ae,viewProps:L,layoutProps:A,actions:re}};function Ms({onChange:e,onViewChange:r,openTo:t,view:a,views:n,autoFocus:o,focusedView:s,onFocusedViewChange:l}){var u,c;const d=m.useRef(t),p=m.useRef(n),f=m.useRef(n.includes(t)?t:n[0]),[h,x]=wt({name:"useViews",state:"view",controlled:a,default:f.current}),w=m.useRef(o?h:null),[b,j]=wt({name:"useViews",state:"focusedView",controlled:s,default:w.current});m.useEffect(()=>{(d.current&&d.current!==t||p.current&&p.current.some(T=>!n.includes(T)))&&(x(n.includes(t)?t:n[0]),p.current=n,d.current=t)},[t,x,h,n]);const g=n.indexOf(h),v=(u=n[g-1])!=null?u:null,D=(c=n[g+1])!=null?c:null,C=ie((T,W)=>{j(W?T:$=>T===$?null:$),l?.(T,W)}),E=ie(T=>{C(T,!0),T!==h&&(x(T),r&&r(T))}),S=ie(()=>{D&&E(D)}),V=ie((T,W,$)=>{const H=W==="finish",U=$?n.indexOf($)<n.length-1:!!D;if(e(T,H&&U?"partial":W,$),$&&$!==h){const y=n[n.indexOf($)+1];y&&E(y)}else H&&S()});return{view:h,setView:E,focusedView:b,setFocusedView:C,nextView:D,previousView:v,defaultView:n.includes(t)?t:n[0],goToNextView:S,setValueAndGoToNextView:V}}const Sf=["className","sx"],kf=({props:e,propsFromPickerValue:r,additionalViewProps:t,inputRef:a,autoFocusView:n})=>{const{onChange:o,open:s,onSelectedSectionsChange:l,onClose:u}=r,{view:c,views:d,openTo:p,onViewChange:f,viewRenderers:h,timezone:x}=e,w=je(e,Sf),{view:b,setView:j,defaultView:g,focusedView:v,setFocusedView:D,setValueAndGoToNextView:C}=Ms({view:c,views:d,openTo:p,onChange:o,onViewChange:f,autoFocus:n}),{hasUIView:E,viewModeLookup:S}=m.useMemo(()=>d.reduce((I,y)=>{let F;return h[y]!=null?F="UI":F="field",I.viewModeLookup[y]=F,F==="UI"&&(I.hasUIView=!0),I},{hasUIView:!1,viewModeLookup:{}}),[h,d]),V=m.useMemo(()=>d.reduce((I,y)=>h[y]!=null&&uh(y)?I+1:I,0),[h,d]),T=S[b],W=ie(()=>T==="UI"),[$,H]=m.useState(T==="UI"?b:null);return $!==b&&S[b]==="UI"&&H(b),Vt(()=>{T==="field"&&s&&(u(),setTimeout(()=>{a?.current.focus(),l(b)}))},[b]),Vt(()=>{if(!s)return;let I=b;T==="field"&&$!=null&&(I=$),I!==g&&S[I]==="UI"&&S[g]==="UI"&&(I=g),I!==b&&j(I),D(I,!0)},[s]),{hasUIView:E,shouldRestoreFocus:W,layoutProps:{views:d,view:$,onViewChange:j},renderCurrentView:()=>{if($==null)return null;const I=h[$];return I==null?null:I(M({},w,t,r,{views:d,timezone:x,onChange:C,view:$,onViewChange:j,focusedView:v,onFocusedViewChange:D,showViewSwitcher:V>1,timeViewsCount:V}))}}};function bo(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const Tf=(e,r)=>{const[t,a]=m.useState(bo);return Vt(()=>{const o=()=>{a(bo())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),nf(e,["hours","minutes","seconds"])?!1:(r||t)==="landscape"},If=({props:e,propsFromPickerValue:r,propsFromPickerViews:t,wrapperVariant:a})=>{const{orientation:n}=e,o=Tf(t.views,n);return{layoutProps:M({},t,r,{isLandscape:o,wrapperVariant:a,disabled:e.disabled,readOnly:e.readOnly})}},Ss=({props:e,valueManager:r,valueType:t,wrapperVariant:a,inputRef:n,additionalViewProps:o,validator:s,autoFocusView:l})=>{const u=Mf({props:e,valueManager:r,valueType:t,wrapperVariant:a,validator:s}),c=kf({props:e,inputRef:n,additionalViewProps:o,autoFocusView:l,propsFromPickerValue:u.viewProps}),d=If({props:e,wrapperVariant:a,propsFromPickerValue:u.layoutProps,propsFromPickerViews:c.layoutProps});return{open:u.open,actions:u.actions,fieldProps:u.fieldProps,renderCurrentView:c.renderCurrentView,hasUIView:c.hasUIView,shouldRestoreFocus:c.shouldRestoreFocus,layoutProps:d.layoutProps}};function ks(e){return qe("MuiPickersLayout",e)}const Un=Ge("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Of=["onAccept","onClear","onCancel","onSetToday","actions"];function Ef(e){const{onAccept:r,onClear:t,onCancel:a,onSetToday:n,actions:o}=e,s=je(e,Of),l=Dt();if(o==null||o.length===0)return null;const u=o?.map(c=>{switch(c){case"clear":return i.jsx(Se,{onClick:t,children:l.clearButtonLabel},c);case"cancel":return i.jsx(Se,{onClick:a,children:l.cancelButtonLabel},c);case"accept":return i.jsx(Se,{onClick:r,children:l.okButtonLabel},c);case"today":return i.jsx(Se,{onClick:n,children:l.todayButtonLabel},c);default:return null}});return i.jsx(cn,M({},s,{children:u}))}const Rf=["items","changeImportance","isLandscape","onChange","isValid"],_f=["getValue"];function Af(e){const{items:r,changeImportance:t,onChange:a,isValid:n}=e,o=je(e,Rf);if(r==null||r.length===0)return null;const s=r.map(l=>{let{getValue:u}=l,c=je(l,_f);const d=u({isValid:n});return{label:c.label,onClick:()=>{a(d,t,c)},disabled:!n(d)}});return i.jsx(zr,M({dense:!0,sx:[{maxHeight:ga,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:s.map(l=>i.jsx(ut,{children:i.jsx(jt,M({},l))},l.label))}))}function Ff(e){return e.view!==null}const Vf=e=>{const{classes:r,isLandscape:t}=e;return Ue({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},ks,r)},Nf=e=>{var r,t;const{wrapperVariant:a,onAccept:n,onClear:o,onCancel:s,onSetToday:l,view:u,views:c,onViewChange:d,value:p,onChange:f,onSelectShortcut:h,isValid:x,isLandscape:w,disabled:b,readOnly:j,children:g,components:v,componentsProps:D,slots:C,slotProps:E}=e,S=C??Ds(v),V=E??D,T=Vf(e),W=(r=S?.actionBar)!=null?r:Ef,$=$e({elementType:W,externalSlotProps:V?.actionBar,additionalProps:{onAccept:n,onClear:o,onCancel:s,onSetToday:l,actions:a==="desktop"?[]:["cancel","accept"],className:T.actionBar},ownerState:M({},e,{wrapperVariant:a})}),H=i.jsx(W,M({},$)),U=S?.toolbar,I=$e({elementType:U,externalSlotProps:V?.toolbar,additionalProps:{isLandscape:w,onChange:f,value:p,view:u,onViewChange:d,views:c,disabled:b,readOnly:j,className:T.toolbar},ownerState:M({},e,{wrapperVariant:a})}),y=Ff(I)&&U?i.jsx(U,M({},I)):null,F=g,B=S?.tabs,k=u&&B?i.jsx(B,M({view:u,onViewChange:d,className:T.tabs},V?.tabs)):null,_=(t=S?.shortcuts)!=null?t:Af,q=$e({elementType:_,externalSlotProps:V?.shortcuts,additionalProps:{isValid:x,isLandscape:w,onChange:h,className:T.shortcuts},ownerState:{isValid:x,isLandscape:w,onChange:h,className:T.shortcuts,wrapperVariant:a}}),re=u&&_?i.jsx(_,M({},q)):null;return{toolbar:y,content:F,tabs:k,actionBar:H,shortcuts:re}},Lf=e=>{const{isLandscape:r,classes:t}=e;return Ue({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"]},ks,t)},Ts=de("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,r)=>r.root})(({theme:e,ownerState:r})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Un.toolbar}`]:r.isLandscape?{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${Un.shortcuts}`]:r.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${Un.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));Ts.propTypes={as:P.elementType,ownerState:P.shape({isLandscape:P.bool.isRequired}).isRequired,sx:P.oneOfType([P.arrayOf(P.oneOfType([P.func,P.object,P.bool])),P.func,P.object])};const Wf=de("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,r)=>r.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Is=function(r){const t=He({props:r,name:"MuiPickersLayout"}),{toolbar:a,content:n,tabs:o,actionBar:s,shortcuts:l}=Nf(t),{sx:u,className:c,isLandscape:d,ref:p,wrapperVariant:f}=t,h=t,x=Lf(h);return i.jsxs(Ts,{ref:p,sx:u,className:Be(c,x.root),ownerState:h,children:[d?l:a,d?a:l,i.jsx(Wf,{className:x.contentWrapper,children:f==="desktop"?i.jsxs(m.Fragment,{children:[n,o]}):i.jsxs(m.Fragment,{children:[o,n]})}),s]})};function $f(e,{disableFuture:r,maxDate:t,timezone:a}){const n=Te();return m.useMemo(()=>{const o=n.dateWithTimezone(void 0,a),s=n.startOfMonth(r&&n.isBefore(o,t)?o:t);return!n.isAfter(s,e)},[r,t,e,n,a])}function Hf(e,{disablePast:r,minDate:t,timezone:a}){const n=Te();return m.useMemo(()=>{const o=n.dateWithTimezone(void 0,a),s=n.startOfMonth(r&&n.isAfter(o,t)?o:t);return!n.isBefore(s,e)},[r,t,e,n,a])}const Os=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Bf=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],zf=["minDateTime","maxDateTime"],Yf=[...Os,...Bf,...zf],Es=e=>Yf.reduce((r,t)=>(e.hasOwnProperty(t)&&(r[t]=e[t]),r),{}),Uf=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],qf=(e,r)=>{const t=M({},e),a={},n=o=>{t.hasOwnProperty(o)&&(a[o]=t[o],delete t[o])};return Uf.forEach(n),Os.forEach(n),{forwardedProps:t,internalProps:a}},On=({props:e,value:r,adapter:t})=>{if(r===null)return null;const{shouldDisableDate:a,shouldDisableMonth:n,shouldDisableYear:o,disablePast:s,disableFuture:l,timezone:u}=e,c=t.utils.dateWithTimezone(void 0,u),d=tt(t.utils,e.minDate,t.defaultDates.minDate),p=tt(t.utils,e.maxDate,t.defaultDates.maxDate);switch(!0){case!t.utils.isValid(r):return"invalidDate";case!!(a&&a(r)):return"shouldDisableDate";case!!(n&&n(r)):return"shouldDisableMonth";case!!(o&&o(r)):return"shouldDisableYear";case!!(l&&t.utils.isAfterDay(r,c)):return"disableFuture";case!!(s&&t.utils.isBeforeDay(r,c)):return"disablePast";case!!(d&&t.utils.isBeforeDay(r,d)):return"minDate";case!!(p&&t.utils.isAfterDay(r,p)):return"maxDate";default:return null}};function Gf(e){return qe("MuiPickersDay",e)}const Pt=Ge("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Qf=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Kf=e=>{const{selected:r,disableMargin:t,disableHighlightToday:a,today:n,disabled:o,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:l,classes:u}=e,c=s&&!l;return Ue({root:["root",r&&!c&&"selected",o&&"disabled",!t&&"dayWithMargin",!a&&n&&"today",s&&l&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Gf,u)},Rs=({theme:e,ownerState:r})=>M({},e.typography.caption,{width:Yr,height:Yr,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Nt(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Nt(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Pt.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Pt.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Pt.disabled}:not(.${Pt.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Pt.disabled}&.${Pt.selected}`]:{opacity:.6}},!r.disableMargin&&{margin:`0 ${Tn}px`},r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!r.disableHighlightToday&&r.today&&{[`&:not(.${Pt.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),_s=(e,r)=>{const{ownerState:t}=e;return[r.root,!t.disableMargin&&r.dayWithMargin,!t.disableHighlightToday&&t.today&&r.today,!t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&r.dayOutsideMonth,t.outsideCurrentMonth&&!t.showDaysOutsideCurrentMonth&&r.hiddenDaySpacingFiller]},Xf=de(ti,{name:"MuiPickersDay",slot:"Root",overridesResolver:_s})(Rs),Zf=de("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:_s})(({theme:e,ownerState:r})=>M({},Rs({theme:e,ownerState:r}),{opacity:0,pointerEvents:"none"})),wr=()=>{},Jf=m.forwardRef(function(r,t){const a=He({props:r,name:"MuiPickersDay"}),{autoFocus:n=!1,className:o,day:s,disabled:l=!1,disableHighlightToday:u=!1,disableMargin:c=!1,isAnimating:d,onClick:p,onDaySelect:f,onFocus:h=wr,onBlur:x=wr,onKeyDown:w=wr,onMouseDown:b=wr,onMouseEnter:j=wr,outsideCurrentMonth:g,selected:v=!1,showDaysOutsideCurrentMonth:D=!1,children:C,today:E=!1}=a,S=je(a,Qf),V=M({},a,{autoFocus:n,disabled:l,disableHighlightToday:u,disableMargin:c,selected:v,showDaysOutsideCurrentMonth:D,today:E}),T=Kf(V),W=Te(),$=m.useRef(null),H=St($,t);Vt(()=>{n&&!l&&!d&&!g&&$.current.focus()},[n,l,d,g]);const U=y=>{b(y),g&&y.preventDefault()},I=y=>{l||f(s),g&&y.currentTarget.focus(),p&&p(y)};return g&&!D?i.jsx(Zf,{className:Be(T.root,T.hiddenDaySpacingFiller,o),ownerState:V,role:S.role}):i.jsx(Xf,M({className:Be(T.root,o),ref:H,centerRipple:!0,disabled:l,tabIndex:v?0:-1,onKeyDown:y=>w(y,s),onFocus:y=>h(y,s),onBlur:y=>x(y,s),onMouseEnter:y=>j(y,s),onClick:I,onMouseDown:U},S,{ownerState:V,children:C||W.format(s,"dayOfMonth")}))}),em=m.memo(Jf),tm=e=>qe("MuiPickersSlideTransition",e),et=Ge("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),rm=["children","className","reduceAnimations","slideDirection","transKey","classes"],nm=e=>{const{classes:r,slideDirection:t}=e,a={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${t}`],exitActive:[`slideExitActiveLeft-${t}`]};return Ue(a,tm,r)},am=de(Ho,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,r)=>[r.root,{[`.${et["slideEnter-left"]}`]:r["slideEnter-left"]},{[`.${et["slideEnter-right"]}`]:r["slideEnter-right"]},{[`.${et.slideEnterActive}`]:r.slideEnterActive},{[`.${et.slideExit}`]:r.slideExit},{[`.${et["slideExitActiveLeft-left"]}`]:r["slideExitActiveLeft-left"]},{[`.${et["slideExitActiveLeft-right"]}`]:r["slideExitActiveLeft-right"]}]})(({theme:e})=>{const r=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${et["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${et["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${et.slideEnterActive}`]:{transform:"translate(0%)",transition:r},[`& .${et.slideExit}`]:{transform:"translate(0%)"},[`& .${et["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:r,zIndex:0},[`& .${et["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:r,zIndex:0}}});function om(e){const r=He({props:e,name:"MuiPickersSlideTransition"}),{children:t,className:a,reduceAnimations:n,transKey:o}=r,s=je(r,rm),l=nm(r),u=lt();if(n)return i.jsx("div",{className:Be(l.root,a),children:t});const c={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return i.jsx(am,{className:Be(l.root,a),childFactory:d=>m.cloneElement(d,{classNames:c}),role:"presentation",children:i.jsx(ri,M({mountOnEnter:!0,unmountOnExit:!0,timeout:u.transitions.duration.complex,classNames:c},s,{children:t}),o)})}const As=({shouldDisableDate:e,shouldDisableMonth:r,shouldDisableYear:t,minDate:a,maxDate:n,disableFuture:o,disablePast:s,timezone:l})=>{const u=Tt();return m.useCallback(c=>On({adapter:u,value:c,props:{shouldDisableDate:e,shouldDisableMonth:r,shouldDisableYear:t,minDate:a,maxDate:n,disableFuture:o,disablePast:s,timezone:l}})!==null,[u,e,r,t,a,n,o,s,l])},sm=e=>qe("MuiDayCalendar",e);Ge("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const im=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],lm=["ownerState"],cm=e=>{const{classes:r}=e;return Ue({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},sm,r)},Fs=(Yr+Tn*2)*6,um=de("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,r)=>r.root})({}),dm=de("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,r)=>r.header})({display:"flex",justifyContent:"center",alignItems:"center"}),hm=de(O,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,r)=>r.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),fm=de(O,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,r)=>r.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),mm=de(O,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,r)=>r.weekNumber})(({theme:e})=>M({},e.typography.caption,{width:Yr,height:Yr,padding:0,margin:`0 ${Tn}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),pm=de("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,r)=>r.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Fs}),vm=de(om,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,r)=>r.slideTransition})({minHeight:Fs}),gm=de("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,r)=>r.monthContainer})({overflow:"hidden"}),ym=de("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,r)=>r.weekContainer})({margin:`${Tn}px 0`,display:"flex",justifyContent:"center"});function xm(e){var r,t,a;let{parentProps:n,day:o,focusableDay:s,selectedDays:l,isDateDisabled:u,currentMonthNumber:c,isViewFocused:d}=e,p=je(e,im);const{disabled:f,disableHighlightToday:h,isMonthSwitchingAnimating:x,showDaysOutsideCurrentMonth:w,components:b,componentsProps:j,slots:g,slotProps:v,timezone:D}=n,C=Te(),E=kn(D),S=s!==null&&C.isSameDay(o,s),V=l.some(B=>C.isSameDay(B,o)),T=C.isSameDay(o,E),W=(r=(t=g?.day)!=null?t:b?.Day)!=null?r:em,$=$e({elementType:W,externalSlotProps:(a=v?.day)!=null?a:j?.day,additionalProps:M({disableHighlightToday:h,showDaysOutsideCurrentMonth:w,role:"gridcell",isAnimating:x,"data-timestamp":C.toJsDate(o).valueOf()},p),ownerState:M({},n,{day:o,selected:V})}),H=je($,lm),U=m.useMemo(()=>f||u(o),[f,u,o]),I=m.useMemo(()=>C.getMonth(o)!==c,[C,o,c]),y=m.useMemo(()=>{const B=C.startOfMonth(C.setMonth(o,c));return w?C.isSameDay(o,C.startOfWeek(B)):C.isSameDay(o,B)},[c,o,w,C]),F=m.useMemo(()=>{const B=C.endOfMonth(C.setMonth(o,c));return w?C.isSameDay(o,C.endOfWeek(B)):C.isSameDay(o,B)},[c,o,w,C]);return i.jsx(W,M({},H,{day:o,disabled:U,autoFocus:d&&S,today:T,outsideCurrentMonth:I,isFirstVisibleCell:y,isLastVisibleCell:F,selected:V,tabIndex:S?0:-1,"aria-selected":V,"aria-current":T?"date":void 0}))}function wm(e){const r=He({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:t,className:a,currentMonth:n,selectedDays:o,focusedDay:s,loading:l,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:c,readOnly:d,reduceAnimations:p,renderLoading:f=()=>i.jsx("span",{children:"..."}),slideDirection:h,TransitionProps:x,disablePast:w,disableFuture:b,minDate:j,maxDate:g,shouldDisableDate:v,shouldDisableMonth:D,shouldDisableYear:C,dayOfWeekFormatter:E,hasFocus:S,onFocusedViewChange:V,gridLabelId:T,displayWeekNumber:W,fixedWeekNumber:$,autoFocus:H,timezone:U}=r,I=kn(U),y=Te(),F=cm(r),k=lt().direction==="rtl",_=E||((ce,he)=>y.format(he,"weekdayShort").charAt(0).toUpperCase()),q=As({shouldDisableDate:v,shouldDisableMonth:D,shouldDisableYear:C,minDate:j,maxDate:g,disablePast:w,disableFuture:b,timezone:U}),re=Dt(),[ae,N]=wt({name:"DayCalendar",state:"hasFocus",controlled:S,default:H??!1}),[L,oe]=m.useState(()=>s||I),A=ie(ce=>{d||u(ce)}),R=ce=>{q(ce)||(t(ce),oe(ce),V?.(!0),N(!0))},z=ie((ce,he)=>{switch(ce.key){case"ArrowUp":R(y.addDays(he,-7)),ce.preventDefault();break;case"ArrowDown":R(y.addDays(he,7)),ce.preventDefault();break;case"ArrowLeft":{const K=y.addDays(he,k?1:-1),ne=y.addMonths(he,k?1:-1),pe=Br({utils:y,date:K,minDate:k?K:y.startOfMonth(ne),maxDate:k?y.endOfMonth(ne):K,isDateDisabled:q,timezone:U});R(pe||K),ce.preventDefault();break}case"ArrowRight":{const K=y.addDays(he,k?-1:1),ne=y.addMonths(he,k?-1:1),pe=Br({utils:y,date:K,minDate:k?y.startOfMonth(ne):K,maxDate:k?K:y.endOfMonth(ne),isDateDisabled:q,timezone:U});R(pe||K),ce.preventDefault();break}case"Home":R(y.startOfWeek(he)),ce.preventDefault();break;case"End":R(y.endOfWeek(he)),ce.preventDefault();break;case"PageUp":R(y.addMonths(he,1)),ce.preventDefault();break;case"PageDown":R(y.addMonths(he,-1)),ce.preventDefault();break}}),ee=ie((ce,he)=>R(he)),me=ie((ce,he)=>{ae&&y.isSameDay(L,he)&&V?.(!1)}),se=y.getMonth(n),le=m.useMemo(()=>o.filter(ce=>!!ce).map(ce=>y.startOfDay(ce)),[y,o]),Q=se,ue=m.useMemo(()=>m.createRef(),[Q]),Fe=y.startOfWeek(I),Ie=m.useMemo(()=>{const ce=y.startOfMonth(n),he=y.endOfMonth(n);return q(L)||y.isAfterDay(L,he)||y.isBeforeDay(L,ce)?Br({utils:y,date:L,minDate:ce,maxDate:he,disablePast:w,disableFuture:b,isDateDisabled:q,timezone:U}):L},[n,b,w,L,q,y,U]),mt=m.useMemo(()=>{const ce=y.setTimezone(n,U),he=y.getWeekArray(ce);let K=y.addMonths(ce,1);for(;$&&he.length<$;){const ne=y.getWeekArray(K),pe=y.isSameDay(he[he.length-1][0],ne[0][0]);ne.slice(pe?1:0).forEach(Oe=>{he.length<$&&he.push(Oe)}),K=y.addMonths(K,1)}return he},[n,$,y,U]);return i.jsxs(um,{role:"grid","aria-labelledby":T,className:F.root,children:[i.jsxs(dm,{role:"row",className:F.header,children:[W&&i.jsx(fm,{variant:"caption",role:"columnheader","aria-label":re.calendarWeekNumberHeaderLabel,className:F.weekNumberLabel,children:re.calendarWeekNumberHeaderText}),lh(y,I).map((ce,he)=>{var K;const ne=y.format(ce,"weekdayShort");return i.jsx(hm,{variant:"caption",role:"columnheader","aria-label":y.format(y.addDays(Fe,he),"weekday"),className:F.weekDayLabel,children:(K=_?.(ne,ce))!=null?K:ne},ne+he.toString())})]}),l?i.jsx(pm,{className:F.loadingContainer,children:f()}):i.jsx(vm,M({transKey:Q,onExited:c,reduceAnimations:p,slideDirection:h,className:Be(a,F.slideTransition)},x,{nodeRef:ue,children:i.jsx(gm,{ref:ue,role:"rowgroup",className:F.monthContainer,children:mt.map((ce,he)=>i.jsxs(ym,{role:"row",className:F.weekContainer,"aria-rowindex":he+1,children:[W&&i.jsx(mm,{className:F.weekNumber,role:"rowheader","aria-label":re.calendarWeekNumberAriaLabelText(y.getWeekNumber(ce[0])),children:re.calendarWeekNumberText(y.getWeekNumber(ce[0]))}),ce.map((K,ne)=>i.jsx(xm,{parentProps:r,day:K,selectedDays:le,focusableDay:Ie,onKeyDown:z,onFocus:ee,onBlur:me,onDaySelect:A,isDateDisabled:q,currentMonthNumber:se,isViewFocused:ae,"aria-colindex":ne+1},K.toString()))]},`week-${ce[0]}`))})}))]})}const bm=(e,r,t)=>(a,n)=>{switch(n.type){case"changeMonth":return M({},a,{slideDirection:n.direction,currentMonth:n.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return M({},a,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(a.focusedDay!=null&&n.focusedDay!=null&&t.isSameDay(n.focusedDay,a.focusedDay))return a;const o=n.focusedDay!=null&&!r&&!t.isSameMonth(a.currentMonth,n.focusedDay);return M({},a,{focusedDay:n.focusedDay,isMonthSwitchingAnimating:o&&!e&&!n.withoutMonthSwitchingAnimation,currentMonth:o?t.startOfMonth(n.focusedDay):a.currentMonth,slideDirection:n.focusedDay!=null&&t.isAfterDay(n.focusedDay,a.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Dm=e=>{const{value:r,referenceDate:t,defaultCalendarMonth:a,disableFuture:n,disablePast:o,disableSwitchToMonthOnDayFocus:s=!1,maxDate:l,minDate:u,onMonthChange:c,reduceAnimations:d,shouldDisableDate:p,timezone:f}=e,h=Te(),x=m.useRef(bm(!!d,s,h)).current,w=m.useMemo(()=>{let S=null;return t?S=t:a&&(S=h.startOfMonth(a)),ft.getInitialReferenceValue({value:r,utils:h,timezone:f,props:e,referenceDate:S,granularity:ot.day})},[]),[b,j]=m.useReducer(x,{isMonthSwitchingAnimating:!1,focusedDay:w,currentMonth:h.startOfMonth(w),slideDirection:"left"}),g=m.useCallback(S=>{j(M({type:"changeMonth"},S)),c&&c(S.newMonth)},[c]),v=m.useCallback(S=>{const V=S;h.isSameMonth(V,b.currentMonth)||g({newMonth:h.startOfMonth(V),direction:h.isAfterDay(V,b.currentMonth)?"left":"right"})},[b.currentMonth,g,h]),D=As({shouldDisableDate:p,minDate:u,maxDate:l,disableFuture:n,disablePast:o,timezone:f}),C=m.useCallback(()=>{j({type:"finishMonthSwitchingAnimation"})},[]),E=ie((S,V)=>{D(S)||j({type:"changeFocusedDay",focusedDay:S,withoutMonthSwitchingAnimation:V})});return{referenceDate:w,calendarState:b,changeMonth:v,changeFocusedDay:E,isDateDisabled:D,onMonthSwitchingAnimationEnd:C,handleChangeMonth:g}},Pm=["props","getOpenDialogAriaText"],Cm=["ownerState"],jm=["ownerState"],Mm=e=>{var r,t,a,n,o;let{props:s,getOpenDialogAriaText:l}=e,u=je(e,Pm);const{slots:c,slotProps:d,className:p,sx:f,format:h,formatDensity:x,timezone:w,name:b,label:j,inputRef:g,readOnly:v,disabled:D,autoFocus:C,localeText:E,reduceAnimations:S}=s,V=Te(),T=m.useRef(null),W=m.useRef(null),$=ra(),H=(r=d==null||(t=d.toolbar)==null?void 0:t.hidden)!=null?r:!1,{open:U,actions:I,hasUIView:y,layoutProps:F,renderCurrentView:B,shouldRestoreFocus:k,fieldProps:_}=Ss(M({},u,{props:s,inputRef:T,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),q=(a=c.inputAdornment)!=null?a:Xe,re=$e({elementType:q,externalSlotProps:d?.inputAdornment,additionalProps:{position:"end"},ownerState:s}),ae=je(re,Cm),N=(n=c.openPickerButton)!=null?n:We,L=$e({elementType:N,externalSlotProps:d?.openPickerButton,additionalProps:{disabled:D||v,onClick:U?I.onClose:I.onOpen,"aria-label":l(_.value,V),edge:ae.position},ownerState:s}),oe=je(L,jm),A=c.openPickerIcon,R=c.field,z=$e({elementType:R,externalSlotProps:d?.field,additionalProps:M({},_,H&&{id:$},{readOnly:v,disabled:D,className:p,sx:f,format:h,formatDensity:x,timezone:w,label:j,name:b,autoFocus:C&&!s.open,focused:U?!0:void 0}),ownerState:s});y&&(z.InputProps=M({},z.InputProps,{ref:W},!s.disableOpenPicker&&{[`${ae.position}Adornment`]:i.jsx(q,M({},ae,{children:i.jsx(N,M({},oe,{children:i.jsx(A,M({},d?.openPickerIcon))}))}))}));const ee=M({textField:c.textField,clearIcon:c.clearIcon,clearButton:c.clearButton},z.slots),me=(o=c.layout)!=null?o:Is,se=St(T,z.inputRef,g);let le=$;H&&(j?le=`${$}-label`:le=void 0);const Q=M({},d,{toolbar:M({},d?.toolbar,{titleId:$}),popper:M({"aria-labelledby":le},d?.popper)});return{renderPicker:()=>i.jsxs(Bt,{localeText:E,children:[i.jsx(R,M({},z,{slots:ee,slotProps:Q,inputRef:se})),i.jsx(vf,M({role:"dialog",placement:"bottom-start",anchorEl:W.current},I,{open:U,slots:c,slotProps:Q,shouldRestoreFocus:k,reduceAnimations:S,children:i.jsx(me,M({},F,Q?.layout,{slots:c,slotProps:Q,children:B()}))}))]})}},Sm=e=>{var r,t,a;const n=Te(),o=Qr();return M({},e,{disablePast:(r=e.disablePast)!=null?r:!1,disableFuture:(t=e.disableFuture)!=null?t:!1,format:(a=e.format)!=null?a:n.formats.keyboardDate,minDate:tt(n,e.minDate,o.minDate),maxDate:tt(n,e.maxDate,o.maxDate)})},km=({props:e,inputRef:r})=>{const t=Sm(e),{forwardedProps:a,internalProps:n}=qf(t);return bf({inputRef:r,forwardedProps:a,internalProps:n,valueManager:ft,fieldValueManager:jh,validator:On})},Tm=["ownerState"],Im=({clearable:e,fieldProps:r,InputProps:t,onClear:a,slots:n,slotProps:o,components:s,componentsProps:l})=>{var u,c,d,p,f,h;const x=Dt(),w=(u=(c=n?.clearButton)!=null?c:s?.ClearButton)!=null?u:We,b=$e({elementType:w,externalSlotProps:(d=o?.clearButton)!=null?d:l?.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:x.fieldClearLabel}}),j=je(b,Tm),g=(p=(f=n?.clearIcon)!=null?f:s?.ClearIcon)!=null?p:Bh,v=$e({elementType:g,externalSlotProps:(h=o?.clearIcon)!=null?h:l?.clearIcon,ownerState:{}}),D=M({},t,{endAdornment:i.jsxs(m.Fragment,{children:[e&&i.jsx(Xe,{position:"end",sx:{marginRight:t!=null&&t.endAdornment?-1:-1.5},children:i.jsx(w,M({},j,{onClick:a,children:i.jsx(g,M({fontSize:"small"},v))}))}),t?.endAdornment]})}),C=M({},r,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(r.sx)?r.sx:[r.sx]]});return{InputProps:D,fieldProps:C}},Om=["components","componentsProps","slots","slotProps","InputProps","inputProps"],Em=["inputRef"],Rm=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],Vs=m.forwardRef(function(r,t){var a,n,o;const s=He({props:r,name:"MuiDateField"}),{components:l,componentsProps:u,slots:c,slotProps:d,InputProps:p,inputProps:f}=s,h=je(s,Om),x=s,w=(a=(n=c?.textField)!=null?n:l?.TextField)!=null?a:ke,b=$e({elementType:w,externalSlotProps:(o=d?.textField)!=null?o:u?.textField,externalForwardedProps:h,ownerState:x}),{inputRef:j}=b,g=je(b,Em);g.inputProps=M({},f,g.inputProps),g.InputProps=M({},p,g.InputProps);const v=km({props:g,inputRef:j}),{ref:D,onPaste:C,onKeyDown:E,inputMode:S,readOnly:V,clearable:T,onClear:W}=v,$=je(v,Rm),{InputProps:H,fieldProps:U}=Im({onClear:W,clearable:T,fieldProps:$,InputProps:$.InputProps,slots:c,slotProps:d,components:l,componentsProps:u});return i.jsx(w,M({ref:t},U,{InputProps:M({},H,{readOnly:V}),inputProps:M({},$.inputProps,{inputMode:S,onPaste:C,onKeyDown:E,ref:D})}))}),_m=e=>qe("MuiPickersFadeTransitionGroup",e);Ge("MuiPickersFadeTransitionGroup",["root"]);const Am=e=>{const{classes:r}=e;return Ue({root:["root"]},_m,r)},Fm=de(Ho,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"block",position:"relative"});function Ns(e){const r=He({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:t,className:a,reduceAnimations:n,transKey:o}=r,s=Am(r),l=lt();return n?t:i.jsx(Fm,{className:Be(s.root,a),children:i.jsx(bn,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:t},o)})}function Vm(e){return qe("MuiPickersMonth",e)}const en=Ge("MuiPickersMonth",["root","monthButton","disabled","selected"]),Nm=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],Lm=e=>{const{disabled:r,selected:t,classes:a}=e;return Ue({root:["root"],monthButton:["monthButton",r&&"disabled",t&&"selected"]},Vm,a)},Wm=de("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,r)=>[r.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),$m=de("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,r)=>[r.monthButton,{[`&.${en.disabled}`]:r.disabled},{[`&.${en.selected}`]:r.selected}]})(({theme:e})=>M({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Nt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Nt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${en.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${en.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Hm=m.memo(function(r){const t=He({props:r,name:"MuiPickersMonth"}),{autoFocus:a,children:n,disabled:o,selected:s,value:l,tabIndex:u,onClick:c,onKeyDown:d,onFocus:p,onBlur:f,"aria-current":h,"aria-label":x}=t,w=je(t,Nm),b=m.useRef(null),j=Lm(t);return Vt(()=>{if(a){var g;(g=b.current)==null||g.focus()}},[a]),i.jsx(Wm,M({className:j.root,ownerState:t},w,{children:i.jsx($m,{ref:b,disabled:o,type:"button",role:"radio",tabIndex:o?-1:u,"aria-current":h,"aria-checked":s,"aria-label":x,onClick:g=>c(g,l),onKeyDown:g=>d(g,l),onFocus:g=>p(g,l),onBlur:g=>f(g,l),className:j.monthButton,ownerState:t,children:n})}))});function Bm(e){return qe("MuiMonthCalendar",e)}Ge("MuiMonthCalendar",["root"]);const zm=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],Ym=e=>{const{classes:r}=e;return Ue({root:["root"]},Bm,r)};function Um(e,r){const t=Te(),a=Qr(),n=He({props:e,name:r});return M({disableFuture:!1,disablePast:!1},n,{minDate:tt(t,n.minDate,a.minDate),maxDate:tt(t,n.maxDate,a.maxDate)})}const qm=de("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:In,boxSizing:"border-box"}),Gm=m.forwardRef(function(r,t){const a=Um(r,"MuiMonthCalendar"),{className:n,value:o,defaultValue:s,referenceDate:l,disabled:u,disableFuture:c,disablePast:d,maxDate:p,minDate:f,onChange:h,shouldDisableMonth:x,readOnly:w,disableHighlightToday:b,autoFocus:j=!1,onMonthFocus:g,hasFocus:v,onFocusedViewChange:D,monthsPerRow:C=3,timezone:E,gridLabelId:S}=a,V=je(a,zm),{value:T,handleValueChange:W,timezone:$}=xa({name:"MonthCalendar",timezone:E,value:o,defaultValue:s,onChange:h,valueManager:ft}),H=kn($),U=Bo(),I=Te(),y=m.useMemo(()=>ft.getInitialReferenceValue({value:T,utils:I,props:a,timezone:$,referenceDate:l,granularity:ot.month}),[]),F=a,B=Ym(F),k=m.useMemo(()=>I.getMonth(H),[I,H]),_=m.useMemo(()=>T!=null?I.getMonth(T):b?null:I.getMonth(y),[T,I,b,y]),[q,re]=m.useState(()=>_||k),[ae,N]=wt({name:"MonthCalendar",state:"hasFocus",controlled:v,default:j??!1}),L=ie(se=>{N(se),D&&D(se)}),oe=m.useCallback(se=>{const le=I.startOfMonth(d&&I.isAfter(H,f)?H:f),Q=I.startOfMonth(c&&I.isBefore(H,p)?H:p),ue=I.startOfMonth(se);return I.isBefore(ue,le)||I.isAfter(ue,Q)?!0:x?x(ue):!1},[c,d,p,f,H,x,I]),A=ie((se,le)=>{if(w)return;const Q=I.setMonth(T??y,le);W(Q)}),R=ie(se=>{oe(I.setMonth(T??y,se))||(re(se),L(!0),g&&g(se))});m.useEffect(()=>{re(se=>_!==null&&se!==_?_:se)},[_]);const z=ie((se,le)=>{switch(se.key){case"ArrowUp":R((12+le-3)%12),se.preventDefault();break;case"ArrowDown":R((12+le+3)%12),se.preventDefault();break;case"ArrowLeft":R((12+le+(U.direction==="ltr"?-1:1))%12),se.preventDefault();break;case"ArrowRight":R((12+le+(U.direction==="ltr"?1:-1))%12),se.preventDefault();break}}),ee=ie((se,le)=>{R(le)}),me=ie((se,le)=>{q===le&&L(!1)});return i.jsx(qm,M({ref:t,className:Be(B.root,n),ownerState:F,role:"radiogroup","aria-labelledby":S},V,{children:ma(I,T??y).map(se=>{const le=I.getMonth(se),Q=I.format(se,"monthShort"),ue=I.format(se,"month"),Fe=le===_,Ie=u||oe(se);return i.jsx(Hm,{selected:Fe,value:le,onClick:A,onKeyDown:z,autoFocus:ae&&le===q,disabled:Ie,tabIndex:le===q?0:-1,onFocus:ee,onBlur:me,"aria-current":k===le?"date":void 0,"aria-label":ue,monthsPerRow:C,children:Q},Q)})}))});function Qm(e){return qe("MuiPickersYear",e)}const tn=Ge("MuiPickersYear",["root","yearButton","selected","disabled"]),Km=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],Xm=e=>{const{disabled:r,selected:t,classes:a}=e;return Ue({root:["root"],yearButton:["yearButton",r&&"disabled",t&&"selected"]},Qm,a)},Zm=de("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,r)=>[r.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Jm=de("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,r)=>[r.yearButton,{[`&.${tn.disabled}`]:r.disabled},{[`&.${tn.selected}`]:r.selected}]})(({theme:e})=>M({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Nt(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Nt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${tn.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${tn.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),ep=m.memo(function(r){const t=He({props:r,name:"MuiPickersYear"}),{autoFocus:a,className:n,children:o,disabled:s,selected:l,value:u,tabIndex:c,onClick:d,onKeyDown:p,onFocus:f,onBlur:h,"aria-current":x}=t,w=je(t,Km),b=m.useRef(null),j=Xm(t);return m.useEffect(()=>{a&&b.current.focus()},[a]),i.jsx(Zm,M({className:Be(j.root,n),ownerState:t},w,{children:i.jsx(Jm,{ref:b,disabled:s,type:"button",role:"radio",tabIndex:s?-1:c,"aria-current":x,"aria-checked":l,onClick:g=>d(g,u),onKeyDown:g=>p(g,u),onFocus:g=>f(g,u),onBlur:g=>h(g,u),className:j.yearButton,ownerState:t,children:o})}))});function tp(e){return qe("MuiYearCalendar",e)}Ge("MuiYearCalendar",["root"]);const rp=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],np=e=>{const{classes:r}=e;return Ue({root:["root"]},tp,r)};function ap(e,r){var t;const a=Te(),n=Qr(),o=He({props:e,name:r});return M({disablePast:!1,disableFuture:!1},o,{yearsPerRow:(t=o.yearsPerRow)!=null?t:3,minDate:tt(a,o.minDate,n.minDate),maxDate:tt(a,o.maxDate,n.maxDate)})}const op=de("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:In,maxHeight:Zh,boxSizing:"border-box",position:"relative"}),sp=m.forwardRef(function(r,t){const a=ap(r,"MuiYearCalendar"),{autoFocus:n,className:o,value:s,defaultValue:l,referenceDate:u,disabled:c,disableFuture:d,disablePast:p,maxDate:f,minDate:h,onChange:x,readOnly:w,shouldDisableYear:b,disableHighlightToday:j,onYearFocus:g,hasFocus:v,onFocusedViewChange:D,yearsPerRow:C,timezone:E,gridLabelId:S}=a,V=je(a,rp),{value:T,handleValueChange:W,timezone:$}=xa({name:"YearCalendar",timezone:E,value:s,defaultValue:l,onChange:x,valueManager:ft}),H=kn($),U=Bo(),I=Te(),y=m.useMemo(()=>ft.getInitialReferenceValue({value:T,utils:I,props:a,timezone:$,referenceDate:u,granularity:ot.year}),[]),F=a,B=np(F),k=m.useMemo(()=>I.getYear(H),[I,H]),_=m.useMemo(()=>T!=null?I.getYear(T):j?null:I.getYear(y),[T,I,j,y]),[q,re]=m.useState(()=>_||k),[ae,N]=wt({name:"YearCalendar",state:"hasFocus",controlled:v,default:n??!1}),L=ie(Q=>{N(Q),D&&D(Q)}),oe=m.useCallback(Q=>{if(p&&I.isBeforeYear(Q,H)||d&&I.isAfterYear(Q,H)||h&&I.isBeforeYear(Q,h)||f&&I.isAfterYear(Q,f))return!0;if(!b)return!1;const ue=I.startOfYear(Q);return b(ue)},[d,p,f,h,H,b,I]),A=ie((Q,ue)=>{if(w)return;const Fe=I.setYear(T??y,ue);W(Fe)}),R=ie(Q=>{oe(I.setYear(T??y,Q))||(re(Q),L(!0),g?.(Q))});m.useEffect(()=>{re(Q=>_!==null&&Q!==_?_:Q)},[_]);const z=ie((Q,ue)=>{switch(Q.key){case"ArrowUp":R(ue-C),Q.preventDefault();break;case"ArrowDown":R(ue+C),Q.preventDefault();break;case"ArrowLeft":R(ue+(U.direction==="ltr"?-1:1)),Q.preventDefault();break;case"ArrowRight":R(ue+(U.direction==="ltr"?1:-1)),Q.preventDefault();break}}),ee=ie((Q,ue)=>{R(ue)}),me=ie((Q,ue)=>{q===ue&&L(!1)}),se=m.useRef(null),le=St(t,se);return m.useEffect(()=>{if(n||se.current===null)return;const Q=se.current.querySelector('[tabindex="0"]');if(!Q)return;const ue=Q.offsetHeight,Fe=Q.offsetTop,Ie=se.current.clientHeight,mt=se.current.scrollTop,ce=Fe+ue;ue>Ie||Fe<mt||(se.current.scrollTop=ce-Ie/2-ue/2)},[n]),i.jsx(op,M({ref:le,className:Be(B.root,o),ownerState:F,role:"radiogroup","aria-labelledby":S},V,{children:I.getYearRange(h,f).map(Q=>{const ue=I.getYear(Q),Fe=ue===_,Ie=c||oe(Q);return i.jsx(ep,{selected:Fe,value:ue,onClick:A,onKeyDown:z,autoFocus:ae&&ue===q,disabled:Ie,tabIndex:ue===q?0:-1,onFocus:ee,onBlur:me,"aria-current":k===ue?"date":void 0,yearsPerRow:C,children:I.format(Q,"year")},I.format(Q,"year"))})}))}),ip=e=>qe("MuiPickersCalendarHeader",e),lp=Ge("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),cp=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],up=["ownerState"],dp=e=>{const{classes:r}=e;return Ue({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},ip,r)},hp=de("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),fp=de("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,r)=>r.labelContainer})(({theme:e})=>M({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),mp=de("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,r)=>r.label})({marginRight:6}),pp=de(We,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,r)=>r.switchViewButton})(({ownerState:e})=>M({marginRight:"auto"},e.view==="year"&&{[`.${lp.switchViewIcon}`]:{transform:"rotate(180deg)"}})),vp=de(Lh,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,r)=>r.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),gp=m.forwardRef(function(r,t){var a,n,o,s;const l=Dt(),u=Te(),c=He({props:r,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:p,components:f,currentMonth:h,disabled:x,disableFuture:w,disablePast:b,maxDate:j,minDate:g,onMonthChange:v,onViewChange:D,view:C,reduceAnimations:E,views:S,labelId:V,className:T,timezone:W}=c,$=je(c,cp),H=c,U=dp(c),I=(a=(n=d?.switchViewButton)!=null?n:f?.SwitchViewButton)!=null?a:pp,y=$e({elementType:I,externalSlotProps:p?.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(C)},ownerState:H,className:U.switchViewButton}),F=(o=(s=d?.switchViewIcon)!=null?s:f?.SwitchViewIcon)!=null?o:vp,B=$e({elementType:F,externalSlotProps:p?.switchViewIcon,ownerState:void 0,className:U.switchViewIcon}),k=je(B,up),_=()=>v(u.addMonths(h,1),"left"),q=()=>v(u.addMonths(h,-1),"right"),re=$f(h,{disableFuture:w,maxDate:j,timezone:W}),ae=Hf(h,{disablePast:b,minDate:g,timezone:W}),N=()=>{if(!(S.length===1||!D||x))if(S.length===2)D(S.find(L=>L!==C)||S[0]);else{const L=S.indexOf(C)!==0?0:1;D(S[L])}};return S.length===1&&S[0]==="year"?null:i.jsxs(hp,M({},$,{ownerState:H,className:Be(T,U.root),ref:t,children:[i.jsxs(fp,{role:"presentation",onClick:N,ownerState:H,"aria-live":"polite",className:U.labelContainer,children:[i.jsx(Ns,{reduceAnimations:E,transKey:u.format(h,"monthAndYear"),children:i.jsx(mp,{id:V,ownerState:H,className:U.label,children:u.format(h,"monthAndYear")})}),S.length>1&&!x&&i.jsx(I,M({},y,{children:i.jsx(F,M({},k))}))]}),i.jsx(bn,{in:C==="day",children:i.jsx(Xh,{slots:d,slotProps:p,onGoToPrevious:q,isPreviousDisabled:ae,previousLabel:l.previousMonth,onGoToNext:_,isNextDisabled:re,nextLabel:l.nextMonth})})]}))}),yp=de("div")({overflow:"hidden",width:In,maxHeight:ga,display:"flex",flexDirection:"column",margin:"0 auto"}),xp=e=>qe("MuiDateCalendar",e);Ge("MuiDateCalendar",["root","viewTransitionContainer"]);const wp=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],bp=e=>{const{classes:r}=e;return Ue({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},xp,r)};function Dp(e,r){var t,a,n,o,s,l,u;const c=Te(),d=Qr(),p=Cs(),f=He({props:e,name:r});return M({},f,{loading:(t=f.loading)!=null?t:!1,disablePast:(a=f.disablePast)!=null?a:!1,disableFuture:(n=f.disableFuture)!=null?n:!1,openTo:(o=f.openTo)!=null?o:"day",views:(s=f.views)!=null?s:["year","day"],reduceAnimations:(l=f.reduceAnimations)!=null?l:p,renderLoading:(u=f.renderLoading)!=null?u:()=>i.jsx("span",{children:"..."}),minDate:tt(c,f.minDate,d.minDate),maxDate:tt(c,f.maxDate,d.maxDate)})}const Pp=de(yp,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"flex",flexDirection:"column",height:ga}),Cp=de(Ns,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,r)=>r.viewTransitionContainer})({}),jp=m.forwardRef(function(r,t){var a,n,o;const s=Te(),l=ra(),u=Dp(r,"MuiDateCalendar"),{autoFocus:c,onViewChange:d,value:p,defaultValue:f,referenceDate:h,disableFuture:x,disablePast:w,defaultCalendarMonth:b,onChange:j,onYearChange:g,onMonthChange:v,reduceAnimations:D,shouldDisableDate:C,shouldDisableMonth:E,shouldDisableYear:S,view:V,views:T,openTo:W,className:$,disabled:H,readOnly:U,minDate:I,maxDate:y,disableHighlightToday:F,focusedView:B,onFocusedViewChange:k,showDaysOutsideCurrentMonth:_,fixedWeekNumber:q,dayOfWeekFormatter:re,components:ae,componentsProps:N,slots:L,slotProps:oe,loading:A,renderLoading:R,displayWeekNumber:z,yearsPerRow:ee,monthsPerRow:me,timezone:se}=u,le=je(u,wp),{value:Q,handleValueChange:ue,timezone:Fe}=xa({name:"DateCalendar",timezone:se,value:p,defaultValue:f,onChange:j,valueManager:ft}),{view:Ie,setView:mt,focusedView:ce,setFocusedView:he,goToNextView:K,setValueAndGoToNextView:ne}=Ms({view:V,views:T,openTo:W,onChange:ue,onViewChange:d,autoFocus:c,focusedView:B,onFocusedViewChange:k}),{referenceDate:pe,calendarState:Oe,changeFocusedDay:ze,changeMonth:Ye,handleChangeMonth:nt,isDateDisabled:Qe,onMonthSwitchingAnimationEnd:zt}=Dm({value:Q,defaultCalendarMonth:b,referenceDate:h,reduceAnimations:D,onMonthChange:v,minDate:I,maxDate:y,shouldDisableDate:C,disablePast:w,disableFuture:x,timezone:Fe}),Yt=H&&Q||I,pt=H&&Q||y,En=`${l}-grid-label`,Ut=ce!==null,rt=(a=(n=L?.calendarHeader)!=null?n:ae?.CalendarHeader)!=null?a:gp,Hs=$e({elementType:rt,externalSlotProps:(o=oe?.calendarHeader)!=null?o:N?.calendarHeader,additionalProps:{views:T,view:Ie,currentMonth:Oe.currentMonth,onViewChange:mt,onMonthChange:(Ee,at)=>nt({newMonth:Ee,direction:at}),minDate:Yt,maxDate:pt,disabled:H,disablePast:w,disableFuture:x,reduceAnimations:D,timezone:Fe,labelId:En,slots:L,slotProps:oe},ownerState:u}),Bs=ie(Ee=>{const at=s.startOfMonth(Ee),qt=s.endOfMonth(Ee),vt=Qe(Ee)?Br({utils:s,date:Ee,minDate:s.isBefore(I,at)?at:I,maxDate:s.isAfter(y,qt)?qt:y,disablePast:w,disableFuture:x,isDateDisabled:Qe,timezone:Fe}):Ee;vt?(ne(vt,"finish"),v?.(at)):(K(),Ye(at)),ze(vt,!0)}),zs=ie(Ee=>{const at=s.startOfYear(Ee),qt=s.endOfYear(Ee),vt=Qe(Ee)?Br({utils:s,date:Ee,minDate:s.isBefore(I,at)?at:I,maxDate:s.isAfter(y,qt)?qt:y,disablePast:w,disableFuture:x,isDateDisabled:Qe,timezone:Fe}):Ee;vt?(ne(vt,"finish"),g?.(vt)):(K(),Ye(at)),ze(vt,!0)}),Ys=ie(Ee=>ue(Ee&&vn(s,Ee,Q??pe),"finish",Ie));m.useEffect(()=>{Q!=null&&s.isValid(Q)&&Ye(Q)},[Q]);const Rn=u,ba=bp(Rn),_n={disablePast:w,disableFuture:x,maxDate:y,minDate:I},An={disableHighlightToday:F,readOnly:U,disabled:H,timezone:Fe,gridLabelId:En},Fn=m.useRef(Ie);m.useEffect(()=>{Fn.current!==Ie&&(ce===Fn.current&&he(Ie,!0),Fn.current=Ie)},[ce,he,Ie]);const Us=m.useMemo(()=>[Q],[Q]);return i.jsxs(Pp,M({ref:t,className:Be(ba.root,$),ownerState:Rn},le,{children:[i.jsx(rt,M({},Hs)),i.jsx(Cp,{reduceAnimations:D,className:ba.viewTransitionContainer,transKey:Ie,ownerState:Rn,children:i.jsxs("div",{children:[Ie==="year"&&i.jsx(sp,M({},_n,An,{value:Q,onChange:zs,shouldDisableYear:S,hasFocus:Ut,onFocusedViewChange:Ee=>he("year",Ee),yearsPerRow:ee,referenceDate:pe})),Ie==="month"&&i.jsx(Gm,M({},_n,An,{hasFocus:Ut,className:$,value:Q,onChange:Bs,shouldDisableMonth:E,onFocusedViewChange:Ee=>he("month",Ee),monthsPerRow:me,referenceDate:pe})),Ie==="day"&&i.jsx(wm,M({},Oe,_n,An,{onMonthSwitchingAnimationEnd:zt,onFocusedDayChange:ze,reduceAnimations:D,selectedDays:Us,onSelectedDaysChange:Ys,shouldDisableDate:C,shouldDisableMonth:E,shouldDisableYear:S,hasFocus:Ut,onFocusedViewChange:Ee=>he("day",Ee),showDaysOutsideCurrentMonth:_,fixedWeekNumber:q,dayOfWeekFormatter:re,displayWeekNumber:z,components:ae,componentsProps:N,slots:L,slotProps:oe,loading:A,renderLoading:R}))]})})]}))}),Ft=({view:e,onViewChange:r,views:t,focusedView:a,onFocusedViewChange:n,value:o,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:f,minDate:h,maxDate:x,shouldDisableDate:w,shouldDisableMonth:b,shouldDisableYear:j,reduceAnimations:g,onMonthChange:v,monthsPerRow:D,onYearChange:C,yearsPerRow:E,defaultCalendarMonth:S,components:V,componentsProps:T,slots:W,slotProps:$,loading:H,renderLoading:U,disableHighlightToday:I,readOnly:y,disabled:F,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:k,sx:_,autoFocus:q,fixedWeekNumber:re,displayWeekNumber:ae,timezone:N})=>i.jsx(jp,{view:e,onViewChange:r,views:t.filter(ho),focusedView:a&&ho(a)?a:null,onFocusedViewChange:n,value:o,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:f,minDate:h,maxDate:x,shouldDisableDate:w,shouldDisableMonth:b,shouldDisableYear:j,reduceAnimations:g,onMonthChange:v,monthsPerRow:D,onYearChange:C,yearsPerRow:E,defaultCalendarMonth:S,components:V,componentsProps:T,slots:W,slotProps:$,loading:H,renderLoading:U,disableHighlightToday:I,readOnly:y,disabled:F,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:k,sx:_,autoFocus:q,fixedWeekNumber:re,displayWeekNumber:ae,timezone:N}),Ls=m.forwardRef(function(r,t){var a,n,o,s;const l=Dt(),u=Te(),c=Ps(r,"MuiDesktopDatePicker"),d=M({day:Ft,month:Ft,year:Ft},c.viewRenderers),p=M({},c,{viewRenderers:d,format:pa(u,c,!1),yearsPerRow:(a=c.yearsPerRow)!=null?a:4,slots:M({openPickerIcon:Hh,field:Vs},c.slots),slotProps:M({},c.slotProps,{field:h=>{var x;return M({},fa((x=c.slotProps)==null?void 0:x.field,h),Es(c),{ref:t})},toolbar:M({hidden:!0},(n=c.slotProps)==null?void 0:n.toolbar)})}),{renderPicker:f}=Mm({props:p,valueManager:ft,valueType:"date",getOpenDialogAriaText:(o=(s=p.localeText)==null?void 0:s.openDatePickerDialogue)!=null?o:l.openDatePickerDialogue,validator:On});return f()});Ls.propTypes={autoFocus:P.bool,className:P.string,closeOnSelect:P.bool,components:P.object,componentsProps:P.object,dayOfWeekFormatter:P.func,defaultCalendarMonth:P.any,defaultValue:P.any,disabled:P.bool,disableFuture:P.bool,disableHighlightToday:P.bool,disableOpenPicker:P.bool,disablePast:P.bool,displayWeekNumber:P.bool,fixedWeekNumber:P.number,format:P.string,formatDensity:P.oneOf(["dense","spacious"]),inputRef:zo,label:P.node,loading:P.bool,localeText:P.object,maxDate:P.any,minDate:P.any,monthsPerRow:P.oneOf([3,4]),name:P.string,onAccept:P.func,onChange:P.func,onClose:P.func,onError:P.func,onMonthChange:P.func,onOpen:P.func,onSelectedSectionsChange:P.func,onViewChange:P.func,onYearChange:P.func,open:P.bool,openTo:P.oneOf(["day","month","year"]),orientation:P.oneOf(["landscape","portrait"]),readOnly:P.bool,reduceAnimations:P.bool,referenceDate:P.any,renderLoading:P.func,selectedSections:P.oneOfType([P.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),P.number,P.shape({endIndex:P.number.isRequired,startIndex:P.number.isRequired})]),shouldDisableDate:P.func,shouldDisableMonth:P.func,shouldDisableYear:P.func,showDaysOutsideCurrentMonth:P.bool,slotProps:P.object,slots:P.object,sx:P.oneOfType([P.arrayOf(P.oneOfType([P.func,P.object,P.bool])),P.func,P.object]),timezone:P.string,value:P.any,view:P.oneOf(["day","month","year"]),viewRenderers:P.shape({day:P.func,month:P.func,year:P.func}),views:P.arrayOf(P.oneOf(["day","month","year"]).isRequired),yearsPerRow:P.oneOf([3,4])};const Mp=["props","getOpenDialogAriaText"],Sp=e=>{var r,t,a;let{props:n,getOpenDialogAriaText:o}=e,s=je(e,Mp);const{slots:l,slotProps:u,className:c,sx:d,format:p,formatDensity:f,timezone:h,name:x,label:w,inputRef:b,readOnly:j,disabled:g,localeText:v}=n,D=Te(),C=m.useRef(null),E=ra(),S=(r=u==null||(t=u.toolbar)==null?void 0:t.hidden)!=null?r:!1,{open:V,actions:T,layoutProps:W,renderCurrentView:$,fieldProps:H}=Ss(M({},s,{props:n,inputRef:C,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),U=l.field,I=$e({elementType:U,externalSlotProps:u?.field,additionalProps:M({},H,S&&{id:E},!(g||j)&&{onClick:T.onOpen,onKeyDown:af(T.onOpen)},{readOnly:j??!0,disabled:g,className:c,sx:d,format:p,formatDensity:f,timezone:h,label:w,name:x}),ownerState:n});I.inputProps=M({},I.inputProps,{"aria-label":o(H.value,D)});const y=M({textField:l.textField},I.slots),F=(a=l.layout)!=null?a:Is,B=St(C,I.inputRef,b);let k=E;S&&(w?k=`${E}-label`:k=void 0);const _=M({},u,{toolbar:M({},u?.toolbar,{titleId:E}),mobilePaper:M({"aria-labelledby":k},u?.mobilePaper)});return{renderPicker:()=>i.jsxs(Bt,{localeText:v,children:[i.jsx(U,M({},I,{slots:y,slotProps:_,inputRef:B})),i.jsx(tf,M({},T,{open:V,slots:l,slotProps:_,children:i.jsx(F,M({},W,_?.layout,{slots:l,slotProps:_,children:$()}))}))]})}},Ws=m.forwardRef(function(r,t){var a,n,o;const s=Dt(),l=Te(),u=Ps(r,"MuiMobileDatePicker"),c=M({day:Ft,month:Ft,year:Ft},u.viewRenderers),d=M({},u,{viewRenderers:c,format:pa(l,u,!1),slots:M({field:Vs},u.slots),slotProps:M({},u.slotProps,{field:f=>{var h;return M({},fa((h=u.slotProps)==null?void 0:h.field,f),Es(u),{ref:t})},toolbar:M({hidden:!1},(a=u.slotProps)==null?void 0:a.toolbar)})}),{renderPicker:p}=Sp({props:d,valueManager:ft,valueType:"date",getOpenDialogAriaText:(n=(o=d.localeText)==null?void 0:o.openDatePickerDialogue)!=null?n:s.openDatePickerDialogue,validator:On});return p()});Ws.propTypes={autoFocus:P.bool,className:P.string,closeOnSelect:P.bool,components:P.object,componentsProps:P.object,dayOfWeekFormatter:P.func,defaultCalendarMonth:P.any,defaultValue:P.any,disabled:P.bool,disableFuture:P.bool,disableHighlightToday:P.bool,disableOpenPicker:P.bool,disablePast:P.bool,displayWeekNumber:P.bool,fixedWeekNumber:P.number,format:P.string,formatDensity:P.oneOf(["dense","spacious"]),inputRef:zo,label:P.node,loading:P.bool,localeText:P.object,maxDate:P.any,minDate:P.any,monthsPerRow:P.oneOf([3,4]),name:P.string,onAccept:P.func,onChange:P.func,onClose:P.func,onError:P.func,onMonthChange:P.func,onOpen:P.func,onSelectedSectionsChange:P.func,onViewChange:P.func,onYearChange:P.func,open:P.bool,openTo:P.oneOf(["day","month","year"]),orientation:P.oneOf(["landscape","portrait"]),readOnly:P.bool,reduceAnimations:P.bool,referenceDate:P.any,renderLoading:P.func,selectedSections:P.oneOfType([P.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),P.number,P.shape({endIndex:P.number.isRequired,startIndex:P.number.isRequired})]),shouldDisableDate:P.func,shouldDisableMonth:P.func,shouldDisableYear:P.func,showDaysOutsideCurrentMonth:P.bool,slotProps:P.object,slots:P.object,sx:P.oneOfType([P.arrayOf(P.oneOfType([P.func,P.object,P.bool])),P.func,P.object]),timezone:P.string,value:P.any,view:P.oneOf(["day","month","year"]),viewRenderers:P.shape({day:P.func,month:P.func,year:P.func}),views:P.arrayOf(P.oneOf(["day","month","year"]).isRequired),yearsPerRow:P.oneOf([3,4])};const kp=["desktopModeMediaQuery"],Ht=m.forwardRef(function(r,t){const a=He({props:r,name:"MuiDatePicker"}),{desktopModeMediaQuery:n=of}=a,o=je(a,kp);return yn(n,{defaultMatches:!0})?i.jsx(Ls,M({ref:t},o)):i.jsx(Ws,M({ref:t},o))});var br={},Do;function Tp(){if(Do)return br;Do=1;var e=ge();Object.defineProperty(br,"__esModule",{value:!0}),br.default=void 0;var r=e(xe()),t=ye();return br.default=(0,r.default)((0,t.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),br}var Ip=Tp();const wa=fe(Ip),Op=({startDate:e,endDate:r,onStartDateChange:t,onEndDateChange:a,onRefresh:n,loading:o,chartType:s,onChartTypeChange:l,comparisonMode:u,onComparisonModeChange:c,properties:d=[],selectedPropertyId:p,onPropertyChange:f,selectedMpId:h,onMpChange:x})=>{const w=lt(),b=yn(w.breakpoints.down("md")),g=d.find(v=>Number(v.id)===Number(p))?.meteringPoints||[];return i.jsx(X,{sx:{p:2,mb:3,bgcolor:"background.paper",borderRadius:2,border:"1px solid",borderColor:"divider"},children:i.jsxs(Lt,{direction:b?"column":"row",spacing:2,alignItems:b?"stretch":"center",flexWrap:"wrap",children:[i.jsxs(Vr,{size:"small",sx:{minWidth:150},children:[i.jsx(Nr,{children:"Property"}),i.jsx(Lr,{value:p||"",label:"Property",onChange:f,children:d.map(v=>i.jsx(Ke,{value:v.id,children:v.name},v.id))})]}),i.jsxs(Vr,{size:"small",sx:{minWidth:150},disabled:!p,children:[i.jsx(Nr,{children:"Meter"}),i.jsx(Lr,{value:h||"",label:"Meter",onChange:x,children:g.map(v=>i.jsx(Ke,{value:v.id,children:v.name},v.id))})]}),i.jsx(Ht,{label:"Start Date",value:e,onChange:t,maxDate:new Date,format:"dd/MM/yyyy",slotProps:{textField:{size:"small",fullWidth:b}}}),i.jsx(Ht,{label:"End Date",value:r,onChange:a,minDate:e,maxDate:new Date,format:"dd/MM/yyyy",slotProps:{textField:{size:"small",fullWidth:b}}}),i.jsxs(Vr,{size:"small",sx:{minWidth:120},children:[i.jsx(Nr,{children:"Chart Type"}),i.jsxs(Lr,{value:s,label:"Chart Type",onChange:l,children:[i.jsx(Ke,{value:"candlestick",children:"Candlestick (Daily)"}),i.jsx(Ke,{value:"bar",children:"Bar (Hourly)"}),i.jsx(Ke,{value:"line",children:"Line (Trend)"})]})]}),i.jsx(X,{sx:{flexGrow:1}}),i.jsx(Se,{variant:"contained",startIcon:o?i.jsx(xt,{size:20,color:"inherit"}):i.jsx(wa,{}),onClick:n,disabled:o,fullWidth:b,children:o?"Loading...":"Refresh Data"})]})})},Ep=()=>{const e=lt(),t=(()=>{const k=new Date;k.setDate(k.getDate()-2);const _=new Date(k);return _.setDate(_.getDate()-7),{startDate:_,endDate:k}})(),[a,n]=m.useState(null),[o,s]=m.useState(!1),[l,u]=m.useState(null),[c,d]=m.useState(t.startDate),[p,f]=m.useState(t.endDate),[h,x]=m.useState("candlestick"),[w,b]=m.useState("none"),[j,g]=m.useState([]),[v,D]=m.useState(""),[C,E]=m.useState("");m.useEffect(()=>{(async()=>{try{const _=await ht("/api/settings/properties");if(_.ok){const q=await _.json();g(q),q.length>0&&(D(q[0].id),q[0].meteringPoints?.length>0&&E(q[0].meteringPoints[0].id))}}catch(_){console.error("Failed to fetch properties:",_)}})()},[]);const S=k=>{const _=k.target.value;D(_);const q=j.find(re=>re.id===Number(_));q?.meteringPoints?.length>0?E(q.meteringPoints[0].id):E("")},V=k=>{E(k.target.value)},T=(k,_)=>k>_?"Start date must be before or equal to end date":Math.ceil(Math.abs(_-k)/(1e3*60*60*24))>730?"Date range cannot exceed 730 days (API limitation)":null,W=async()=>{const k=T(c,p);if(k){u(k);return}if(!C){u("Please select a metering point");return}s(!0),u(null);try{const _=N=>{const L=N.getFullYear(),oe=String(N.getMonth()+1).padStart(2,"0"),A=String(N.getDate()).padStart(2,"0");return`${L}-${oe}-${A}`},q=`/api/database-demo?dateFrom=${_(c)}&dateTo=${_(p)}&meteringPointId=${C}`,re=await ht(q);if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);const ae=await re.json();n(ae)}catch(_){console.error("Error fetching data:",_),u("Failed to fetch data from database. Please try again later.")}finally{s(!1)}},$=k=>{const _=k?.result?.[0];if(!_?.success||_?.errorCode!==1e4)return[];if(!k?.result?.[0]?.MyEnergyData_MarketDocument?.TimeSeries?.[0])return[];const re=k.result[0].MyEnergyData_MarketDocument.TimeSeries[0].Period||[],ae=[];return re.forEach(N=>{const L=N.Point||[],oe=new Date(N.timeInterval?.start||new Date);L.forEach(A=>{const R=new Date(oe);R.setHours(oe.getHours()+(parseInt(A.position)-1));const z=parseFloat(A["out_Quantity.quantity"]||0);ae.push({timestamp:R,label:R.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})+" "+R.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),consumption:z})})}),ae.sort((N,L)=>N.timestamp-L.timestamp)},H=k=>{const _=k?.result?.[0];if(!_?.success||_?.errorCode!==1e4)return[];if(!k?.result?.[0]?.MyEnergyData_MarketDocument?.TimeSeries?.[0])return[];const re=k.result[0].MyEnergyData_MarketDocument.TimeSeries[0].Period||[],ae={};return re.forEach(N=>{const L=N.Point||[],oe=new Date(N.timeInterval?.start||new Date);L.forEach(A=>{const R=new Date(oe);R.setHours(oe.getHours()+(parseInt(A.position)-1));const z=R.toLocaleDateString("en-GB"),ee=parseFloat(A["out_Quantity.quantity"]||0);ae[z]||(ae[z]={date:z,timestamp:new Date(R.getFullYear(),R.getMonth(),R.getDate()),consumptions:[]}),ae[z].consumptions.push(ee)})}),Object.values(ae).map(N=>{const L=N.consumptions.sort((z,ee)=>z-ee),oe=Math.min(...L),A=Math.max(...L),R=L.reduce((z,ee)=>z+ee,0)/L.length;return{date:N.date,timestamp:N.timestamp,min:oe,max:A,avg:R,allZeros:L.every(z=>z===0),hasData:L.reduce((z,ee)=>z+ee,0)>0}}).sort((N,L)=>N.timestamp-L.timestamp)},U=a?$(a):[],I=a?H(a):[],y=k=>k.map(_=>({x:_.date,y:[_.avg,_.max,_.min,_.avg]})),F=k=>k.map(_=>({x:_.label,y:_.consumption})),B=k=>k.map(_=>({x:_.timestamp.getTime(),y:_.consumption}));return i.jsx(Bt,{dateAdapter:Mn,children:i.jsxs(X,{children:[i.jsxs(X,{sx:{mb:4},children:[i.jsx(O,{variant:"h4",gutterBottom:!0,color:"text.primary",sx:{fontWeight:"bold"},children:"Analysis"}),i.jsx(O,{variant:"body1",color:"text.secondary",children:"Deep dive into your electricity consumption patterns per property."})]}),i.jsx(Op,{startDate:c,endDate:p,onStartDateChange:d,onEndDateChange:f,onRefresh:W,loading:o,chartType:h,onChartTypeChange:k=>x(k.target.value),comparisonMode:w,onComparisonModeChange:k=>b(k.target.value),properties:j,selectedPropertyId:v,onPropertyChange:S,selectedMpId:C,onMpChange:V}),l&&i.jsx(Ze,{severity:"error",sx:{mb:3},onClose:()=>u(null),children:l}),i.jsx(te,{container:!0,spacing:3,children:i.jsx(te,{item:!0,xs:12,children:i.jsx(_e,{variant:"outlined",sx:{borderRadius:2},children:i.jsxs(Le,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"medium"},children:h==="candlestick"?"Daily Range (Min/Max/Avg)":h==="bar"?"Hourly Consumption":"Consumption Trend"}),o?i.jsxs(X,{sx:{p:10,textAlign:"center"},children:[i.jsx(xt,{size:32}),i.jsx(O,{sx:{mt:2},color:"text.secondary",children:"Fetching consumption data..."})]}):a?i.jsxs(i.Fragment,{children:[h==="candlestick"&&I.length>0&&i.jsx(_t,{options:{...ds(I.map(k=>k.date),I.filter(k=>k.allZeros).map(k=>k.date),e.palette.mode),theme:{mode:e.palette.mode}},series:[{data:y(I)}],type:"candlestick",height:400}),h==="bar"&&U.length>0&&i.jsx(_t,{options:{...hs(U.map(k=>k.label),U.length,e.palette.mode),theme:{mode:e.palette.mode}},series:[{name:"Consumption (kWh)",data:F(U)}],type:"bar",height:Math.max(U.length*25+100,500)}),h==="line"&&U.length>0&&i.jsx(_t,{options:{chart:{type:"line",toolbar:{show:!0}},xaxis:{type:"datetime"},stroke:{curve:"smooth",width:2},theme:{mode:e.palette.mode},colors:[e.palette.primary.main]},series:[{name:"Consumption (kWh)",data:B(U)}],type:"line",height:400})]}):i.jsx(X,{sx:{p:10,textAlign:"center",bgcolor:"action.hover",borderRadius:2},children:i.jsx(O,{color:"text.secondary",children:"Select a property and date range to analyze your consumption."})})]})})})})]})})};var Dr={},Po;function Rp(){if(Po)return Dr;Po=1;var e=ge();Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=void 0;var r=e(xe()),t=ye();return Dr.default=(0,r.default)((0,t.jsx)("path",{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4m-4-2V5c0-.55.45-1 1-1s1 .45 1 1v1h-1v1h1v2h-1v1h1v1z"}),"Thermostat"),Dr}var _p=Rp();const Ap=fe(_p),rn=({title:e,value:r,subtitle:t,icon:a,color:n,trend:o})=>i.jsx(_e,{sx:{height:"100%"},children:i.jsxs(Le,{children:[i.jsx(X,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:i.jsx(X,{sx:{p:1,borderRadius:2,bgcolor:`${n}20`,color:n},children:a})}),i.jsx(O,{variant:"h4",component:"div",sx:{fontWeight:"bold",mb:1},children:r}),i.jsx(O,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:e}),i.jsx(O,{variant:"body2",sx:{color:"text.secondary",mt:2},children:t}),o&&i.jsx(O,{variant:"caption",sx:{color:n,mt:1,display:"block"},children:o})]})}),Fp=()=>{const e=lt(),[r,t]=m.useState(!1),[a,n]=m.useState(null),[o,s]=m.useState(null),[l,u]=m.useState(null),[c,d]=m.useState(()=>{const g=new Date;return g.setDate(g.getDate()-30),g}),[p,f]=m.useState(()=>{const g=new Date;return g.setDate(g.getDate()-2),g}),h=g=>{const v=g.getFullYear(),D=String(g.getMonth()+1).padStart(2,"0"),C=String(g.getDate()).padStart(2,"0");return`${v}-${D}-${C}`},x=async()=>{t(!0),u(null);try{const g=h(c),v=h(p),D=await ht(`/api/weather/consumption-temperature?dateFrom=${g}&dateTo=${v}`);if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const C=await D.json();if(!C.success)throw new Error(C.error||"Failed to fetch weather data");n(C);const E=await ht(`/api/weather/correlation?dateFrom=${g}&dateTo=${v}`);if(E.ok){const S=await E.json();S.success&&s(S.correlation)}}catch(g){console.error("Error fetching weather data:",g),u(g.message)}finally{t(!1)}};m.useEffect(()=>{x()},[]);const b=(()=>{if(!a?.data)return{series:[],categories:[]};const g=[],v=[],D=[],C=[];return a.data.forEach(E=>{g.push(E.date),v.push(E.daily_consumption||0),D.push(E.avg_temperature||null),C.push(E.total_precipitation||0)}),{series:[{name:"Daily Consumption",type:"column",yAxisIndex:0,data:v},{name:"Average Temperature",type:"line",yAxisIndex:1,data:D},{name:"Precipitation",type:"area",yAxisIndex:2,data:C}],categories:g}})(),j={chart:{type:"line",height:400,toolbar:{show:!0},zoom:{enabled:!0}},colors:[e.palette.primary.main,e.palette.error.main,e.palette.info.main],dataLabels:{enabled:!1},stroke:{width:[0,2,1],curve:"smooth"},fill:{opacity:[.8,1,.3],type:["solid","solid","gradient"]},xaxis:{categories:b.categories,type:"datetime",labels:{format:"dd MMM"}},yaxis:[{title:{text:"Consumption (kWh)"},labels:{formatter:g=>g!=null?Number(g).toFixed(1):""}},{opposite:!0,title:{text:"Temperature (C)"},labels:{formatter:g=>g!=null?Number(g).toFixed(1)+"C":""}},{opposite:!0,show:!1,title:{text:"Precipitation (mm)"},labels:{formatter:g=>g!=null?Number(g).toFixed(1)+"mm":""}}],tooltip:{shared:!0,intersect:!1,y:{formatter:function(g,{seriesIndex:v}){if(g==null)return"--";const D=Number(g);return v===0?D.toFixed(2)+" kWh":v===1?D.toFixed(1)+"C":v===2?D.toFixed(1)+"mm":D.toString()}}},legend:{position:"top",horizontalAlign:"left"},theme:{mode:e.palette.mode}};return i.jsx(Bt,{dateAdapter:Mn,children:i.jsxs(X,{children:[i.jsxs(X,{sx:{mb:4},children:[i.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Weather Analysis"}),i.jsx(O,{variant:"body1",color:"text.secondary",children:"Analyze how weather conditions correlate with your electricity consumption patterns."})]}),i.jsx(_e,{sx:{mb:3},children:i.jsxs(Le,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,children:"Date Range Selection"}),i.jsxs(Lt,{direction:{xs:"column",md:"row"},spacing:2,alignItems:"center",children:[i.jsx(Ht,{label:"Start Date",value:c,onChange:d,maxDate:new Date,format:"dd/MM/yyyy",slotProps:{textField:{size:"small"}}}),i.jsx(Ht,{label:"End Date",value:p,onChange:f,minDate:c,maxDate:new Date,format:"dd/MM/yyyy",slotProps:{textField:{size:"small"}}}),i.jsx(Se,{variant:"contained",startIcon:r?i.jsx(xt,{size:20,color:"inherit"}):i.jsx(wa,{}),onClick:x,disabled:r,children:r?"Loading...":"Update Data"})]})]})}),l&&i.jsx(Ze,{severity:"error",sx:{mb:3},children:l}),a?.summary&&i.jsxs(te,{container:!0,spacing:3,sx:{mb:4},children:[i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsx(rn,{title:"Total Consumption",value:`${a.summary.totalConsumption} kWh`,subtitle:`Over ${a.summary.totalRecords} days`,icon:i.jsx(ia,{}),color:"#00E5FF"})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsx(rn,{title:"Average Temperature",value:a.summary.avgTemperature?`${a.summary.avgTemperature}C`:"--C",subtitle:"Daily average temperature",icon:i.jsx(Ap,{}),color:"#FF5722"})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsx(rn,{title:"Correlation Score",value:o?.coefficient!==void 0&&o?.coefficient!==null?Number(o.coefficient).toFixed(3):"--",subtitle:o?.strength||"No correlation data",icon:i.jsx(sa,{}),color:"#2196F3",trend:o?.description})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsx(rn,{title:"Data Completeness",value:`${a.summary.completeRecords}/${a.summary.totalRecords}`,subtitle:"Days with both consumption & weather",icon:i.jsx(un,{}),color:"#4CAF50",trend:`${Math.round(a.summary.completeRecords/a.summary.totalRecords*100)}% complete`})})]}),i.jsx(_e,{children:i.jsxs(Le,{children:[i.jsxs(X,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[i.jsx(O,{variant:"h6",children:"Daily Consumption vs Weather"}),a?.summary&&i.jsxs(Lt,{direction:"row",spacing:1,children:[i.jsx(jt,{label:`${a.summary.totalRecords} days`,size:"small",variant:"outlined"}),i.jsx(jt,{label:`${a.summary.completeRecords} complete`,size:"small",color:"success",variant:"outlined"})]})]}),r?i.jsxs(X,{sx:{p:4,textAlign:"center",color:"text.secondary"},children:[i.jsx(xt,{sx:{mb:2}}),i.jsx(O,{variant:"h6",gutterBottom:!0,children:"Loading Weather Data..."}),i.jsx(O,{variant:"body2",children:"Fetching consumption and temperature data for analysis."})]}):!a?.data||a.data.length===0?i.jsxs(X,{sx:{p:4,textAlign:"center",color:"text.secondary"},children:[i.jsx(un,{sx:{fontSize:64,mb:2,opacity:.3}}),i.jsx(O,{variant:"h6",gutterBottom:!0,children:"No Weather Data Available"}),i.jsx(O,{variant:"body2",children:'Select a date range and click "Update Data" to load weather and consumption information.'})]}):i.jsx(_t,{options:j,series:b.series,type:"line",height:400})]})}),o&&i.jsx(_e,{sx:{mt:3},children:i.jsxs(Le,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,children:"Correlation Analysis"}),i.jsxs(te,{container:!0,spacing:2,children:[i.jsxs(te,{item:!0,xs:12,md:6,children:[i.jsx(O,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Temperature-Consumption Correlation"}),i.jsx(O,{variant:"h5",color:"primary",gutterBottom:!0,children:o.coefficient!==void 0&&o.coefficient!==null?Number(o.coefficient).toFixed(3):"N/A"}),i.jsx(jt,{label:o.strength,color:o.strength==="Strong"?"success":o.strength==="Moderate"?"warning":"default",size:"small"})]}),i.jsxs(te,{item:!0,xs:12,md:6,children:[i.jsx(O,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Analysis"}),i.jsx(O,{variant:"body2",children:o.description}),i.jsxs(O,{variant:"caption",display:"block",sx:{mt:1},children:["Based on ",o.sampleSize," days of data"]})]})]})]})})]})})};var Pr={},Co;function Vp(){if(Co)return Pr;Co=1;var e=ge();Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.default=void 0;var r=e(xe()),t=ye();return Pr.default=(0,r.default)((0,t.jsx)("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"}),"TrendingDown"),Pr}var Np=Vp();const Lp=fe(Np),nn=({title:e,current:r,previous:t,change:a,trend:n,unit:o=""})=>{const s=n==="improvement",l=a.startsWith("+");return i.jsx(_e,{sx:{height:"100%"},children:i.jsxs(Le,{children:[i.jsx(O,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:e}),i.jsxs(O,{variant:"h4",component:"div",sx:{fontWeight:"bold",mb:1},children:[r,o]}),i.jsxs(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["vs ",t,o]}),i.jsx(X,{sx:{display:"flex",alignItems:"center",gap:1},children:i.jsx(jt,{icon:l?i.jsx(sa,{}):i.jsx(Lp,{}),label:a,color:s?"success":l?"error":"success",size:"small"})})]})})},Wp=()=>{const[e,r]=m.useState("year_over_year"),[t,a]=m.useState(new Date),[n,o]=m.useState(null),[s,l]=m.useState(!1),u=async()=>{l(!0),setTimeout(()=>{o({totalConsumption:{current:"245",previous:"267",change:"-8.2%"},averageDaily:{current:"12.3",previous:"13.4",change:"-8.2%"},peakUsage:{current:"4.2",previous:"3.8",change:"+10.5%"},efficiencyScore:{current:"87",previous:"82",change:"+6.1%"}}),l(!1)},1500)};return i.jsx(Bt,{dateAdapter:Mn,children:i.jsxs(X,{children:[i.jsxs(X,{sx:{mb:4},children:[i.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Consumption Comparison"}),i.jsx(O,{variant:"body1",color:"text.secondary",children:"Compare your electricity consumption across different time periods to identify trends and improvements."})]}),i.jsx(Ze,{severity:"info",sx:{mb:3},children:"Comparison features are in development. This page will enable period-over-period analysis of your consumption data."}),i.jsx(_e,{sx:{mb:3},children:i.jsxs(Le,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,children:"Comparison Settings"}),i.jsxs(Lt,{direction:{xs:"column",md:"row"},spacing:2,alignItems:"center",children:[i.jsxs(Vr,{size:"small",sx:{minWidth:200},children:[i.jsx(Nr,{children:"Comparison Type"}),i.jsxs(Lr,{value:e,label:"Comparison Type",onChange:c=>r(c.target.value),children:[i.jsx(Ke,{value:"year_over_year",children:"Year over Year"}),i.jsx(Ke,{value:"month_over_month",children:"Month over Month"}),i.jsx(Ke,{value:"week_over_week",children:"Week over Week"}),i.jsx(Ke,{value:"custom",children:"Custom Period"})]})]}),i.jsx(Ht,{label:"Base Period",value:t,onChange:a,maxDate:new Date,format:"dd/MM/yyyy",slotProps:{textField:{size:"small"}}}),i.jsx(Se,{variant:"contained",startIcon:i.jsx(wa,{}),onClick:u,disabled:s,children:s?"Comparing...":"Compare Periods"})]})]})}),n?i.jsxs(i.Fragment,{children:[i.jsxs(te,{container:!0,spacing:3,sx:{mb:4},children:[i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsx(nn,{title:"Total Consumption",current:n.totalConsumption.current,previous:n.totalConsumption.previous,change:n.totalConsumption.change,trend:"improvement",unit:" kWh"})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsx(nn,{title:"Average Daily",current:n.averageDaily.current,previous:n.averageDaily.previous,change:n.averageDaily.change,trend:"improvement",unit:" kWh"})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsx(nn,{title:"Peak Usage",current:n.peakUsage.current,previous:n.peakUsage.previous,change:n.peakUsage.change,trend:"increase",unit:" kWh"})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsx(nn,{title:"Efficiency Score",current:n.efficiencyScore.current,previous:n.efficiencyScore.previous,change:n.efficiencyScore.change,trend:"improvement"})})]}),i.jsx(_e,{children:i.jsxs(Le,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,children:"Period Comparison Chart"}),i.jsxs(X,{sx:{p:4,textAlign:"center",color:"text.secondary"},children:[i.jsx(Qn,{sx:{fontSize:64,mb:2,opacity:.3}}),i.jsx(O,{variant:"h6",gutterBottom:!0,children:"Comparison Chart Coming Soon"}),i.jsx(O,{variant:"body2",children:"This will show side-by-side charts comparing the selected periods with detailed breakdowns."})]})]})})]}):i.jsx(_e,{children:i.jsx(Le,{children:i.jsxs(X,{sx:{p:4,textAlign:"center",color:"text.secondary"},children:[i.jsx(Qn,{sx:{fontSize:64,mb:2,opacity:.3}}),i.jsx(O,{variant:"h6",gutterBottom:!0,children:"No Comparison Data"}),i.jsx(O,{variant:"body2",children:'Select your comparison settings and click "Compare Periods" to analyze your consumption trends.'})]})})})]})})};var Cr={},jo;function $p(){if(jo)return Cr;jo=1;var e=ge();Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.default=void 0;var r=e(xe()),t=ye();return Cr.default=(0,r.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Cr}var Hp=$p();const ea=fe(Hp);var jr={},Mo;function Bp(){if(Mo)return jr;Mo=1;var e=ge();Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=void 0;var r=e(xe()),t=ye();return jr.default=(0,r.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),jr}var zp=Bp();const ta=fe(zp);var Mr={},So;function Yp(){if(So)return Mr;So=1;var e=ge();Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.default=void 0;var r=e(xe()),t=ye();return Mr.default=(0,r.default)((0,t.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event"),Mr}var Up=Yp();const qp=fe(Up);var Sr={},ko;function Gp(){if(ko)return Sr;ko=1;var e=ge();Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.default=void 0;var r=e(xe()),t=ye();return Sr.default=(0,r.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),Sr}var Qp=Gp();const $s=fe(Qp);var kr={},To;function Kp(){if(To)return kr;To=1;var e=ge();Object.defineProperty(kr,"__esModule",{value:!0}),kr.default=void 0;var r=e(xe()),t=ye();return kr.default=(0,r.default)((0,t.jsx)("path",{d:"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1m-1 9h-4v-7h4z"}),"Devices"),kr}var Xp=Kp();const Zp=fe(Xp),Jp=({annotation:e,onEdit:r,onDelete:t})=>{const a=o=>{switch(o){case"vacation":return i.jsx(qp,{});case"guests":return i.jsx($s,{});case"appliance":return i.jsx(Zp,{});case"weather":return i.jsx(un,{});default:return i.jsx(dn,{})}},n=o=>{switch(o){case"vacation":return"primary";case"guests":return"secondary";case"appliance":return"warning";case"weather":return"info";default:return"default"}};return i.jsx(_e,{sx:{mb:2},children:i.jsx(Le,{children:i.jsxs(X,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[i.jsxs(X,{sx:{flex:1},children:[i.jsx(O,{variant:"h6",gutterBottom:!0,children:e.title}),i.jsx(O,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.description}),i.jsxs(Lt,{direction:"row",spacing:1,sx:{mb:2},children:[i.jsx(jt,{icon:a(e.category),label:e.category,color:n(e.category),size:"small"}),i.jsx(jt,{label:e.date,variant:"outlined",size:"small"})]})]}),i.jsxs(X,{children:[i.jsx(We,{size:"small",onClick:()=>r(e),children:i.jsx(dn,{})}),i.jsx(We,{size:"small",onClick:()=>t(e.id),color:"error",children:i.jsx(ta,{})})]})]})})})},ev=()=>{const[e,r]=m.useState([{id:1,title:"Family Visit",description:"Extended family stayed for the weekend, increased heating and cooking usage.",category:"guests",date:"2024-12-15",dateRange:!1},{id:2,title:"New Dishwasher",description:"Installed energy-efficient dishwasher, should see reduction in consumption.",category:"appliance",date:"2024-12-10",dateRange:!1}]),[t,a]=m.useState(!1),[n,o]=m.useState(null),[s,l]=m.useState({title:"",description:"",category:"general",date:new Date,dateRange:!1}),u=()=>{o(null),l({title:"",description:"",category:"general",date:new Date,dateRange:!1}),a(!0)},c=f=>{o(f),l({title:f.title,description:f.description,category:f.category,date:new Date(f.date),dateRange:f.dateRange}),a(!0)},d=()=>{const f={id:n?n.id:Date.now(),title:s.title,description:s.description,category:s.category,date:s.date.toISOString().split("T")[0],dateRange:s.dateRange};r(n?e.map(h=>h.id===n.id?f:h):[...e,f]),a(!1)},p=f=>{r(e.filter(h=>h.id!==f))};return i.jsx(Bt,{dateAdapter:Mn,children:i.jsxs(X,{children:[i.jsxs(X,{sx:{mb:4},children:[i.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Consumption Annotations"}),i.jsx(O,{variant:"body1",color:"text.secondary",children:"Add context and notes to your consumption data to better understand usage patterns."})]}),i.jsx(Ze,{severity:"info",sx:{mb:3},children:"Annotation features are in development. This page will allow you to add contextual notes to specific dates or periods in your consumption data."}),i.jsxs(X,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[i.jsxs(O,{variant:"h6",children:["Your Annotations (",e.length,")"]}),i.jsx(Se,{variant:"contained",startIcon:i.jsx(ea,{}),onClick:u,children:"Add Annotation"})]}),i.jsx(te,{container:!0,spacing:3,children:i.jsx(te,{item:!0,xs:12,children:e.length===0?i.jsx(_e,{children:i.jsx(Le,{children:i.jsxs(X,{sx:{p:4,textAlign:"center",color:"text.secondary"},children:[i.jsx(dn,{sx:{fontSize:64,mb:2,opacity:.3}}),i.jsx(O,{variant:"h6",gutterBottom:!0,children:"No Annotations Yet"}),i.jsx(O,{variant:"body2",children:"Start adding notes to your consumption data to track events that affect your electricity usage."})]})})}):e.map(f=>i.jsx(Jp,{annotation:f,onEdit:c,onDelete:p},f.id))})}),i.jsxs(sn,{open:t,onClose:()=>a(!1),maxWidth:"sm",fullWidth:!0,children:[i.jsx(Gn,{children:n?"Edit Annotation":"Add New Annotation"}),i.jsx(ln,{children:i.jsxs(Lt,{spacing:3,sx:{mt:1},children:[i.jsx(ke,{label:"Title",value:s.title,onChange:f=>l({...s,title:f.target.value}),fullWidth:!0,required:!0}),i.jsx(ke,{label:"Description",value:s.description,onChange:f=>l({...s,description:f.target.value}),fullWidth:!0,multiline:!0,rows:3}),i.jsxs(Vr,{fullWidth:!0,children:[i.jsx(Nr,{children:"Category"}),i.jsxs(Lr,{value:s.category,label:"Category",onChange:f=>l({...s,category:f.target.value}),children:[i.jsx(Ke,{value:"general",children:"General"}),i.jsx(Ke,{value:"vacation",children:"Vacation"}),i.jsx(Ke,{value:"guests",children:"Guests"}),i.jsx(Ke,{value:"appliance",children:"Appliance Change"}),i.jsx(Ke,{value:"weather",children:"Weather Event"})]})]}),i.jsx(Ht,{label:"Date",value:s.date,onChange:f=>l({...s,date:f}),maxDate:new Date,format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0}}})]})}),i.jsxs(cn,{children:[i.jsx(Se,{onClick:()=>a(!1),children:"Cancel"}),i.jsxs(Se,{onClick:d,variant:"contained",disabled:!s.title,children:[n?"Update":"Add"," Annotation"]})]})]})]})})};var Tr={},Io;function tv(){if(Io)return Tr;Io=1;var e=ge();Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.default=void 0;var r=e(xe()),t=ye();return Tr.default=(0,r.default)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Tr}var rv=tv();const nv=fe(rv);var Ir={},Oo;function av(){if(Oo)return Ir;Oo=1;var e=ge();Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.default=void 0;var r=e(xe()),t=ye();return Ir.default=(0,r.default)((0,t.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Ir}var ov=av();const sv=fe(ov);var Or={},Eo;function iv(){if(Eo)return Or;Eo=1;var e=ge();Object.defineProperty(Or,"__esModule",{value:!0}),Or.default=void 0;var r=e(xe()),t=ye();return Or.default=(0,r.default)((0,t.jsx)("path",{d:"M21 10h-8.35C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"Key"),Or}var lv=iv();const cv=fe(lv);var Er={},Ro;function uv(){if(Ro)return Er;Ro=1;var e=ge();Object.defineProperty(Er,"__esModule",{value:!0}),Er.default=void 0;var r=e(xe()),t=ye();return Er.default=(0,r.default)((0,t.jsx)("path",{d:"M12 2c-4.96 0-9 4.04-9 9 0 3.91 2.51 7.24 6 8.47V22h2v-2.06c.33.04.66.06 1 .06s.67-.02 1-.06V22h2v-2.53c3.49-1.24 6-4.57 6-8.47 0-4.96-4.04-9-9-9m2.25 12-3 3-1.5-1.5L11 14.25 9.75 13l3-3 1.5 1.5L13 12.75zM16 9H8V7h8z"}),"ElectricMeter"),Er}var dv=uv();const hv=fe(dv);var Rr={},_o;function fv(){if(_o)return Rr;_o=1;var e=ge();Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.default=void 0;var r=e(xe()),t=ye();return Rr.default=(0,r.default)((0,t.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Rr}var mv=fv();const pv=fe(mv);var _r={},Ao;function vv(){if(Ao)return _r;Ao=1;var e=ge();Object.defineProperty(_r,"__esModule",{value:!0}),_r.default=void 0;var r=e(xe()),t=ye();return _r.default=(0,r.default)((0,t.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),_r}var gv=vv();const yv=fe(gv);var Ar={},Fo;function xv(){if(Fo)return Ar;Fo=1;var e=ge();Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.default=void 0;var r=e(xe()),t=ye();return Ar.default=(0,r.default)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Ar}var wv=xv();const bv=fe(wv);var Fr={},Vo;function Dv(){if(Vo)return Fr;Vo=1;var e=ge();Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.default=void 0;var r=e(xe()),t=ye();return Fr.default=(0,r.default)((0,t.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),Fr}var Pv=Dv();const Cv=fe(Pv),jv=()=>{const[e,r]=m.useState([]),[t,a]=m.useState(!1),[n,o]=m.useState(null),[s,l]=m.useState(null),[u,c]=m.useState(!1),[d,p]=m.useState(!1),[f,h]=m.useState(null),[x,w]=m.useState(null),[b,j]=m.useState(""),[g,v]=m.useState(""),[D,C]=m.useState(""),[E,S]=m.useState(""),[V,T]=m.useState(!0),[W,$]=m.useState(""),[H,U]=m.useState(""),[I,y]=m.useState(localStorage.getItem("admin_token")||""),[F,B]=m.useState(!1),k=()=>{fl(I),_()};m.useEffect(()=>{_()},[]);const _=async()=>{a(!0);try{const A=await ht("/api/settings/properties");if(!A.ok)throw new Error("Failed to fetch properties");const R=await A.json();r(R),R.length>0&&s===null&&l(R[0].id)}catch(A){o(A.message)}finally{a(!1)}},q=async()=>{try{const A=f?"PUT":"POST",R=f?`/api/settings/properties/${f.id}`:"/api/settings/properties";if(!(await ht(R,{method:A,body:JSON.stringify({name:b,refresh_token:g,latitude:D||null,longitude:E||null,weather_sync_enabled:V})})).ok)throw new Error("Failed to save property");c(!1),N(),_()}catch(A){o(A.message)}},re=async(A,R)=>{if(R.stopPropagation(),!!window.confirm("Delete this property and all its metering points?"))try{if(!(await fetch(`/api/settings/properties/${A}`,{method:"DELETE"})).ok)throw new Error("Failed to delete property");_()}catch(z){o(z.message)}},ae=(A,R)=>{R.stopPropagation(),h(A),j(A.name),v(A.refresh_token||""),C(A.latitude||""),S(A.longitude||""),T(A.weather_sync_enabled),c(!0)},N=()=>{h(null),j(""),v(""),C(""),S(""),T(!0)},L=async()=>{try{const A=await ht(`/api/settings/properties/${x}/metering-points`,{method:"POST",body:JSON.stringify({name:W,meteringPointId:H})});if(!A.ok){const R=await A.json().catch(()=>({}));throw new Error(R.error||"Failed to add metering point")}p(!1),$(""),U(""),_()}catch(A){o(A.message)}},oe=async A=>{if(window.confirm("Delete this metering point?"))try{if(!(await fetch(`/api/settings/metering-points/${A}`,{method:"DELETE"})).ok)throw new Error("Failed to delete metering point");_()}catch(R){o(R.message)}};return i.jsxs(X,{sx:{maxWidth:1e3,mx:"auto",p:2},children:[i.jsxs(X,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:[i.jsx(O,{variant:"h4",sx:{fontWeight:"bold"},children:"Settings"}),i.jsx(Se,{variant:"contained",startIcon:i.jsx(ea,{}),onClick:()=>{N(),c(!0)},children:"Add Property"})]}),n&&i.jsx(Ze,{severity:"error",sx:{mb:3},onClose:()=>o(null),children:n}),t&&e.length===0?i.jsx(X,{display:"flex",justifyContent:"center",p:4,children:i.jsx(xt,{})}):i.jsx(te,{container:!0,spacing:3,children:e.map(A=>i.jsx(te,{item:!0,xs:12,children:i.jsxs(_e,{variant:"outlined",sx:{borderRadius:2},children:[i.jsxs(X,{sx:{p:2,display:"flex",alignItems:"center",cursor:"pointer",bgcolor:s===A.id?"action.hover":"inherit","&:hover":{bgcolor:"action.hover"}},onClick:()=>l(s===A.id?null:A.id),children:[i.jsx($s,{sx:{mr:2,color:"primary.main"}}),i.jsxs(X,{sx:{flexGrow:1},children:[i.jsx(O,{variant:"h6",sx:{fontWeight:"medium"},children:A.name}),i.jsxs(O,{variant:"body2",color:"text.secondary",children:[A.meteringPoints?.length||0," Metering Points  ",A.weather_sync_enabled?"Weather Sync On":"Weather Sync Off"]})]}),i.jsxs(X,{children:[i.jsx(ja,{title:"Edit Property",children:i.jsx(We,{onClick:R=>ae(A,R),children:i.jsx(bv,{fontSize:"small"})})}),i.jsx(ja,{title:"Delete Property",children:i.jsx(We,{onClick:R=>re(A.id,R),color:"error",children:i.jsx(ta,{fontSize:"small"})})}),i.jsx(We,{size:"small",children:s===A.id?i.jsx(yv,{}):i.jsx(pv,{})})]})]}),i.jsxs(ni,{in:s===A.id,children:[i.jsx(Rt,{}),i.jsxs(Le,{sx:{bgcolor:"background.default"},children:[i.jsxs(X,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[i.jsxs(O,{variant:"subtitle1",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[i.jsx(hv,{sx:{mr:1,fontSize:"1.2rem"}}),"Metering Points"]}),i.jsx(Se,{size:"small",startIcon:i.jsx(ea,{}),onClick:()=>{w(A.id),p(!0)},children:"Add Meter"})]}),i.jsx(yt,{variant:"outlined",children:i.jsxs(zr,{dense:!0,children:[A.meteringPoints?.map((R,z)=>i.jsxs(oa.Fragment,{children:[z>0&&i.jsx(Rt,{}),i.jsxs(ut,{children:[i.jsx(dt,{primary:R.name,secondary:R.meteringPointId}),i.jsx(ai,{children:i.jsx(We,{edge:"end",size:"small",onClick:()=>oe(R.id),children:i.jsx(ta,{fontSize:"small"})})})]})]},R.id)),(!A.meteringPoints||A.meteringPoints.length===0)&&i.jsx(ut,{children:i.jsx(dt,{secondary:"No metering points added yet.",sx:{fontStyle:"italic"}})})]})}),i.jsxs(X,{sx:{mt:3},children:[i.jsx(O,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Configuration Details"}),i.jsxs(te,{container:!0,spacing:2,children:[i.jsxs(te,{item:!0,xs:12,sm:6,children:[i.jsx(O,{variant:"caption",display:"block",children:"REFRESH TOKEN"}),i.jsx(O,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"action.disabledBackground",p:.5,borderRadius:1},children:A.refresh_token||"None"})]}),i.jsxs(te,{item:!0,xs:12,sm:3,children:[i.jsx(O,{variant:"caption",display:"block",children:"COORDINATES"}),i.jsx(O,{variant:"body2",children:A.latitude&&A.longitude?`${A.latitude}, ${A.longitude}`:"Not set"})]}),i.jsxs(te,{item:!0,xs:12,sm:3,children:[i.jsx(O,{variant:"caption",display:"block",children:"WEATHER SYNC"}),i.jsx(O,{variant:"body2",color:A.weather_sync_enabled?"success.main":"text.disabled",children:A.weather_sync_enabled?"Enabled":"Disabled"})]})]})]})]})]})]})},A.id))}),i.jsx(_e,{sx:{mt:4,borderRadius:2},children:i.jsxs(Le,{children:[i.jsxs(O,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[i.jsx(cv,{sx:{mr:1}}),"Security Settings"]}),i.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Set your Admin Token to manage properties and trigger syncs. This is stored locally in your browser."}),i.jsxs(X,{sx:{display:"flex",gap:2,alignItems:"center"},children:[i.jsx(ke,{size:"small",label:"Admin Token",type:F?"text":"password",value:I,onChange:A=>y(A.target.value),sx:{flexGrow:1},InputProps:{endAdornment:i.jsx(Xe,{position:"end",children:i.jsx(We,{onClick:()=>B(!F),edge:"end",children:F?i.jsx(sv,{}):i.jsx(nv,{})})})}}),i.jsx(Se,{variant:"contained",color:"primary",startIcon:i.jsx(Cv,{}),onClick:k,children:"Save Token"})]})]})}),i.jsx(_e,{sx:{mt:4,borderRadius:2},children:i.jsxs(Le,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Application Settings"}),i.jsx(Ma,{control:i.jsx(Sa,{defaultChecked:!0}),label:"Dark Mode"})]})}),i.jsxs(sn,{open:u,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[i.jsx(Gn,{children:f?"Edit Property":"Add New Property"}),i.jsxs(ln,{children:[i.jsx(ke,{autoFocus:!0,margin:"dense",label:"Property Name (e.g. Summer House)",fullWidth:!0,value:b,onChange:A=>j(A.target.value),sx:{mb:2,mt:1}}),i.jsx(ke,{margin:"dense",label:"Eloverblik Refresh Token",fullWidth:!0,multiline:!0,rows:2,value:g,onChange:A=>v(A.target.value),placeholder:"eyJhbGciOi...",sx:{mb:2}}),i.jsxs(te,{container:!0,spacing:2,children:[i.jsx(te,{item:!0,xs:6,children:i.jsx(ke,{label:"Latitude",fullWidth:!0,value:D,onChange:A=>C(A.target.value),placeholder:"55.1234"})}),i.jsx(te,{item:!0,xs:6,children:i.jsx(ke,{label:"Longitude",fullWidth:!0,value:E,onChange:A=>S(A.target.value),placeholder:"10.5678"})})]}),i.jsx(X,{sx:{mt:2},children:i.jsx(Ma,{control:i.jsx(Sa,{checked:V,onChange:A=>T(A.target.checked)}),label:"Enable Weather Sync"})})]}),i.jsxs(cn,{sx:{p:2,pt:0},children:[i.jsx(Se,{onClick:()=>c(!1),children:"Cancel"}),i.jsx(Se,{onClick:q,variant:"contained",disabled:!b,children:"Save Property"})]})]}),i.jsxs(sn,{open:d,onClose:()=>p(!1),maxWidth:"xs",fullWidth:!0,children:[i.jsx(Gn,{children:"Add Metering Point"}),i.jsxs(ln,{children:[i.jsx(ke,{autoFocus:!0,margin:"dense",label:"Meter Name (e.g. Main Kitchen)",fullWidth:!0,value:W,onChange:A=>$(A.target.value),sx:{mb:2,mt:1}}),i.jsx(ke,{margin:"dense",label:"18-digit Metering Point ID",fullWidth:!0,value:H,onChange:A=>U(A.target.value),inputProps:{maxLength:18}})]}),i.jsxs(cn,{sx:{p:2,pt:0},children:[i.jsx(Se,{onClick:()=>p(!1),children:"Cancel"}),i.jsx(Se,{onClick:L,variant:"contained",disabled:!W||H.length!==18,children:"Add Meter"})]})]})]})},Mv=()=>{const[e,r]=m.useState(""),[t,a]=m.useState(""),[n,o]=m.useState(""),[s,l]=m.useState(!1),{login:u}=qr(),c=Ur(),p=na().state?.from?.pathname||"/",f=async h=>{h.preventDefault(),o(""),l(!0);try{const x=await u(e,t);x.success?c(p,{replace:!0}):o(x.error)}catch{o("An unexpected error occurred. Please try again.")}finally{l(!1)}};return i.jsx(X,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default",p:3},children:i.jsx(_e,{sx:{maxWidth:400,width:"100%",borderRadius:3,boxShadow:10},children:i.jsxs(Le,{sx:{p:4},children:[i.jsxs(X,{sx:{textAlign:"center",mb:4},children:[i.jsx(X,{sx:{width:60,height:60,borderRadius:"50%",bgcolor:"primary.main",display:"inline-flex",alignItems:"center",justifyContent:"center",mb:2,boxShadow:"0 0 20px rgba(0, 229, 255, 0.4)"},children:i.jsx(ia,{sx:{fontSize:35,color:"#fff"}})}),i.jsx(O,{variant:"h4",sx:{fontWeight:"bold"},children:"Welcome Back"}),i.jsx(O,{variant:"body2",color:"text.secondary",children:"Sign in to manage your electricity consumption"})]}),n&&i.jsx(Ze,{severity:"error",sx:{mb:3},children:n}),i.jsxs("form",{onSubmit:f,children:[i.jsx(ke,{fullWidth:!0,label:"Email Address",type:"email",value:e,onChange:h=>r(h.target.value),margin:"normal",required:!0,autoFocus:!0}),i.jsx(ke,{fullWidth:!0,label:"Password",type:"password",value:t,onChange:h=>a(h.target.value),margin:"normal",required:!0}),i.jsx(Se,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:s,sx:{mt:4,py:1.5,borderRadius:2,fontWeight:"bold"},children:s?i.jsx(xt,{size:24,color:"inherit"}):"Sign In"}),i.jsx(Se,{fullWidth:!0,variant:"outlined",size:"large",onClick:()=>{r("admin@example.com"),a("admin123")},sx:{mt:2,borderRadius:2,borderStyle:"dashed"},children:"Developer Bypass (Quick Access)"}),i.jsx(X,{sx:{mt:3,textAlign:"center"},children:i.jsxs(O,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",i.jsx(Yo,{component:aa,to:"/register",underline:"hover",sx:{fontWeight:"medium"},children:"Register here"})]})})]})]})})})},Sv=()=>{const e=Ur(),{register:r}=qr(),[t,a]=m.useState({email:"",password:"",confirmPassword:"",name:""}),[n,o]=m.useState(""),[s,l]=m.useState(!1),[u,c]=m.useState(!1),[d,p]=m.useState(!1),h=(g=>{let v=0;return g.length>=8&&(v+=25),g.length>=12&&(v+=15),/[a-z]/.test(g)&&(v+=15),/[A-Z]/.test(g)&&(v+=15),/[0-9]/.test(g)&&(v+=15),/[^a-zA-Z0-9]/.test(g)&&(v+=15),v})(t.password),x=()=>h<40?"error":h<70?"warning":"success",w=()=>h<40?"Weak":h<70?"Medium":"Strong",b=g=>{a({...t,[g.target.name]:g.target.value}),o("")},j=async g=>{if(g.preventDefault(),o(""),!t.email||!t.password){o("Email and password are required");return}if(t.password!==t.confirmPassword){o("Passwords do not match");return}if(t.password.length<8){o("Password must be at least 8 characters long");return}l(!0);try{const v=await r({email:t.email,password:t.password,name:t.name||void 0});v.success?v.user.onboarding_completed?e("/"):e("/onboarding"):o(v.error||"Registration failed")}catch(v){o(v.message||"An error occurred during registration")}finally{l(!1)}};return i.jsx(X,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",py:4},children:i.jsx(xn,{maxWidth:"sm",children:i.jsx(_e,{elevation:8,sx:{borderRadius:3},children:i.jsxs(Le,{sx:{p:4},children:[i.jsxs(X,{sx:{textAlign:"center",mb:3},children:[i.jsx(oi,{sx:{fontSize:60,color:"primary.main",mb:2}}),i.jsx(O,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Create Account"}),i.jsx(O,{variant:"body2",color:"text.secondary",children:"Join to start tracking your electricity consumption"})]}),n&&i.jsx(Ze,{severity:"error",sx:{mb:3},onClose:()=>o(""),children:n}),i.jsxs("form",{onSubmit:j,children:[i.jsx(ke,{fullWidth:!0,label:"Email",name:"email",type:"email",value:t.email,onChange:b,margin:"normal",required:!0,autoFocus:!0,disabled:s}),i.jsx(ke,{fullWidth:!0,label:"Name (Optional)",name:"name",type:"text",value:t.name,onChange:b,margin:"normal",disabled:s,helperText:"Your display name"}),i.jsx(ke,{fullWidth:!0,label:"Password",name:"password",type:u?"text":"password",value:t.password,onChange:b,margin:"normal",required:!0,disabled:s,InputProps:{endAdornment:i.jsx(Xe,{position:"end",children:i.jsx(We,{onClick:()=>c(!u),edge:"end",children:u?i.jsx(Wr,{}):i.jsx($r,{})})})}}),t.password&&i.jsxs(X,{sx:{mt:1,mb:2},children:[i.jsxs(X,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[i.jsx(O,{variant:"caption",color:"text.secondary",children:"Password Strength:"}),i.jsx(O,{variant:"caption",color:`${x()}.main`,children:w()})]}),i.jsx(si,{variant:"determinate",value:h,color:x(),sx:{height:6,borderRadius:3}})]}),i.jsx(ke,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:d?"text":"password",value:t.confirmPassword,onChange:b,margin:"normal",required:!0,disabled:s,error:t.confirmPassword&&t.password!==t.confirmPassword,helperText:t.confirmPassword&&t.password!==t.confirmPassword?"Passwords do not match":"",InputProps:{endAdornment:i.jsx(Xe,{position:"end",children:i.jsx(We,{onClick:()=>p(!d),edge:"end",children:d?i.jsx(Wr,{}):i.jsx($r,{})})})}}),i.jsx(Se,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:s,sx:{mt:3,mb:2,py:1.5},children:s?"Creating Account...":"Create Account"}),i.jsx(X,{sx:{textAlign:"center"},children:i.jsxs(O,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",i.jsx(Yo,{component:aa,to:"/login",underline:"hover",children:"Sign in here"})]})})]})]})})})})},kv=()=>{const{user:e,updateProfile:r}=qr(),[t,a]=m.useState({name:e?.name||"",email:e?.email||""}),[n,o]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,l]=m.useState(!1),[u,c]=m.useState(!1),[d,p]=m.useState(!1),[f,h]=m.useState(""),[x,w]=m.useState(""),[b,j]=m.useState(!1),g=S=>{a({...t,[S.target.name]:S.target.value}),w(""),h("")},v=S=>{o({...n,[S.target.name]:S.target.value}),w(""),h("")},D=async S=>{S.preventDefault(),w(""),h(""),j(!0);try{const V=await r({name:t.name,email:t.email});V.success?h("Profile updated successfully"):w(V.error||"Failed to update profile")}catch(V){w(V.message||"An error occurred")}finally{j(!1)}},C=async S=>{if(S.preventDefault(),w(""),h(""),n.newPassword!==n.confirmPassword){w("New passwords do not match");return}if(n.newPassword.length<8){w("Password must be at least 8 characters long");return}j(!0);try{const V=await r({currentPassword:n.currentPassword,newPassword:n.newPassword});V.success?(h("Password changed successfully"),o({currentPassword:"",newPassword:"",confirmPassword:""})):w(V.error||"Failed to change password")}catch(V){w(V.message||"An error occurred")}finally{j(!1)}},E=()=>e?.name?e.name.split(" ").map(S=>S[0]).join("").toUpperCase().slice(0,2):e?.email?.charAt(0).toUpperCase()||"U";return i.jsxs(xn,{maxWidth:"lg",sx:{py:4},children:[i.jsxs(X,{sx:{mb:4},children:[i.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Profile Settings"}),i.jsx(O,{variant:"body1",color:"text.secondary",children:"Manage your account information and security settings"})]}),x&&i.jsx(Ze,{severity:"error",sx:{mb:3},onClose:()=>w(""),children:x}),f&&i.jsx(Ze,{severity:"success",sx:{mb:3},onClose:()=>h(""),children:f}),i.jsxs(te,{container:!0,spacing:3,children:[i.jsx(te,{item:!0,xs:12,md:6,children:i.jsx(_e,{children:i.jsxs(Le,{sx:{p:3},children:[i.jsxs(X,{sx:{display:"flex",alignItems:"center",mb:3},children:[i.jsx(Wo,{sx:{width:64,height:64,bgcolor:"primary.main",fontSize:"1.5rem",mr:2},children:E()}),i.jsxs(X,{children:[i.jsx(O,{variant:"h6",sx:{fontWeight:"medium"},children:e?.name||"User"}),i.jsx(O,{variant:"body2",color:"text.secondary",children:e?.email})]})]}),i.jsx(Rt,{sx:{my:3}}),i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:"Personal Information"}),i.jsxs("form",{onSubmit:D,children:[i.jsx(ke,{fullWidth:!0,label:"Name",name:"name",value:t.name,onChange:g,margin:"normal",disabled:b,InputProps:{startAdornment:i.jsx(Xe,{position:"start",children:i.jsx(ii,{})})}}),i.jsx(ke,{fullWidth:!0,label:"Email",name:"email",type:"email",value:t.email,onChange:g,margin:"normal",disabled:b,InputProps:{startAdornment:i.jsx(Xe,{position:"start",children:i.jsx(li,{})})}}),i.jsx(Se,{type:"submit",variant:"contained",disabled:b,sx:{mt:3},fullWidth:!0,children:"Save Changes"})]})]})})}),i.jsx(te,{item:!0,xs:12,md:6,children:i.jsx(_e,{children:i.jsxs(Le,{sx:{p:3},children:[i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{mb:2},children:"Change Password"}),i.jsx(O,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Ensure your account stays secure by using a strong password"}),i.jsxs("form",{onSubmit:C,children:[i.jsx(ke,{fullWidth:!0,label:"Current Password",name:"currentPassword",type:s?"text":"password",value:n.currentPassword,onChange:v,margin:"normal",disabled:b,InputProps:{startAdornment:i.jsx(Xe,{position:"start",children:i.jsx(Nn,{})}),endAdornment:i.jsx(Xe,{position:"end",children:i.jsx(We,{onClick:()=>l(!s),edge:"end",children:s?i.jsx(Wr,{}):i.jsx($r,{})})})}}),i.jsx(ke,{fullWidth:!0,label:"New Password",name:"newPassword",type:u?"text":"password",value:n.newPassword,onChange:v,margin:"normal",disabled:b,helperText:"Minimum 8 characters",InputProps:{startAdornment:i.jsx(Xe,{position:"start",children:i.jsx(Nn,{})}),endAdornment:i.jsx(Xe,{position:"end",children:i.jsx(We,{onClick:()=>c(!u),edge:"end",children:u?i.jsx(Wr,{}):i.jsx($r,{})})})}}),i.jsx(ke,{fullWidth:!0,label:"Confirm New Password",name:"confirmPassword",type:d?"text":"password",value:n.confirmPassword,onChange:v,margin:"normal",disabled:b,error:n.confirmPassword&&n.newPassword!==n.confirmPassword,helperText:n.confirmPassword&&n.newPassword!==n.confirmPassword?"Passwords do not match":"",InputProps:{startAdornment:i.jsx(Xe,{position:"start",children:i.jsx(Nn,{})}),endAdornment:i.jsx(Xe,{position:"end",children:i.jsx(We,{onClick:()=>p(!d),edge:"end",children:d?i.jsx(Wr,{}):i.jsx($r,{})})})}}),i.jsx(Se,{type:"submit",variant:"contained",disabled:b||!n.currentPassword||!n.newPassword,sx:{mt:3},fullWidth:!0,children:"Update Password"})]})]})})}),i.jsx(te,{item:!0,xs:12,children:i.jsx(_e,{children:i.jsxs(Le,{sx:{p:3},children:[i.jsx(O,{variant:"h6",gutterBottom:!0,children:"Account Summary"}),i.jsxs(te,{container:!0,spacing:2,sx:{mt:1},children:[i.jsxs(te,{item:!0,xs:12,sm:6,md:3,children:[i.jsx(O,{variant:"body2",color:"text.secondary",children:"Account Status"}),i.jsx(O,{variant:"body1",sx:{fontWeight:"medium"},children:"Active"})]}),i.jsxs(te,{item:!0,xs:12,sm:6,md:3,children:[i.jsx(O,{variant:"body2",color:"text.secondary",children:"Onboarding Status"}),i.jsx(O,{variant:"body1",sx:{fontWeight:"medium"},children:e?.onboarding_completed?"Complete":"Pending"})]}),i.jsxs(te,{item:!0,xs:12,sm:6,md:3,children:[i.jsx(O,{variant:"body2",color:"text.secondary",children:"Email"}),i.jsx(O,{variant:"body1",sx:{fontWeight:"medium"},children:e?.email})]}),i.jsxs(te,{item:!0,xs:12,sm:6,md:3,children:[i.jsx(O,{variant:"body2",color:"text.secondary",children:"User ID"}),i.jsxs(O,{variant:"body1",sx:{fontWeight:"medium"},children:["#",e?.id]})]})]})]})})})]})]})},No=["Welcome","Property Info","El-overblik Token","Metering Points","Coordinates","Review"],Tv=({onComplete:e,onSkip:r})=>{const t=Ur(),[a,n]=m.useState(0),[o,s]=m.useState(""),[l,u]=m.useState(!1),[c,d]=m.useState({name:"",address:"",refreshToken:"",latitude:"",longitude:"",meteringPoints:[{name:"",meteringPointId:""}]}),p=()=>{if(s(""),a===1&&!c.name.trim()){s("Property name is required");return}if(a===2&&!c.refreshToken.trim()){s("El-overblik refresh token is required");return}if(a===3&&c.meteringPoints.filter(D=>D.meteringPointId.trim().length===18).length===0){s("At least one valid 18-digit metering point ID is required");return}if(a===4){if(c.latitude&&(parseFloat(c.latitude)<-90||parseFloat(c.latitude)>90)){s("Latitude must be between -90 and 90");return}if(c.longitude&&(parseFloat(c.longitude)<-180||parseFloat(c.longitude)>180)){s("Longitude must be between -180 and 180");return}}n(v=>v+1)},f=()=>{s(""),n(v=>v-1)},h=(v,D)=>{d({...c,[v]:D}),s("")},x=(v,D,C)=>{const E=[...c.meteringPoints];E[v][D]=C,d({...c,meteringPoints:E}),s("")},w=()=>{d({...c,meteringPoints:[...c.meteringPoints,{name:"",meteringPointId:""}]})},b=v=>{if(c.meteringPoints.length>1){const D=c.meteringPoints.filter((C,E)=>E!==v);d({...c,meteringPoints:D})}},j=async()=>{s(""),u(!0);try{const v=await ht("/api/settings/properties",{method:"POST",body:JSON.stringify({name:c.name,address:c.address||null,refresh_token:c.refreshToken,latitude:c.latitude||null,longitude:c.longitude||null,weather_sync_enabled:!!(c.latitude&&c.longitude)})});if(!v.ok)throw new Error("Failed to create property");const D=await v.json(),C=c.meteringPoints.filter(E=>E.meteringPointId.trim().length===18);for(const E of C)(await ht(`/api/settings/properties/${D.id}/metering-points`,{method:"POST",body:JSON.stringify({name:E.name||"Main Meter",meteringPointId:E.meteringPointId.trim()})})).ok||console.error("Failed to add metering point:",E);e?e():t("/")}catch(v){s(v.message||"Failed to create property")}finally{u(!1)}},g=()=>{switch(a){case 0:return i.jsxs(X,{sx:{textAlign:"center",py:4},children:[i.jsx(Ta,{sx:{fontSize:80,color:"primary.main",mb:3}}),i.jsx(O,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Welcome to Property Setup!"}),i.jsx(O,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Let's set up your first property to start tracking electricity consumption."}),i.jsx(O,{variant:"body2",color:"text.secondary",paragraph:!0,children:"This wizard will guide you through:"}),i.jsx(X,{sx:{mt:3},children:i.jsxs(te,{container:!0,spacing:2,justifyContent:"center",children:[i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(yt,{elevation:1,sx:{p:2},children:[i.jsx(Ta,{color:"primary"}),i.jsx(O,{variant:"caption",display:"block",children:"Property Details"})]})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(yt,{elevation:1,sx:{p:2},children:[i.jsx(vi,{color:"primary"}),i.jsx(O,{variant:"caption",display:"block",children:"API Token"})]})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(yt,{elevation:1,sx:{p:2},children:[i.jsx(gi,{color:"primary"}),i.jsx(O,{variant:"caption",display:"block",children:"Meter ID"})]})}),i.jsx(te,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(yt,{elevation:1,sx:{p:2},children:[i.jsx(yi,{color:"primary"}),i.jsx(O,{variant:"caption",display:"block",children:"Location"})]})})]})}),r&&i.jsx(Se,{variant:"text",onClick:r,sx:{mt:4},children:"Skip for now, I'll set up manually later"})]});case 1:return i.jsxs(X,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:3},children:"Property Information"}),i.jsx(ke,{fullWidth:!0,required:!0,label:"Property Name",placeholder:"e.g., Summer House, Copenhagen Apartment",value:c.name,onChange:v=>h("name",v.target.value),margin:"normal",helperText:"Give your property a descriptive name"}),i.jsx(ke,{fullWidth:!0,label:"Address (Optional)",placeholder:"e.g., Nyhavn 12, 1051 Copenhagen",value:c.address,onChange:v=>h("address",v.target.value),margin:"normal",helperText:"Optional: Physical address of the property"})]});case 2:return i.jsxs(X,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"El-overblik Refresh Token"}),i.jsxs(Ze,{severity:"info",sx:{mb:3},children:[i.jsx(O,{variant:"body2",gutterBottom:!0,sx:{fontWeight:"medium"},children:"How to get your refresh token:"}),i.jsxs(zr,{dense:!0,children:[i.jsx(ut,{children:i.jsx(dt,{primary:"1. Go to eloverblik.dk and log in",primaryTypographyProps:{variant:"body2"}})}),i.jsx(ut,{children:i.jsx(dt,{primary:"2. Navigate to Settings  API",primaryTypographyProps:{variant:"body2"}})}),i.jsx(ut,{children:i.jsx(dt,{primary:"3. Generate a new refresh token or copy your existing one",primaryTypographyProps:{variant:"body2"}})}),i.jsx(ut,{children:i.jsx(dt,{primary:"4. Paste the token in the field below",primaryTypographyProps:{variant:"body2"}})})]})]}),i.jsx(ke,{fullWidth:!0,required:!0,label:"Refresh Token",placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",value:c.refreshToken,onChange:v=>h("refreshToken",v.target.value),multiline:!0,rows:3,margin:"normal",helperText:"Paste your el-overblik refresh token here"})]});case 3:return i.jsxs(X,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"Metering Points"}),i.jsx(Ze,{severity:"info",sx:{mb:3},children:i.jsx(O,{variant:"body2",children:"Your metering point ID is an 18-digit number found on your electricity bill or in el-overblik.dk"})}),c.meteringPoints.map((v,D)=>i.jsxs(yt,{variant:"outlined",sx:{p:2,mb:2},children:[i.jsxs(X,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[i.jsxs(O,{variant:"subtitle2",children:["Meter #",D+1]}),c.meteringPoints.length>1&&i.jsx(We,{size:"small",onClick:()=>b(D),color:"error",children:i.jsx(mi,{})})]}),i.jsx(ke,{fullWidth:!0,label:"Meter Name (Optional)",placeholder:"e.g., Main Kitchen, Garage",value:v.name,onChange:C=>x(D,"name",C.target.value),margin:"dense",size:"small"}),i.jsx(ke,{fullWidth:!0,required:!0,label:"18-digit Metering Point ID",placeholder:"571313174012345678",value:v.meteringPointId,onChange:C=>{const E=C.target.value.replace(/\D/g,"").slice(0,18);x(D,"meteringPointId",E)},margin:"dense",size:"small",error:v.meteringPointId&&v.meteringPointId.length!==18,helperText:v.meteringPointId&&v.meteringPointId.length!==18?`${v.meteringPointId.length}/18 digits`:"18 digits required",inputProps:{maxLength:18}})]},D)),i.jsx(Se,{startIcon:i.jsx(pi,{}),onClick:w,variant:"outlined",fullWidth:!0,children:"Add Another Meter"})]});case 4:return i.jsxs(X,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:2},children:"Property Location"}),i.jsx(Ze,{severity:"info",sx:{mb:3},children:i.jsx(O,{variant:"body2",children:"Optional: Add coordinates for weather data integration. You can find these on Google Maps by right-clicking the location."})}),i.jsxs(te,{container:!0,spacing:2,children:[i.jsx(te,{item:!0,xs:12,sm:6,children:i.jsx(ke,{fullWidth:!0,label:"Latitude",placeholder:"55.676098",value:c.latitude,onChange:v=>h("latitude",v.target.value),type:"number",inputProps:{step:"any",min:-90,max:90},helperText:"Range: -90 to 90"})}),i.jsx(te,{item:!0,xs:12,sm:6,children:i.jsx(ke,{fullWidth:!0,label:"Longitude",placeholder:"12.568337",value:c.longitude,onChange:v=>h("longitude",v.target.value),type:"number",inputProps:{step:"any",min:-180,max:180},helperText:"Range: -180 to 180"})})]})]});case 5:return i.jsxs(X,{children:[i.jsx(O,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:3},children:"Review Your Property Setup"}),i.jsx(yt,{variant:"outlined",sx:{p:3},children:i.jsxs(te,{container:!0,spacing:2,children:[i.jsxs(te,{item:!0,xs:12,children:[i.jsx(O,{variant:"subtitle2",color:"text.secondary",children:"Property Name"}),i.jsx(O,{variant:"body1",sx:{fontWeight:"medium"},children:c.name})]}),c.address&&i.jsxs(te,{item:!0,xs:12,children:[i.jsx(O,{variant:"subtitle2",color:"text.secondary",children:"Address"}),i.jsx(O,{variant:"body1",children:c.address})]}),i.jsx(te,{item:!0,xs:12,children:i.jsx(Rt,{})}),i.jsxs(te,{item:!0,xs:12,children:[i.jsx(O,{variant:"subtitle2",color:"text.secondary",children:"Refresh Token"}),i.jsxs(O,{variant:"body2",sx:{fontFamily:"monospace",wordBreak:"break-all"},children:[c.refreshToken.substring(0,20),"..."]})]}),i.jsx(te,{item:!0,xs:12,children:i.jsx(Rt,{})}),i.jsxs(te,{item:!0,xs:12,children:[i.jsxs(O,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:["Metering Points (",c.meteringPoints.filter(v=>v.meteringPointId.length===18).length,")"]}),i.jsx(zr,{dense:!0,children:c.meteringPoints.filter(v=>v.meteringPointId.length===18).map((v,D)=>i.jsxs(ut,{children:[i.jsx(qn,{children:i.jsx(ka,{color:"success",fontSize:"small"})}),i.jsx(dt,{primary:v.name||`Meter ${D+1}`,secondary:v.meteringPointId,secondaryTypographyProps:{sx:{fontFamily:"monospace"}}})]},D))})]}),(c.latitude||c.longitude)&&i.jsxs(i.Fragment,{children:[i.jsx(te,{item:!0,xs:12,children:i.jsx(Rt,{})}),i.jsxs(te,{item:!0,xs:12,children:[i.jsx(O,{variant:"subtitle2",color:"text.secondary",children:"Coordinates"}),i.jsxs(O,{variant:"body2",children:[c.latitude,", ",c.longitude]}),i.jsx(O,{variant:"caption",color:"success.main",children:" Weather data will be enabled"})]})]})]})})]});default:return null}};return i.jsx(xn,{maxWidth:"md",sx:{py:4},children:i.jsx(_e,{elevation:3,children:i.jsxs(Le,{sx:{p:4},children:[i.jsx(ci,{activeStep:a,sx:{mb:4},children:No.map(v=>i.jsx(ui,{children:i.jsx(di,{children:v})},v))}),o&&i.jsx(Ze,{severity:"error",sx:{mb:3},onClose:()=>s(""),children:o}),i.jsx(X,{sx:{minHeight:400},children:g()}),i.jsxs(X,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[i.jsx(Se,{disabled:a===0,onClick:f,startIcon:i.jsx(hi,{}),children:"Back"}),i.jsx(X,{children:a<No.length-1?i.jsx(Se,{variant:"contained",onClick:p,endIcon:i.jsx(fi,{}),children:"Next"}):i.jsx(Se,{variant:"contained",onClick:j,disabled:l,endIcon:i.jsx(ka,{}),children:l?"Creating...":"Complete Setup"})})]})]})})})},Iv=()=>{const e=Ur(),r=()=>{e("/",{replace:!0})},t=()=>{e("/settings")};return i.jsx(Tv,{onComplete:r,onSkip:t})},Ov=()=>{const r=(()=>{const y=new Date;y.setDate(y.getDate()-2);const F=new Date(y);F.setDate(F.getDate()-7);const B=k=>{const _=k.getFullYear(),q=String(k.getMonth()+1).padStart(2,"0"),re=String(k.getDate()).padStart(2,"0");return`${_}-${q}-${re}`};return{startDate:B(F),endDate:B(y)}})(),[t,a]=m.useState(null),[n,o]=m.useState(!1),[s,l]=m.useState(null),[u,c]=m.useState(r.startDate),[d,p]=m.useState(r.endDate),[f,h]=m.useState(null),[x,w]=m.useState([]),[b,j]=m.useState(""),[g,v]=m.useState("");oa.useEffect(()=>{(async()=>{try{const F=await fetch("/api/settings/properties");if(F.ok){const B=await F.json();w(B),B.length>0&&(j(B[0].id),B[0].meteringPoints?.length>0&&v(B[0].meteringPoints[0].id))}}catch(F){console.error("Failed to fetch properties:",F)}})()},[]);const D=y=>{const F=y.target.value;j(F);const B=x.find(k=>k.id===parseInt(F));B?.meteringPoints?.length>0?v(B.meteringPoints[0].id):v("")},C=(y,F)=>{const B=new Date(y),k=new Date(F);return B>k?"Start date must be before or equal to end date":Math.ceil(Math.abs(k-B)/(1e3*60*60*24))>730?"Date range cannot exceed 730 days":null},E=async()=>{const y=C(u,d);if(y){h(y);return}o(!0),l(null),h(null);try{let F=`/api/test-data?dateFrom=${u}&dateTo=${d}`;g?F+=`&meteringPointId=${g}`:b&&(F+=`&propertyId=${b}`);const B=await fetch(F);if(!B.ok)throw new Error(`HTTP error! status: ${B.status}`);const k=await B.json();a(k)}catch(F){console.error("Error fetching data:",F),l("Failed to fetch data from Eloverblik API. Verify your refresh token.")}finally{o(!1)}},S=y=>{const F=y?.result?.[0];if(!F?.success||F?.errorCode!==1e4)return[];const B=F.MyEnergyData_MarketDocument?.TimeSeries?.[0];if(!B)return[];const k=B.Period||[],_=[];return k.forEach(q=>{const re=q.Point||[],ae=new Date(q.timeInterval?.start||new Date);re.forEach(N=>{const L=new Date(ae);L.setHours(ae.getHours()+(parseInt(N.position)-1));const oe=parseFloat(N["out_Quantity.quantity"]||0);_.push({timestamp:L,label:L.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1})+" "+L.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),consumption:oe})})}),_.sort((q,re)=>q.timestamp-re.timestamp)},V=y=>{const F=y?.result?.[0];if(!F?.success||F?.errorCode!==1e4)return[];const B=F.MyEnergyData_MarketDocument?.TimeSeries?.[0];if(!B)return[];const k=B.Period||[],_={};return k.forEach(q=>{const re=q.Point||[],ae=new Date(q.timeInterval?.start||new Date);re.forEach(N=>{const L=new Date(ae);L.setHours(ae.getHours()+(parseInt(N.position)-1));const oe=L.toLocaleDateString("en-GB"),A=parseFloat(N["out_Quantity.quantity"]||0);_[oe]||(_[oe]={date:oe,timestamp:new Date(L.getFullYear(),L.getMonth(),L.getDate()),consumptions:[]}),_[oe].consumptions.push(A)})}),Object.values(_).map(q=>{const re=q.consumptions.sort((ae,N)=>ae-N);return{date:q.date,timestamp:q.timestamp,min:Math.min(...re),max:Math.max(...re),avg:re.reduce((ae,N)=>ae+N,0)/re.length}}).sort((q,re)=>q.timestamp-re.timestamp)},T=t?S(t):[],W=t?V(t):[],$=y=>y.map(F=>({x:F.date,y:[F.avg,F.max,F.min,F.avg]})),H=y=>y.map(F=>F.consumption),I=x.find(y=>y.id===parseInt(b))?.meteringPoints||[];return i.jsxs("div",{className:"api-demo",children:[i.jsxs("div",{className:"demo-header",children:[i.jsx("h2",{children:" Eloverblik API Fetcher"}),i.jsx("p",{children:"Pull live data from Eloverblik for your properties"}),i.jsxs("div",{className:"date-picker-container",children:[i.jsxs("div",{className:"config-group",style:{display:"flex",gap:"15px",marginBottom:"15px",flexWrap:"wrap"},children:[i.jsxs("div",{className:"config-selector",style:{flex:1,minWidth:"200px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Property (Refresh Token)"}),i.jsxs("select",{value:b,onChange:D,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"100%"},children:[i.jsx("option",{value:"",children:"Select Property"}),x.map(y=>i.jsx("option",{value:y.id,children:y.name},y.id))]})]}),i.jsxs("div",{className:"config-selector",style:{flex:1,minWidth:"200px"},children:[i.jsx("label",{style:{display:"block",marginBottom:"5px"},children:"Metering Point"}),i.jsxs("select",{value:g,onChange:y=>v(y.target.value),disabled:!b,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",width:"100%"},children:[I.map(y=>i.jsxs("option",{value:y.id,children:[y.name," (",y.meteringPointId,")"]},y.id)),I.length===0&&i.jsx("option",{value:"",children:"No meters found"})]})]})]}),i.jsxs("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[i.jsxs("div",{className:"date-input-group",children:[i.jsx("label",{children:"Start Date"}),i.jsx("input",{type:"date",value:u,onChange:y=>c(y.target.value)})]}),i.jsxs("div",{className:"date-input-group",children:[i.jsx("label",{children:"End Date"}),i.jsx("input",{type:"date",value:d,onChange:y=>p(y.target.value)})]})]})]}),f&&i.jsx("div",{className:"date-error",style:{color:"red",marginTop:"10px"},children:f}),i.jsx("button",{onClick:E,disabled:n||!b,className:"fetch-button",children:n?" Fetching...":" Fetch Live Data"})]}),s&&i.jsx("div",{className:"error-message",style:{background:"#ffeeee",p:"15px",color:"red",borderRadius:"4px",mt:"10px"},children:s}),i.jsx("div",{className:"chart-container",children:W.length>0?i.jsx("div",{className:"chart-wrapper",children:i.jsx(_t,{options:ds(W.map(y=>y.date)),series:[{data:$(W)}],type:"candlestick",height:400})}):i.jsx("div",{className:"no-data",children:"No data fetched yet. Select property and dates."})}),i.jsx("div",{className:"chart-container",children:T.length>0&&i.jsx("div",{className:"chart-wrapper-hourly",children:i.jsx(_t,{options:hs(T.map(y=>y.label),T.length),series:[{name:"Consumption (kWh)",data:H(T)}],type:"bar",height:Math.max(T.length*25+200,600)})})})]})},Lo=({children:e})=>{const{user:r,loading:t}=qr(),a=na();return t?i.jsx(X,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:i.jsx(xt,{})}):r?e:i.jsx(Ci,{to:"/login",state:{from:a},replace:!0})};function Ev(){return i.jsxs(xi,{theme:Ii,children:[i.jsx(wi,{}),i.jsx(ml,{children:i.jsx(ji,{children:i.jsxs(Ia,{children:[i.jsx(Je,{path:"/login",element:i.jsx(Mv,{})}),i.jsx(Je,{path:"/register",element:i.jsx(Sv,{})}),i.jsx(Je,{path:"/onboarding",element:i.jsx(Lo,{children:i.jsx(Iv,{})})}),i.jsx(Je,{path:"/*",element:i.jsx(Lo,{children:i.jsx(gl,{children:i.jsxs(Ia,{children:[i.jsx(Je,{path:"/",element:i.jsx(Wl,{})}),i.jsx(Je,{path:"/analysis",element:i.jsx(Ep,{})}),i.jsx(Je,{path:"/weather",element:i.jsx(Fp,{})}),i.jsx(Je,{path:"/compare",element:i.jsx(Wp,{})}),i.jsx(Je,{path:"/annotate",element:i.jsx(ev,{})}),i.jsx(Je,{path:"/settings",element:i.jsx(jv,{})}),i.jsx(Je,{path:"/profile",element:i.jsx(kv,{})}),i.jsx(Je,{path:"/api-demo",element:i.jsx(Ov,{})})]})})})})]})})})]})}const Rv=Ti.createRoot(document.getElementById("root"));Rv.render(i.jsx(oa.StrictMode,{children:i.jsx(Ev,{})}));
